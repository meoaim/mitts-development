const Nn=function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))t(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&t(l)}).observe(document,{childList:!0,subtree:!0});function a(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerpolicy&&(r.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?r.credentials="include":s.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function t(s){if(s.ep)return;s.ep=!0;const r=a(s);fetch(s.href,r)}};Nn();function N(){}function vn(n,e){for(const a in e)n[a]=e[a];return n}function kn(n){return n()}function vt(){return Object.create(null)}function Fe(n){n.forEach(kn)}function Dn(n){return typeof n=="function"}function Y(n,e){return n!=n?e==e:n!==e||n&&typeof n=="object"||typeof n=="function"}let tt;function Re(n,e){return tt||(tt=document.createElement("a")),tt.href=e,n===tt.href}function Bn(n){return Object.keys(n).length===0}function An(n,...e){if(n==null)return N;const a=n.subscribe(...e);return a.unsubscribe?()=>a.unsubscribe():a}function ne(n,e,a){n.$$.on_destroy.push(An(e,a))}function gt(n,e,a,t){if(n){const s=In(n,e,a,t);return n[0](s)}}function In(n,e,a,t){return n[1]&&t?vn(a.ctx.slice(),n[1](t(e))):a.ctx}function pt(n,e,a,t){if(n[2]&&t){const s=n[2](t(a));if(e.dirty===void 0)return s;if(typeof s=="object"){const r=[],l=Math.max(e.dirty.length,s.length);for(let c=0;c<l;c+=1)r[c]=e.dirty[c]|s[c];return r}return e.dirty|s}return e.dirty}function mt(n,e,a,t,s,r){if(s){const l=In(e,a,t,r);n.p(l,s)}}function bt(n){if(n.ctx.length>32){const e=[],a=n.ctx.length/32;for(let t=0;t<a;t++)e[t]=-1;return e}return-1}function it(n){return n==null?"":n}function J(n,e,a){return n.set(a),e}function w(n,e){n.appendChild(e)}function C(n,e,a){n.insertBefore(e,a||null)}function y(n){n.parentNode.removeChild(n)}function Me(n,e){for(let a=0;a<n.length;a+=1)n[a]&&n[a].d(e)}function j(n){return document.createElement(n)}function q(n){return document.createElementNS("http://www.w3.org/2000/svg",n)}function K(n){return document.createTextNode(n)}function x(){return K(" ")}function Oe(){return K("")}function de(n,e,a,t){return n.addEventListener(e,a,t),()=>n.removeEventListener(e,a,t)}function i(n,e,a){a==null?n.removeAttribute(e):n.getAttribute(e)!==a&&n.setAttribute(e,a)}function jn(n){return n===""?null:+n}function qn(n){return Array.from(n.childNodes)}function ee(n,e){e=""+e,n.wholeText!==e&&(n.data=e)}function Pe(n,e){n.value=e==null?"":e}function ve(n,e,a,t){a===null?n.style.removeProperty(e):n.style.setProperty(e,a,t?"important":"")}function ct(n,e){for(let a=0;a<n.options.length;a+=1){const t=n.options[a];if(t.__value===e){t.selected=!0;return}}n.selectedIndex=-1}function yn(n){const e=n.querySelector(":checked")||n.options[0];return e&&e.__value}let nt;function zn(){if(nt===void 0){nt=!1;try{typeof window!="undefined"&&window.parent&&window.parent.document}catch{nt=!0}}return nt}function Cn(n,e){getComputedStyle(n).position==="static"&&(n.style.position="relative");const t=j("iframe");t.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),t.setAttribute("aria-hidden","true"),t.tabIndex=-1;const s=zn();let r;return s?(t.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",r=de(window,"message",l=>{l.source===t.contentWindow&&e()})):(t.src="about:blank",t.onload=()=>{r=de(t.contentWindow,"resize",e)}),w(n,t),()=>{(s||r&&t.contentWindow)&&r(),y(t)}}function at(n,e,a){n.classList[a?"add":"remove"](e)}function Tn(n,e,{bubbles:a=!1,cancelable:t=!1}={}){const s=document.createEvent("CustomEvent");return s.initCustomEvent(n,a,t,e),s}let Xe;function Ge(n){Xe=n}function Sn(){if(!Xe)throw new Error("Function called outside component initialization");return Xe}function Hn(n){Sn().$$.on_mount.push(n)}function Ce(){const n=Sn();return(e,a,{cancelable:t=!1}={})=>{const s=n.$$.callbacks[e];if(s){const r=Tn(e,a,{cancelable:t});return s.slice().forEach(l=>{l.call(n,r)}),!r.defaultPrevented}return!0}}const Ye=[],H=[],lt=[],ht=[],En=Promise.resolve();let _t=!1;function Un(){_t||(_t=!0,En.then(Mn))}function qe(n){lt.push(n)}function E(n){ht.push(n)}const ft=new Set;let st=0;function Mn(){const n=Xe;do{for(;st<Ye.length;){const e=Ye[st];st++,Ge(e),Wn(e.$$)}for(Ge(null),Ye.length=0,st=0;H.length;)H.pop()();for(let e=0;e<lt.length;e+=1){const a=lt[e];ft.has(a)||(ft.add(a),a())}lt.length=0}while(Ye.length);for(;ht.length;)ht.pop()();_t=!1,ft.clear(),Ge(n)}function Wn(n){if(n.fragment!==null){n.update(),Fe(n.before_update);const e=n.dirty;n.dirty=[-1],n.fragment&&n.fragment.p(n.ctx,e),n.after_update.forEach(qe)}}const rt=new Set;let Ae;function ae(){Ae={r:0,c:[],p:Ae}}function se(){Ae.r||Fe(Ae.c),Ae=Ae.p}function D(n,e){n&&n.i&&(rt.delete(n),n.i(e))}function I(n,e,a,t){if(n&&n.o){if(rt.has(n))return;rt.add(n),Ae.c.push(()=>{rt.delete(n),t&&(a&&n.d(1),t())}),n.o(e)}}function Pn(n,e){const a={},t={},s={$$scope:1};let r=n.length;for(;r--;){const l=n[r],c=e[r];if(c){for(const o in l)o in c||(t[o]=1);for(const o in c)s[o]||(a[o]=c[o],s[o]=1);n[r]=c}else for(const o in l)s[o]=1}for(const l in t)l in a||(a[l]=void 0);return a}function Fn(n){return typeof n=="object"&&n!==null?n:{}}function U(n,e,a){const t=n.$$.props[e];t!==void 0&&(n.$$.bound[t]=a,a(n.$$.ctx[t]))}function O(n){n&&n.c()}function S(n,e,a,t){const{fragment:s,on_mount:r,on_destroy:l,after_update:c}=n.$$;s&&s.m(e,a),t||qe(()=>{const o=r.map(kn).filter(Dn);l?l.push(...o):Fe(o),n.$$.on_mount=[]}),c.forEach(qe)}function M(n,e){const a=n.$$;a.fragment!==null&&(Fe(a.on_destroy),a.fragment&&a.fragment.d(e),a.on_destroy=a.fragment=null,a.ctx=[])}function Vn(n,e){n.$$.dirty[0]===-1&&(Ye.push(n),Un(),n.$$.dirty.fill(0)),n.$$.dirty[e/31|0]|=1<<e%31}function G(n,e,a,t,s,r,l,c=[-1]){const o=Xe;Ge(n);const d=n.$$={fragment:null,ctx:null,props:r,update:N,not_equal:s,bound:vt(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(o?o.$$.context:[])),callbacks:vt(),dirty:c,skip_bound:!1,root:e.target||o.$$.root};l&&l(d.root);let h=!1;if(d.ctx=a?a(n,e.props||{},(f,p,...m)=>{const g=m.length?m[0]:p;return d.ctx&&s(d.ctx[f],d.ctx[f]=g)&&(!d.skip_bound&&d.bound[f]&&d.bound[f](g),h&&Vn(n,f)),p}):[],d.update(),h=!0,Fe(d.before_update),d.fragment=t?t(d.ctx):!1,e.target){if(e.hydrate){const f=qn(e.target);d.fragment&&d.fragment.l(f),f.forEach(y)}else d.fragment&&d.fragment.c();e.intro&&D(n.$$.fragment),S(n,e.target,e.anchor,e.customElement),Mn()}Ge(o)}class X{$destroy(){M(this,1),this.$destroy=N}$on(e,a){const t=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return t.push(a),()=>{const s=t.indexOf(a);s!==-1&&t.splice(s,1)}}$set(e){this.$$set&&!Bn(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function Jn(n){window.go.main.Bridge.ExportProject(n)}function Yn(){return window.go.main.Bridge.ImportProject()}function On(){return window.go.main.Bridge.LoadImage()}const We=[];function Ke(n,e=N){let a;const t=new Set;function s(c){if(Y(n,c)&&(n=c,a)){const o=!We.length;for(const d of t)d[1](),We.push(d,n);if(o){for(let d=0;d<We.length;d+=2)We[d][0](We[d+1]);We.length=0}}}function r(c){s(c(n))}function l(c,o=N){const d=[c,o];return t.add(d),t.size===1&&(a=e(s)||N),c(n),()=>{t.delete(d),t.size===0&&(a(),a=null)}}return{set:s,update:r,subscribe:l}}let kt="ABCDEFGHIJKLMNOPQRSTUVWXYZ";function be(n){let e="";for(let a=0;a<n;a++)e+=kt.charAt(Math.floor(Math.random()*kt.length));return e}async function Dt(n){return new Promise(e=>setTimeout(e,n))}const Rn="1.7.2",he=8,ot=Ke(!1),Qe=Ke(void 0),L=Ke({version:Rn,data:{information:{title:"",version:"",author:"",synopsis:""},actions:{data:{},ordering:[]},restraintLocations:{data:{},ordering:[]}},storage:{states:{data:{},ordering:[]},restraints:{data:{},ordering:[]},objects:{data:{},ordering:[]}}});function It(n){let e,a;return{c(){e=j("span"),a=K(n[0])},m(t,s){C(t,e,s),w(e,a)},p(t,s){s&1&&ee(a,t[0])},d(t){t&&y(e)}}}function Gn(n){let e,a,t,s,r,l;const c=n[4].default,o=gt(c,n,n[3],null);let d=n[0]!==""&&It(n);return{c(){e=j("button"),o&&o.c(),a=x(),d&&d.c(),i(e,"class",t=`flex flex-row items-center justify-center
    text-slate-300 bg-slate-700 hover:bg-slate-600 focus:bg-slate-500
    font-medium rounded-md text-sm text-center 
    px-2.5 py-2 space-x-1.5 
    ${n[2]}`),i(e,"type","button")},m(h,f){C(h,e,f),o&&o.m(e,null),w(e,a),d&&d.m(e,null),s=!0,r||(l=de(e,"click",function(){Dn(n[1])&&n[1].apply(this,arguments)}),r=!0)},p(h,[f]){n=h,o&&o.p&&(!s||f&8)&&mt(o,c,n,n[3],s?pt(c,n[3],f,null):bt(n[3]),null),n[0]!==""?d?d.p(n,f):(d=It(n),d.c(),d.m(e,null)):d&&(d.d(1),d=null),(!s||f&4&&t!==(t=`flex flex-row items-center justify-center
    text-slate-300 bg-slate-700 hover:bg-slate-600 focus:bg-slate-500
    font-medium rounded-md text-sm text-center 
    px-2.5 py-2 space-x-1.5 
    ${n[2]}`))&&i(e,"class",t)},i(h){s||(D(o,h),s=!0)},o(h){I(o,h),s=!1},d(h){h&&y(e),o&&o.d(h),d&&d.d(),r=!1,l()}}}function Xn(n,e,a){let{$$slots:t={},$$scope:s}=e,{label:r=""}=e,{onclick:l}=e,{class:c=""}=e;return n.$$set=o=>{"label"in o&&a(0,r=o.label),"onclick"in o&&a(1,l=o.onclick),"class"in o&&a(2,c=o.class),"$$scope"in o&&a(3,s=o.$$scope)},[r,l,c,s,t]}class F extends X{constructor(e){super(),G(this,e,Xn,Gn,Y,{label:0,onclick:1,class:2})}}function jt(n,e,a){const t=n.slice();return t[11]=e[a][0],t[1]=e[a][1],t}function Kn(n){let e,a;return e=new F({props:{label:"Stop",onclick:n[6],$$slots:{default:[Zn]},$$scope:{ctx:n}}}),{c(){O(e.$$.fragment)},m(t,s){S(e,t,s),a=!0},p(t,s){const r={};s&16384&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){a||(D(e.$$.fragment,t),a=!0)},o(t){I(e.$$.fragment,t),a=!1},d(t){M(e,t)}}}function Qn(n){let e,a,t,s,r,l;return e=new F({props:{label:"Import",onclick:n[3],$$slots:{default:[ea]},$$scope:{ctx:n}}}),t=new F({props:{label:"Export",onclick:n[4],$$slots:{default:[ta]},$$scope:{ctx:n}}}),r=new F({props:{label:"Play",onclick:n[5],$$slots:{default:[na]},$$scope:{ctx:n}}}),{c(){O(e.$$.fragment),a=x(),O(t.$$.fragment),s=x(),O(r.$$.fragment)},m(c,o){S(e,c,o),C(c,a,o),S(t,c,o),C(c,s,o),S(r,c,o),l=!0},p(c,o){const d={};o&16384&&(d.$$scope={dirty:o,ctx:c}),e.$set(d);const h={};o&16384&&(h.$$scope={dirty:o,ctx:c}),t.$set(h);const f={};o&16384&&(f.$$scope={dirty:o,ctx:c}),r.$set(f)},i(c){l||(D(e.$$.fragment,c),D(t.$$.fragment,c),D(r.$$.fragment,c),l=!0)},o(c){I(e.$$.fragment,c),I(t.$$.fragment,c),I(r.$$.fragment,c),l=!1},d(c){M(e,c),c&&y(a),M(t,c),c&&y(s),M(r,c)}}}function Zn(n){let e,a,t;return{c(){e=q("svg"),a=q("path"),t=q("path"),i(a,"stroke-linecap","round"),i(a,"stroke-linejoin","round"),i(a,"d","M21 12a9 9 0 11-18 0 9 9 0 0118 0z"),i(t,"stroke-linecap","round"),i(t,"stroke-linejoin","round"),i(t,"d","M9 10a1 1 0 011-1h4a1 1 0 011 1v4a1 1 0 01-1 1h-4a1 1 0 01-1-1v-4z"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"class","h-5 w-5"),i(e,"fill","none"),i(e,"viewBox","0 0 24 24"),i(e,"stroke","currentColor"),i(e,"stroke-width","2")},m(s,r){C(s,e,r),w(e,a),w(e,t)},p:N,d(s){s&&y(e)}}}function ea(n){let e,a;return{c(){e=q("svg"),a=q("path"),i(a,"stroke-linecap","round"),i(a,"stroke-linejoin","round"),i(a,"d","M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"class","h-5 w-5"),i(e,"fill","none"),i(e,"viewBox","0 0 24 24"),i(e,"stroke","currentColor"),i(e,"stroke-width","2")},m(t,s){C(t,e,s),w(e,a)},p:N,d(t){t&&y(e)}}}function ta(n){let e,a;return{c(){e=q("svg"),a=q("path"),i(a,"stroke-linecap","round"),i(a,"stroke-linejoin","round"),i(a,"d","M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"class","h-5 w-5"),i(e,"fill","none"),i(e,"viewBox","0 0 24 24"),i(e,"stroke","currentColor"),i(e,"stroke-width","2")},m(t,s){C(t,e,s),w(e,a)},p:N,d(t){t&&y(e)}}}function na(n){let e,a,t;return{c(){e=q("svg"),a=q("path"),t=q("path"),i(a,"stroke-linecap","round"),i(a,"stroke-linejoin","round"),i(a,"d","M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"),i(t,"stroke-linecap","round"),i(t,"stroke-linejoin","round"),i(t,"d","M21 12a9 9 0 11-18 0 9 9 0 0118 0z"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"class","h-5 w-5"),i(e,"fill","none"),i(e,"viewBox","0 0 24 24"),i(e,"stroke","currentColor"),i(e,"stroke-width","2")},m(s,r){C(s,e,r),w(e,a),w(e,t)},p:N,d(s){s&&y(e)}}}function aa(n){let e;return{c(){e=j("p"),e.textContent="Check console for debug information",i(e,"class","text-xl text-slate-300")},m(a,t){C(a,e,t)},p:N,d(a){a&&y(e)}}}function sa(n){let e,a=Object.entries(n[1]),t=[];for(let s=0;s<a.length;s+=1)t[s]=yt(jt(n,a,s));return{c(){for(let s=0;s<t.length;s+=1)t[s].c();e=Oe()},m(s,r){for(let l=0;l<t.length;l+=1)t[l].m(s,r);C(s,e,r)},p(s,r){if(r&131){a=Object.entries(s[1]);let l;for(l=0;l<a.length;l+=1){const c=jt(s,a,l);t[l]?t[l].p(c,r):(t[l]=yt(c),t[l].c(),t[l].m(e.parentNode,e))}for(;l<t.length;l+=1)t[l].d(1);t.length=a.length}},d(s){Me(t,s),s&&y(e)}}}function yt(n){let e,a,t=n[1].display+"",s,r,l,c,o,d;return{c(){e=j("li"),a=j("a"),s=K(t),c=x(),i(a,"class",r=`cursor-pointer select-none ${n[11]===n[0]?"text-slate-200":"hover:text-slate-300 focus:text-slate-200"}`),i(a,"aria-label",l=n[11]),i(e,"class","h-full py-2.5")},m(h,f){C(h,e,f),w(e,a),w(a,s),w(e,c),o||(d=de(a,"click",n[7]),o=!0)},p(h,f){f&2&&t!==(t=h[1].display+"")&&ee(s,t),f&3&&r!==(r=`cursor-pointer select-none ${h[11]===h[0]?"text-slate-200":"hover:text-slate-300 focus:text-slate-200"}`)&&i(a,"class",r),f&2&&l!==(l=h[11])&&i(a,"aria-label",l)},d(h){h&&y(e),o=!1,d()}}}function la(n){let e,a,t,s,r,l,c,o,d,h,f,p,m,g,_,u;const b=[Qn,Kn],$=[];function v(z,P){return z[2]===!1?0:1}r=v(n),l=$[r]=b[r](n);function B(z,P){return z[2]===!1?sa:aa}let R=B(n),k=R(n);return{c(){e=j("nav"),a=j("div"),t=j("div"),s=j("div"),l.c(),c=x(),o=j("div"),d=j("div"),h=j("span"),h.textContent="Mitts-Development",f=x(),p=j("span"),p.textContent=`v${Rn}`,m=x(),g=j("div"),_=j("ul"),k.c(),i(s,"class","flex flex-row space-x-2.5"),i(h,"class","font-medium text-2xl"),i(p,"class","text-xl"),i(d,"class","flex flex-row items-end space-x-2"),i(o,"class","flex items-center"),i(t,"class","flex flex-row space-x-4 py-3"),i(_,"class","flex flex-row text-xl space-x-8"),i(g,"class","flex items-center space-x-1 pr-2"),i(a,"class","flex flex-row justify-between items-stretch px-4"),i(e,"class","bg-slate-800 text-slate-400")},m(z,P){C(z,e,P),w(e,a),w(a,t),w(t,s),$[r].m(s,null),w(t,c),w(t,o),w(o,d),w(d,h),w(d,f),w(d,p),w(a,m),w(a,g),w(g,_),k.m(_,null),u=!0},p(z,[P]){let Z=r;r=v(z),r===Z?$[r].p(z,P):(ae(),I($[Z],1,1,()=>{$[Z]=null}),se(),l=$[r],l?l.p(z,P):(l=$[r]=b[r](z),l.c()),D(l,1),l.m(s,null)),R===(R=B(z))&&k?k.p(z,P):(k.d(1),k=R(z),k&&(k.c(),k.m(_,null)))},i(z){u||(D(l),u=!0)},o(z){I(l),u=!1},d(z){z&&y(e),$[r].d(),k.d()}}}function ra(n,e,a){let t,s;ne(n,ot,g=>a(2,t=g)),ne(n,L,g=>a(10,s=g));let{navigationData:r}=e,{navigationClickHandler:l}=e,{selectedWindow:c}=e,{show:o}=e;async function d(){const g=await Yn(),_=JSON.parse(g);a(8,o=!1),await Dt(50),L.set(_),await Dt(50),a(8,o=!0)}async function h(){const g=JSON.stringify(s);await Jn(g)}async function f(){const g=Object.entries(s.storage.states.data).filter(([u,b])=>b.type==="opening"),_=Object.entries(s.storage.states.data).filter(([u,b])=>b.type==="starting");g.length===0?alert("Error initializing playtesting: couldn't find opening state"):_.length===0?alert("Error initializing playtesting: couldn't find starting state"):J(ot,t=!0,t)}async function p(){J(ot,t=!1,t)}function m(g){const u=g.currentTarget.getAttribute("aria-label");l(u)}return n.$$set=g=>{"navigationData"in g&&a(1,r=g.navigationData),"navigationClickHandler"in g&&a(9,l=g.navigationClickHandler),"selectedWindow"in g&&a(0,c=g.selectedWindow),"show"in g&&a(8,o=g.show)},[c,r,t,d,h,f,p,m,o,l]}class oa extends X{constructor(e){super(),G(this,e,ra,la,Y,{navigationData:1,navigationClickHandler:9,selectedWindow:0,show:8})}}function Ct(n,e,a){const t=n.slice();return t[3]=e[a][0],t[1]=e[a][1],t}function St(n){let e,a,t,s;var r=n[1].component;function l(c){return{}}return r&&(a=new r(l())),{c(){e=j("div"),a&&O(a.$$.fragment),t=x(),i(e,"class","absolute inset-0 bg-background text-slate-300 p-4 svelte-17i3nn2"),at(e,"shown",n[0]===n[3]),at(e,"not-shown",n[0]!==n[3])},m(c,o){C(c,e,o),a&&S(a,e,null),w(e,t),s=!0},p(c,o){if(r!==(r=c[1].component)){if(a){ae();const d=a;I(d.$$.fragment,1,0,()=>{M(d,1)}),se()}r?(a=new r(l()),O(a.$$.fragment),D(a.$$.fragment,1),S(a,e,t)):a=null}o&3&&at(e,"shown",c[0]===c[3]),o&3&&at(e,"not-shown",c[0]!==c[3])},i(c){s||(a&&D(a.$$.fragment,c),s=!0)},o(c){a&&I(a.$$.fragment,c),s=!1},d(c){c&&y(e),a&&M(a)}}}function ia(n){let e,a,t=Object.entries(n[1]),s=[];for(let l=0;l<t.length;l+=1)s[l]=St(Ct(n,t,l));const r=l=>I(s[l],1,1,()=>{s[l]=null});return{c(){e=j("div");for(let l=0;l<s.length;l+=1)s[l].c();i(e,"class","relative grow")},m(l,c){C(l,e,c);for(let o=0;o<s.length;o+=1)s[o].m(e,null);a=!0},p(l,[c]){if(c&3){t=Object.entries(l[1]);let o;for(o=0;o<t.length;o+=1){const d=Ct(l,t,o);s[o]?(s[o].p(d,c),D(s[o],1)):(s[o]=St(d),s[o].c(),D(s[o],1),s[o].m(e,null))}for(ae(),o=t.length;o<s.length;o+=1)r(o);se()}},i(l){if(!a){for(let c=0;c<t.length;c+=1)D(s[c]);a=!0}},o(l){s=s.filter(Boolean);for(let c=0;c<s.length;c+=1)I(s[c]);a=!1},d(l){l&&y(e),Me(s,l)}}}function ca(n,e,a){let{navigationData:t}=e,{selectedWindow:s}=e;const r=l=>{a(0,s=l)};return n.$$set=l=>{"navigationData"in l&&a(1,t=l.navigationData),"selectedWindow"in l&&a(0,s=l.selectedWindow)},[s,t,r]}class da extends X{constructor(e){super(),G(this,e,ca,ia,Y,{navigationData:1,selectedWindow:0,navigateTab:2})}get navigateTab(){return this.$$.ctx[2]}}const fa=n=>({}),Mt=n=>({}),ua=n=>({}),Ot=n=>({});function ga(n){let e,a,t,s,r,l,c,o;const d=n[4].header,h=gt(d,n,n[3],Ot),f=n[4].content,p=gt(f,n,n[3],Mt);return{c(){e=j("div"),a=j("div"),h&&h.c(),s=x(),r=j("div"),p&&p.c(),i(a,"class",t=`flex flex-row justify-center items-center
        w-full pl-4 pr-4 space-x-6
        ${n[1]}`),i(r,"class",l=`flex flex-col grow space-y-2 
        w-full p-1
        ${n[2]}`),i(e,"class",c=`flex flex-col items-center space-y-2 
    rounded-lg bg-slate-800
    p-3 pt-2
    ${n[0]}`)},m(m,g){C(m,e,g),w(e,a),h&&h.m(a,null),w(e,s),w(e,r),p&&p.m(r,null),o=!0},p(m,[g]){h&&h.p&&(!o||g&8)&&mt(h,d,m,m[3],o?pt(d,m[3],g,ua):bt(m[3]),Ot),(!o||g&2&&t!==(t=`flex flex-row justify-center items-center
        w-full pl-4 pr-4 space-x-6
        ${m[1]}`))&&i(a,"class",t),p&&p.p&&(!o||g&8)&&mt(p,f,m,m[3],o?pt(f,m[3],g,fa):bt(m[3]),Mt),(!o||g&4&&l!==(l=`flex flex-col grow space-y-2 
        w-full p-1
        ${m[2]}`))&&i(r,"class",l),(!o||g&1&&c!==(c=`flex flex-col items-center space-y-2 
    rounded-lg bg-slate-800
    p-3 pt-2
    ${m[0]}`))&&i(e,"class",c)},i(m){o||(D(h,m),D(p,m),o=!0)},o(m){I(h,m),I(p,m),o=!1},d(m){m&&y(e),h&&h.d(m),p&&p.d(m)}}}function pa(n,e,a){let{$$slots:t={},$$scope:s}=e,{class:r=""}=e,{headerClass:l=""}=e,{contentClass:c=""}=e;return n.$$set=o=>{"class"in o&&a(0,r=o.class),"headerClass"in o&&a(1,l=o.headerClass),"contentClass"in o&&a(2,c=o.contentClass),"$$scope"in o&&a(3,s=o.$$scope)},[r,l,c,s,t]}class le extends X{constructor(e){super(),G(this,e,pa,ga,Y,{class:0,headerClass:1,contentClass:2})}}function ma(n){let e,a,t,s,r,l,c,o,d;return{c(){e=j("div"),a=j("p"),t=K(n[1]),s=x(),r=j("div"),l=j("textarea"),i(a,"class","pl-1 text-slate-400 text-sm"),i(l,"class",`w-full h-full
            rounded bg-slate-800 focus:outline-none
            text-l text-slate-300
            resize-none overflow-y-auto
            scrollbar-thin scrollbar-thumb-slate-600 hover:scrollbar-thumb-rounded overflow-x-hidden pr-3`),i(l,"type","text"),i(l,"rows",n[3]),i(l,"placeholder",n[2]),i(r,"class","grow w-full rounded bg-slate-800 border border-slate-500 placeholder-slate-500 focus:outline-none focus:border-slate-400 p-2"),i(e,"class",c=`flex flex-col items-start space-y-0.5
    ${n[4]}`)},m(h,f){C(h,e,f),w(e,a),w(a,t),w(e,s),w(e,r),w(r,l),Pe(l,n[0]),o||(d=de(l,"input",n[5]),o=!0)},p(h,[f]){f&2&&ee(t,h[1]),f&8&&i(l,"rows",h[3]),f&4&&i(l,"placeholder",h[2]),f&1&&Pe(l,h[0]),f&16&&c!==(c=`flex flex-col items-start space-y-0.5
    ${h[4]}`)&&i(e,"class",c)},i:N,o:N,d(h){h&&y(e),o=!1,d()}}}function ba(n,e,a){let{label:t}=e,{placeholder:s=""}=e,{value:r}=e,{rows:l}=e,{class:c=""}=e;function o(){r=this.value,a(0,r)}return n.$$set=d=>{"label"in d&&a(1,t=d.label),"placeholder"in d&&a(2,s=d.placeholder),"value"in d&&a(0,r=d.value),"rows"in d&&a(3,l=d.rows),"class"in d&&a(4,c=d.class)},[r,t,s,l,c,o]}class ze extends X{constructor(e){super(),G(this,e,ba,ma,Y,{label:1,placeholder:2,value:0,rows:3,class:4})}}function ha(n){let e,a,t,s,r,l,c,o;return{c(){e=j("div"),a=j("p"),t=K(n[1]),s=x(),r=j("input"),i(a,"class","pl-1 text-slate-400 text-sm"),i(r,"class","grow rounded bg-slate-800 border border-slate-500 placeholder-slate-500 focus:outline-none focus:border-slate-400 text-l text-slate-300 w-full p-2"),i(r,"placeholder",n[2]),i(e,"class",l=`flex flex-col items-start space-y-0.5
    ${n[3]}`)},m(d,h){C(d,e,h),w(e,a),w(a,t),w(e,s),w(e,r),Pe(r,n[0]),c||(o=de(r,"input",n[4]),c=!0)},p(d,[h]){h&2&&ee(t,d[1]),h&4&&i(r,"placeholder",d[2]),h&1&&r.value!==d[0]&&Pe(r,d[0]),h&8&&l!==(l=`flex flex-col items-start space-y-0.5
    ${d[3]}`)&&i(e,"class",l)},i:N,o:N,d(d){d&&y(e),c=!1,o()}}}function _a(n,e,a){let{label:t}=e,{placeholder:s=""}=e,{value:r}=e,{class:l=""}=e;function c(){r=this.value,a(0,r)}return n.$$set=o=>{"label"in o&&a(1,t=o.label),"placeholder"in o&&a(2,s=o.placeholder),"value"in o&&a(0,r=o.value),"class"in o&&a(3,l=o.class)},[r,t,s,l,c]}class me extends X{constructor(e){super(),G(this,e,_a,ha,Y,{label:1,placeholder:2,value:0,class:3})}}function wa(n){let e;return{c(){e=j("p"),e.textContent="Game Information",i(e,"class","text-slate-300 text-xl")},m(a,t){C(a,e,t)},p:N,d(a){a&&y(e)}}}function $a(n){let e,a,t,s,r,l,c,o,d,h,f,p,m;function g(k){n[1](k)}let _={class:"w-full",label:"Title",placeholder:"Inescapable Escape Game!"};n[0].data.information.title!==void 0&&(_.value=n[0].data.information.title),e=new me({props:_}),H.push(()=>U(e,"value",g));function u(k){n[2](k)}let b={class:"w-1/2",label:"Author",placeholder:"strawber!ria"};n[0].data.information.author!==void 0&&(b.value=n[0].data.information.author),r=new me({props:b}),H.push(()=>U(r,"value",u));function $(k){n[3](k)}let v={class:"grow",label:"Version",placeholder:"1.0.0"};n[0].data.information.version!==void 0&&(v.value=n[0].data.information.version),o=new me({props:v}),H.push(()=>U(o,"value",$));function B(k){n[4](k)}let R={class:"h-full w-full",label:"Synopsis",placeholder:"The most inescapable escape game there is!",rows:12};return n[0].data.information.synopsis!==void 0&&(R.value=n[0].data.information.synopsis),f=new ze({props:R}),H.push(()=>U(f,"value",B)),{c(){O(e.$$.fragment),t=x(),s=j("div"),O(r.$$.fragment),c=x(),O(o.$$.fragment),h=x(),O(f.$$.fragment),i(s,"class","flex flex-row space-x-6")},m(k,z){S(e,k,z),C(k,t,z),C(k,s,z),S(r,s,null),w(s,c),S(o,s,null),C(k,h,z),S(f,k,z),m=!0},p(k,z){const P={};!a&&z&1&&(a=!0,P.value=k[0].data.information.title,E(()=>a=!1)),e.$set(P);const Z={};!l&&z&1&&(l=!0,Z.value=k[0].data.information.author,E(()=>l=!1)),r.$set(Z);const ie={};!d&&z&1&&(d=!0,ie.value=k[0].data.information.version,E(()=>d=!1)),o.$set(ie);const fe={};!p&&z&1&&(p=!0,fe.value=k[0].data.information.synopsis,E(()=>p=!1)),f.$set(fe)},i(k){m||(D(e.$$.fragment,k),D(r.$$.fragment,k),D(o.$$.fragment,k),D(f.$$.fragment,k),m=!0)},o(k){I(e.$$.fragment,k),I(r.$$.fragment,k),I(o.$$.fragment,k),I(f.$$.fragment,k),m=!1},d(k){M(e,k),k&&y(t),k&&y(s),M(r),M(o),k&&y(h),M(f,k)}}}function va(n){let e,a;return e=new le({props:{class:"grow w-full",$$slots:{content:[$a],header:[wa]},$$scope:{ctx:n}}}),{c(){O(e.$$.fragment)},m(t,s){S(e,t,s),a=!0},p(t,[s]){const r={};s&33&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){a||(D(e.$$.fragment,t),a=!0)},o(t){I(e.$$.fragment,t),a=!1},d(t){M(e,t)}}}function ka(n,e,a){let t;ne(n,L,o=>a(0,t=o));function s(o){n.$$.not_equal(t.data.information.title,o)&&(t.data.information.title=o,L.set(t))}function r(o){n.$$.not_equal(t.data.information.author,o)&&(t.data.information.author=o,L.set(t))}function l(o){n.$$.not_equal(t.data.information.version,o)&&(t.data.information.version=o,L.set(t))}function c(o){n.$$.not_equal(t.data.information.synopsis,o)&&(t.data.information.synopsis=o,L.set(t))}return[t,s,r,l,c]}class Da extends X{constructor(e){super(),G(this,e,ka,va,Y,{})}}function Ia(n){let e,a,t=n[1].name+"",s,r,l,c,o,d,h,f;return{c(){e=j("div"),a=j("p"),s=K(t),r=x(),l=j("p"),c=K(n[0]),i(a,"class","text-left w-11/12 min-w-0 truncate"),i(l,"class",o=`font-mono ${n[2]===!0?"text-slate-500":"text-slate-600"}`),i(e,"class",d=`flex flex-row justify-between space-x-1
    rounded border 
    p-2 pl-4 pr-4
    ${n[3]} ${n[2]===!0?"text-slate-200 bg-slate-700 border-slate-600":"text-slate-400 bg-slate-750 border-slate-700"}`)},m(p,m){C(p,e,m),w(e,a),w(a,s),w(e,r),w(e,l),w(l,c),h||(f=de(e,"click",n[4]),h=!0)},p(p,[m]){m&2&&t!==(t=p[1].name+"")&&ee(s,t),m&1&&ee(c,p[0]),m&4&&o!==(o=`font-mono ${p[2]===!0?"text-slate-500":"text-slate-600"}`)&&i(l,"class",o),m&12&&d!==(d=`flex flex-row justify-between space-x-1
    rounded border 
    p-2 pl-4 pr-4
    ${p[3]} ${p[2]===!0?"text-slate-200 bg-slate-700 border-slate-600":"text-slate-400 bg-slate-750 border-slate-700"}`)&&i(e,"class",d)},i:N,o:N,d(p){p&&y(e),h=!1,f()}}}function ja(n,e,a){let{key:t}=e,{actionData:s}=e,{selected:r}=e,{class:l}=e;const c=Ce();function o(){c("dispatchClick",{key:t})}return n.$$set=d=>{"key"in d&&a(0,t=d.key),"actionData"in d&&a(1,s=d.actionData),"selected"in d&&a(2,r=d.selected),"class"in d&&a(3,l=d.class)},[t,s,r,l,o]}class ya extends X{constructor(e){super(),G(this,e,ja,Ia,Y,{key:0,actionData:1,selected:2,class:3})}}function Rt(n,e,a){const t=n.slice();return t[5]=e[a],t}function xt(n){let e,a,t;const s=[n[5].props,{class:"cursor-pointer select-none"},{key:n[5].key},{selected:n[0]===n[5].key}];var r=n[5].component;function l(c){let o={};for(let d=0;d<s.length;d+=1)o=vn(o,s[d]);return{props:o}}return r&&(e=new r(l()),e.$on("dispatchClick",n[2])),{c(){e&&O(e.$$.fragment),a=Oe()},m(c,o){e&&S(e,c,o),C(c,a,o),t=!0},p(c,o){const d=o&3?Pn(s,[o&2&&Fn(c[5].props),s[1],o&2&&{key:c[5].key},{selected:c[0]===c[5].key}]):{};if(r!==(r=c[5].component)){if(e){ae();const h=e;I(h.$$.fragment,1,0,()=>{M(h,1)}),se()}r?(e=new r(l()),e.$on("dispatchClick",c[2]),O(e.$$.fragment),D(e.$$.fragment,1),S(e,a.parentNode,a)):e=null}else r&&e.$set(d)},i(c){t||(e&&D(e.$$.fragment,c),t=!0)},o(c){e&&I(e.$$.fragment,c),t=!1},d(c){c&&y(a),e&&M(e,c)}}}function Ca(n){let e,a,t=n[1],s=[];for(let l=0;l<t.length;l+=1)s[l]=xt(Rt(n,t,l));const r=l=>I(s[l],1,1,()=>{s[l]=null});return{c(){for(let l=0;l<s.length;l+=1)s[l].c();e=Oe()},m(l,c){for(let o=0;o<s.length;o+=1)s[o].m(l,c);C(l,e,c),a=!0},p(l,[c]){if(c&7){t=l[1];let o;for(o=0;o<t.length;o+=1){const d=Rt(l,t,o);s[o]?(s[o].p(d,c),D(s[o],1)):(s[o]=xt(d),s[o].c(),D(s[o],1),s[o].m(e.parentNode,e))}for(ae(),o=t.length;o<s.length;o+=1)r(o);se()}},i(l){if(!a){for(let c=0;c<t.length;c+=1)D(s[c]);a=!0}},o(l){s=s.filter(Boolean);for(let c=0;c<s.length;c+=1)I(s[c]);a=!1},d(l){Me(s,l),l&&y(e)}}}function Sa(n,e,a){let{selectedID:t}=e,{deselectable:s}=e,{scrollingRadioData:r}=e;const l=Ce();function c(o){a(0,t=s===!0&&o.detail.key===t?void 0:o.detail.key),l("dispatchClick",{id:t})}return n.$$set=o=>{"selectedID"in o&&a(0,t=o.selectedID),"deselectable"in o&&a(3,s=o.deselectable),"scrollingRadioData"in o&&a(1,r=o.scrollingRadioData)},[t,r,c,s]}class xe extends X{constructor(e){super(),G(this,e,Sa,Ca,Y,{selectedID:0,deselectable:3,scrollingRadioData:1})}}function Ma(n){let e,a;return{c(){e=q("svg"),a=q("path"),i(a,"stroke-linecap","round"),i(a,"stroke-linejoin","round"),i(a,"d","M12 4v16m8-8H4"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"class","h-4 w-4"),i(e,"fill","none"),i(e,"viewBox","0 0 24 24"),i(e,"stroke","currentColor"),i(e,"stroke-width","2")},m(t,s){C(t,e,s),w(e,a)},p:N,d(t){t&&y(e)}}}function Oa(n){let e,a;return{c(){e=q("svg"),a=q("path"),i(a,"stroke-linecap","round"),i(a,"stroke-linejoin","round"),i(a,"d","M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"class","h-4 w-4"),i(e,"fill","none"),i(e,"viewBox","0 0 24 24"),i(e,"stroke","currentColor"),i(e,"stroke-width","2")},m(t,s){C(t,e,s),w(e,a)},p:N,d(t){t&&y(e)}}}function Ra(n){let e,a;return{c(){e=q("svg"),a=q("path"),i(a,"stroke-linecap","round"),i(a,"stroke-linejoin","round"),i(a,"d","M5 15l7-7 7 7"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"class","h-4 w-4"),i(e,"fill","none"),i(e,"viewBox","0 0 24 24"),i(e,"stroke","currentColor"),i(e,"stroke-width","2")},m(t,s){C(t,e,s),w(e,a)},p:N,d(t){t&&y(e)}}}function xa(n){let e,a;return{c(){e=q("svg"),a=q("path"),i(a,"stroke-linecap","round"),i(a,"stroke-linejoin","round"),i(a,"d","M19 9l-7 7-7-7"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"class","h-4 w-4"),i(e,"fill","none"),i(e,"viewBox","0 0 24 24"),i(e,"stroke","currentColor"),i(e,"stroke-width","2")},m(t,s){C(t,e,s),w(e,a)},p:N,d(t){t&&y(e)}}}function La(n){let e,a,t,s,r,l,c,o,d,h,f,p,m;return r=new F({props:{onclick:n[2],$$slots:{default:[Ma]},$$scope:{ctx:n}}}),c=new F({props:{onclick:n[3],$$slots:{default:[Oa]},$$scope:{ctx:n}}}),h=new F({props:{onclick:n[4],$$slots:{default:[Ra]},$$scope:{ctx:n}}}),p=new F({props:{onclick:n[5],$$slots:{default:[xa]},$$scope:{ctx:n}}}),{c(){e=j("p"),e.textContent="Game Actions",a=x(),t=j("div"),s=j("div"),O(r.$$.fragment),l=x(),O(c.$$.fragment),o=x(),d=j("div"),O(h.$$.fragment),f=x(),O(p.$$.fragment),i(e,"class","text-slate-300 text-xl align-middle"),i(s,"class","flex flex-row space-x-1"),i(d,"class","flex flex-row space-x-1"),i(t,"class","flex flex-row space-x-4")},m(g,_){C(g,e,_),C(g,a,_),C(g,t,_),w(t,s),S(r,s,null),w(s,l),S(c,s,null),w(t,o),w(t,d),S(h,d,null),w(d,f),S(p,d,null),m=!0},p(g,_){const u={};_&512&&(u.$$scope={dirty:_,ctx:g}),r.$set(u);const b={};_&512&&(b.$$scope={dirty:_,ctx:g}),c.$set(b);const $={};_&512&&($.$$scope={dirty:_,ctx:g}),h.$set($);const v={};_&512&&(v.$$scope={dirty:_,ctx:g}),p.$set(v)},i(g){m||(D(r.$$.fragment,g),D(c.$$.fragment,g),D(h.$$.fragment,g),D(p.$$.fragment,g),m=!0)},o(g){I(r.$$.fragment,g),I(c.$$.fragment,g),I(h.$$.fragment,g),I(p.$$.fragment,g),m=!1},d(g){g&&y(e),g&&y(a),g&&y(t),M(r),M(c),M(h),M(p)}}}function Na(n){let e,a,t;function s(l){n[7](l)}let r={deselectable:!0,scrollingRadioData:n[1]};return n[0]!==void 0&&(r.selectedID=n[0]),e=new xe({props:r}),H.push(()=>U(e,"selectedID",s)),{c(){O(e.$$.fragment)},m(l,c){S(e,l,c),t=!0},p(l,c){const o={};c&2&&(o.scrollingRadioData=l[1]),!a&&c&1&&(a=!0,o.selectedID=l[0],E(()=>a=!1)),e.$set(o)},i(l){t||(D(e.$$.fragment,l),t=!0)},o(l){I(e.$$.fragment,l),t=!1},d(l){M(e,l)}}}function Ba(n){let e,a;return e=new le({props:{class:`shrink\r
    w-full h-3/5 min-h-0`,contentClass:`scrollbar-thin scrollbar-thumb-slate-600 hover:scrollbar-thumb-rounded overflow-x-hidden\r
        pr-4 mr-1`,$$slots:{content:[Na],header:[La]},$$scope:{ctx:n}}}),{c(){O(e.$$.fragment)},m(t,s){S(e,t,s),a=!0},p(t,[s]){const r={};s&515&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){a||(D(e.$$.fragment,t),a=!0)},o(t){I(e.$$.fragment,t),a=!1},d(t){M(e,t)}}}function Aa(n,e,a){let t;ne(n,L,p=>a(6,t=p));let{selectedActionID:s}=e,r;function l(){return t.data.actions.ordering.filter(p=>p!==void 0).map(p=>{const m=t.data.actions.data[p];return{key:m.id,component:ya,props:{actionData:m}}})}function c(){const p=be(he);J(L,t.data.actions.data[p]={id:p,name:"",verb:"",order:!1,two:!1},t),t.data.actions.ordering.push(p),L.set(t)}function o(){var p,m;if(s!==void 0){const g=s;a(0,s=void 0);const _=t.data.actions.ordering,u=_.findIndex(b=>b===g);for(let b=u;b<_.length-1;b++)_[b]=(p=_[b+1])!=null?p:void 0;_.pop(),a(0,s=(m=_[u])!=null?m:_[u-1]),delete t.data.actions.data[g],L.set(t)}}function d(){if(s!==void 0&&t.data.actions.ordering.length>1){const p=t.data.actions.ordering,m=p.findIndex(_=>_===s);if(m<=0)return;const g=p[m];p[m]=p[m-1],p[m-1]=g,L.set(t)}}function h(){if(s!==void 0&&t.data.actions.ordering.length>1){const p=t.data.actions.ordering,m=p.findIndex(_=>_===s);if(m===-1||m===t.data.actions.ordering.length-1)return;const g=p[m];p[m]=p[m+1],p[m+1]=g,L.set(t)}}function f(p){s=p,a(0,s)}return n.$$set=p=>{"selectedActionID"in p&&a(0,s=p.selectedActionID)},n.$$.update=()=>{n.$$.dirty&64&&(t.data.actions,a(1,r=l()))},[s,r,c,o,d,h,t,f]}class qa extends X{constructor(e){super(),G(this,e,Aa,Ba,Y,{selectedActionID:0})}}function za(n){let e,a,t,s,r,l,c,o,d,h,f;return{c(){e=j("div"),a=j("p"),t=K(n[1]),s=x(),r=j("label"),l=j("input"),c=x(),o=j("div"),i(a,"class","pl-1 mb-2 text-slate-400 text-sm"),i(l,"type","checkbox"),i(l,"class","sr-only peer"),i(o,"class","bg-slate-700 rounded-full border border-slate-700 after:rounded-full after:bg-slate-400 after:border after:border-slate-400 after:h-5 after:w-5 peer-checked:after:bg-slate-200 peer-checked:after:border-slate-200 peer-checked:after:translate-x-full after:content-[''] after:absolute after:top-0.5 after:left-[2px] after:transition-all peer-checked:bg-slate-600 w-11 h-6"),i(r,"class","inline-flex relative items-center cursor-pointer ml-0.5"),i(e,"class",d=`flex flex-col items-start space-y-0.5
    pb-2
    ${n[2]}`)},m(p,m){C(p,e,m),w(e,a),w(a,t),w(e,s),w(e,r),w(r,l),l.checked=n[0],w(r,c),w(r,o),h||(f=de(l,"change",n[3]),h=!0)},p(p,[m]){m&2&&ee(t,p[1]),m&1&&(l.checked=p[0]),m&4&&d!==(d=`flex flex-col items-start space-y-0.5
    pb-2
    ${p[2]}`)&&i(e,"class",d)},i:N,o:N,d(p){p&&y(e),h=!1,f()}}}function Ta(n,e,a){let{label:t}=e,{value:s}=e,{class:r=""}=e;function l(){s=this.checked,a(0,s)}return n.$$set=c=>{"label"in c&&a(1,t=c.label),"value"in c&&a(0,s=c.value),"class"in c&&a(2,r=c.class)},[s,t,r,l]}class wt extends X{constructor(e){super(),G(this,e,Ta,za,Y,{label:1,value:0,class:2})}}function Ha(n){let e;return{c(){e=j("p"),e.textContent="Selected Action",i(e,"class","text-slate-300 text-xl")},m(a,t){C(a,e,t)},p:N,d(a){a&&y(e)}}}function Ea(n){let e,a,t,s,r,l,c,o,d,h,f,p,m;function g(k){n[2](k)}let _={class:"w-3/4",label:"Name",placeholder:"Use"};n[1].data.actions.data[n[0]].name!==void 0&&(_.value=n[1].data.actions.data[n[0]].name),e=new me({props:_}),H.push(()=>U(e,"value",g));function u(k){n[3](k)}let b={class:"w-1/2",label:"Verb",placeholder:"with"};n[1].data.actions.data[n[0]].verb!==void 0&&(b.value=n[1].data.actions.data[n[0]].verb),s=new me({props:b}),H.push(()=>U(s,"value",u));function $(k){n[4](k)}let v={label:"Order Matters"};n[1].data.actions.data[n[0]].order!==void 0&&(v.value=n[1].data.actions.data[n[0]].order),o=new wt({props:v}),H.push(()=>U(o,"value",$));function B(k){n[5](k)}let R={label:"Optional Second Argument"};return n[1].data.actions.data[n[0]].two!==void 0&&(R.value=n[1].data.actions.data[n[0]].two),f=new wt({props:R}),H.push(()=>U(f,"value",B)),{c(){O(e.$$.fragment),t=x(),O(s.$$.fragment),l=x(),c=j("div"),O(o.$$.fragment),h=x(),O(f.$$.fragment),i(c,"class","flex flex-row items-center space-x-6")},m(k,z){S(e,k,z),C(k,t,z),S(s,k,z),C(k,l,z),C(k,c,z),S(o,c,null),w(c,h),S(f,c,null),m=!0},p(k,z){const P={};!a&&z&3&&(a=!0,P.value=k[1].data.actions.data[k[0]].name,E(()=>a=!1)),e.$set(P);const Z={};!r&&z&3&&(r=!0,Z.value=k[1].data.actions.data[k[0]].verb,E(()=>r=!1)),s.$set(Z);const ie={};!d&&z&3&&(d=!0,ie.value=k[1].data.actions.data[k[0]].order,E(()=>d=!1)),o.$set(ie);const fe={};!p&&z&3&&(p=!0,fe.value=k[1].data.actions.data[k[0]].two,E(()=>p=!1)),f.$set(fe)},i(k){m||(D(e.$$.fragment,k),D(s.$$.fragment,k),D(o.$$.fragment,k),D(f.$$.fragment,k),m=!0)},o(k){I(e.$$.fragment,k),I(s.$$.fragment,k),I(o.$$.fragment,k),I(f.$$.fragment,k),m=!1},d(k){M(e,k),k&&y(t),M(s,k),k&&y(l),k&&y(c),M(o),M(f)}}}function Ua(n){let e,a;return e=new le({props:{class:`grow shrink\r
    w-full min-h-0`,$$slots:{content:[Ea],header:[Ha]},$$scope:{ctx:n}}}),{c(){O(e.$$.fragment)},m(t,s){S(e,t,s),a=!0},p(t,[s]){const r={};s&67&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){a||(D(e.$$.fragment,t),a=!0)},o(t){I(e.$$.fragment,t),a=!1},d(t){M(e,t)}}}function Wa(n,e,a){let t;ne(n,L,d=>a(1,t=d));let{selectedActionID:s}=e;function r(d){n.$$.not_equal(t.data.actions.data[s].name,d)&&(t.data.actions.data[s].name=d,L.set(t))}function l(d){n.$$.not_equal(t.data.actions.data[s].verb,d)&&(t.data.actions.data[s].verb=d,L.set(t))}function c(d){n.$$.not_equal(t.data.actions.data[s].order,d)&&(t.data.actions.data[s].order=d,L.set(t))}function o(d){n.$$.not_equal(t.data.actions.data[s].two,d)&&(t.data.actions.data[s].two=d,L.set(t))}return n.$$set=d=>{"selectedActionID"in d&&a(0,s=d.selectedActionID)},[s,t,r,l,c,o]}class Pa extends X{constructor(e){super(),G(this,e,Wa,Ua,Y,{selectedActionID:0})}}function Lt(n){let e,a;return e=new Pa({props:{selectedActionID:n[0]}}),{c(){O(e.$$.fragment)},m(t,s){S(e,t,s),a=!0},p(t,s){const r={};s&1&&(r.selectedActionID=t[0]),e.$set(r)},i(t){a||(D(e.$$.fragment,t),a=!0)},o(t){I(e.$$.fragment,t),a=!1},d(t){M(e,t)}}}function Fa(n){let e,a,t,s,r,l,c,o,d;function h(m){n[1](m)}let f={};n[0]!==void 0&&(f.selectedActionID=n[0]),t=new qa({props:f}),H.push(()=>U(t,"selectedActionID",h));let p=n[0]!==void 0&&n[0]!==""&&Lt(n);return o=new Da({}),{c(){e=j("div"),a=j("div"),O(t.$$.fragment),r=x(),p&&p.c(),l=x(),c=j("div"),O(o.$$.fragment),i(a,"class","flex flex-col space-y-4 h-full"),ve(a,"width","30%"),i(c,"class","flex flex-col space-y-4 h-full"),ve(c,"width","35%"),i(e,"class","flex flex-row space-x-4 h-full w-full")},m(m,g){C(m,e,g),w(e,a),S(t,a,null),w(a,r),p&&p.m(a,null),w(e,l),w(e,c),S(o,c,null),d=!0},p(m,[g]){const _={};!s&&g&1&&(s=!0,_.selectedActionID=m[0],E(()=>s=!1)),t.$set(_),m[0]!==void 0&&m[0]!==""?p?(p.p(m,g),g&1&&D(p,1)):(p=Lt(m),p.c(),D(p,1),p.m(a,null)):p&&(ae(),I(p,1,1,()=>{p=null}),se())},i(m){d||(D(t.$$.fragment,m),D(p),D(o.$$.fragment,m),d=!0)},o(m){I(t.$$.fragment,m),I(p),I(o.$$.fragment,m),d=!1},d(m){m&&y(e),M(t),p&&p.d(),M(o)}}}function Va(n,e,a){let t;function s(r){t=r,a(0,t)}return[t,s]}class Ja extends X{constructor(e){super(),G(this,e,Va,Fa,Y,{})}}function Nt(n){let e,a,t;return{c(){e=j("img"),i(e,"class","object-contain h-full"),Re(e.src,a=n[1])||i(e,"src",a),i(e,"alt",t="")},m(s,r){C(s,e,r)},p(s,r){r&2&&!Re(e.src,a=s[1])&&i(e,"src",a)},d(s){s&&y(e)}}}function Ya(n){let e,a,t,s,r,l,c=n[1]!==""&&Nt(n);return{c(){e=j("div"),a=j("p"),t=K(n[0]),s=x(),r=j("div"),c&&c.c(),i(a,"class","pl-1 text-slate-400 text-sm"),i(r,"class","grow flex flex-col basis-0 min-h-0"),i(e,"class",l=`grow flex flex-col items-start space-y-0.5
    ${n[2]}`)},m(o,d){C(o,e,d),w(e,a),w(a,t),w(e,s),w(e,r),c&&c.m(r,null)},p(o,[d]){d&1&&ee(t,o[0]),o[1]!==""?c?c.p(o,d):(c=Nt(o),c.c(),c.m(r,null)):c&&(c.d(1),c=null),d&4&&l!==(l=`grow flex flex-col items-start space-y-0.5
    ${o[2]}`)&&i(e,"class",l)},i:N,o:N,d(o){o&&y(e),c&&c.d()}}}function Ga(n,e,a){let{label:t}=e,{imageData:s}=e,{class:r=""}=e;return n.$$set=l=>{"label"in l&&a(0,t=l.label),"imageData"in l&&a(1,s=l.imageData),"class"in l&&a(2,r=l.class)},[t,s,r]}class Xa extends X{constructor(e){super(),G(this,e,Ga,Ya,Y,{label:0,imageData:1,class:2})}}function Ka(n){let e,a,t,s,r,l,c,o;return{c(){e=j("div"),a=j("p"),t=K(n[1]),s=x(),r=j("input"),i(a,"class","pl-1 text-slate-400 text-sm"),i(r,"class","grow rounded bg-slate-800 border border-slate-500 placeholder-slate-500 focus:outline-none focus:border-slate-400 text-l text-center text-slate-300 w-full p-2"),i(r,"type","number"),i(e,"class",l=`flex flex-col items-start space-y-0.5
    ${n[2]}`)},m(d,h){C(d,e,h),w(e,a),w(a,t),w(e,s),w(e,r),Pe(r,n[0]),c||(o=de(r,"input",n[3]),c=!0)},p(d,[h]){h&2&&ee(t,d[1]),h&1&&jn(r.value)!==d[0]&&Pe(r,d[0]),h&4&&l!==(l=`flex flex-col items-start space-y-0.5
    ${d[2]}`)&&i(e,"class",l)},i:N,o:N,d(d){d&&y(e),c=!1,o()}}}function Qa(n,e,a){let{label:t}=e,{value:s}=e,{class:r=""}=e;function l(){s=jn(this.value),a(0,s)}return n.$$set=c=>{"label"in c&&a(1,t=c.label),"value"in c&&a(0,s=c.value),"class"in c&&a(2,r=c.class)},[s,t,r,l]}class xn extends X{constructor(e){super(),G(this,e,Qa,Ka,Y,{label:1,value:0,class:2})}}function Bt(n,e,a){const t=n.slice();return t[6]=e[a],t}function At(n){let e,a=n[6].display+"",t,s,r,l,c;return{c(){e=j("option"),t=K(a),s=x(),i(e,"class",r=`bg-slate-750 ${n[6].enabled===!0?"text-slate-300":"text-slate-500"}`),e.__value=l=n[6].key,e.value=e.__value,e.disabled=c=n[6].enabled===!1},m(o,d){C(o,e,d),w(e,t),w(e,s)},p(o,d){d&4&&a!==(a=o[6].display+"")&&ee(t,a),d&4&&r!==(r=`bg-slate-750 ${o[6].enabled===!0?"text-slate-300":"text-slate-500"}`)&&i(e,"class",r),d&4&&l!==(l=o[6].key)&&(e.__value=l,e.value=e.__value),d&4&&c!==(c=o[6].enabled===!1)&&(e.disabled=c)},d(o){o&&y(e)}}}function Za(n){let e,a,t,s,r,l,c,o,d,h=n[2],f=[];for(let p=0;p<h.length;p+=1)f[p]=At(Bt(n,h,p));return{c(){e=j("div"),a=j("p"),t=K(n[1]),s=x(),r=j("select");for(let p=0;p<f.length;p+=1)f[p].c();i(a,"class","pl-1 text-slate-400 text-sm"),i(r,"class",l=`rounded  border border-slate-500 placeholder-slate-500 focus:outline-none focus:border-slate-400
            text-slate-300  
            block w-full p-2.5
            ${n[3]===!0?"bg-slate-700":"bg-slate-800"}`),r.disabled=n[3],n[0]===void 0&&qe(()=>n[5].call(r)),i(e,"class",c=`flex flex-col items-start space-y-0.5
    ${n[4]}`)},m(p,m){C(p,e,m),w(e,a),w(a,t),w(e,s),w(e,r);for(let g=0;g<f.length;g+=1)f[g].m(r,null);ct(r,n[0]),o||(d=de(r,"change",n[5]),o=!0)},p(p,[m]){if(m&2&&ee(t,p[1]),m&4){h=p[2];let g;for(g=0;g<h.length;g+=1){const _=Bt(p,h,g);f[g]?f[g].p(_,m):(f[g]=At(_),f[g].c(),f[g].m(r,null))}for(;g<f.length;g+=1)f[g].d(1);f.length=h.length}m&8&&l!==(l=`rounded  border border-slate-500 placeholder-slate-500 focus:outline-none focus:border-slate-400
            text-slate-300  
            block w-full p-2.5
            ${p[3]===!0?"bg-slate-700":"bg-slate-800"}`)&&i(r,"class",l),m&8&&(r.disabled=p[3]),m&5&&ct(r,p[0]),m&16&&c!==(c=`flex flex-col items-start space-y-0.5
    ${p[4]}`)&&i(e,"class",c)},i:N,o:N,d(p){p&&y(e),Me(f,p),o=!1,d()}}}function es(n,e,a){let{label:t}=e,{choicesData:s}=e,{selected:r=void 0}=e,{disabled:l=!1}=e,{class:c=""}=e;function o(){r=yn(this),a(0,r),a(2,s)}return n.$$set=d=>{"label"in d&&a(1,t=d.label),"choicesData"in d&&a(2,s=d.choicesData),"selected"in d&&a(0,r=d.selected),"disabled"in d&&a(3,l=d.disabled),"class"in d&&a(4,c=d.class)},[r,t,s,l,c,o]}class $e extends X{constructor(e){super(),G(this,e,es,Za,Y,{label:1,choicesData:2,selected:0,disabled:3,class:4})}}function qt(n,e,a){const t=n.slice();return t[14]=e[a],t[15]=e,t[16]=a,t}function ts(n){let e;return{c(){e=j("p"),e.textContent="Selected State",i(e,"class","text-slate-300 text-xl")},m(a,t){C(a,e,t)},p:N,d(a){a&&y(e)}}}function ns(n){let e,a;return{c(){e=q("svg"),a=q("path"),i(a,"stroke-linecap","round"),i(a,"stroke-linejoin","round"),i(a,"d","M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"class","h-4 w-4"),i(e,"fill","none"),i(e,"viewBox","0 0 24 24"),i(e,"stroke","currentColor"),i(e,"stroke-width","2")},m(t,s){C(t,e,s),w(e,a)},p:N,d(t){t&&y(e)}}}function as(n){let e,a;return{c(){e=q("svg"),a=q("path"),i(a,"stroke-linecap","round"),i(a,"stroke-linejoin","round"),i(a,"d","M6 18L18 6M6 6l12 12"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"class","h-4 w-4"),i(e,"fill","none"),i(e,"viewBox","0 0 24 24"),i(e,"stroke","currentColor"),i(e,"stroke-width","2")},m(t,s){C(t,e,s),w(e,a)},p:N,d(t){t&&y(e)}}}function zt(n){let e,a,t,s,r,l,c;function o(p){n[10](p,n[16])}let d={class:"w-16",label:"Attempts"};n[1].storage.states.data[n[0]].hints[n[16]].attempts!==void 0&&(d.value=n[1].storage.states.data[n[0]].hints[n[16]].attempts),a=new xn({props:d}),H.push(()=>U(a,"value",o));function h(p){n[11](p,n[16])}let f={class:"grow",label:`Hint ${n[16]+1} Text`,placeholder:"Perhaps that key could be useful somewhere?"};return n[1].storage.states.data[n[0]].hints[n[16]].text!==void 0&&(f.value=n[1].storage.states.data[n[0]].hints[n[16]].text),r=new me({props:f}),H.push(()=>U(r,"value",h)),{c(){e=j("div"),O(a.$$.fragment),s=x(),O(r.$$.fragment),i(e,"class","flex flex-row space-x-6 w-full")},m(p,m){C(p,e,m),S(a,e,null),w(e,s),S(r,e,null),c=!0},p(p,m){n=p;const g={};!t&&m&3&&(t=!0,g.value=n[1].storage.states.data[n[0]].hints[n[16]].attempts,E(()=>t=!1)),a.$set(g);const _={};!l&&m&3&&(l=!0,_.value=n[1].storage.states.data[n[0]].hints[n[16]].text,E(()=>l=!1)),r.$set(_)},i(p){c||(D(a.$$.fragment,p),D(r.$$.fragment,p),c=!0)},o(p){I(a.$$.fragment,p),I(r.$$.fragment,p),c=!1},d(p){p&&y(e),M(a),M(r)}}}function ss(n){let e,a,t;function s(l){n[13](l)}let r={class:"w-1/2",label:"Ending Line",placeholder:"Good End"};return n[1].storage.states.data[n[0]].args[0]!==void 0&&(r.value=n[1].storage.states.data[n[0]].args[0]),e=new me({props:r}),H.push(()=>U(e,"value",s)),{c(){O(e.$$.fragment)},m(l,c){S(e,l,c),t=!0},p(l,c){const o={};!a&&c&3&&(a=!0,o.value=l[1].storage.states.data[l[0]].args[0],E(()=>a=!1)),e.$set(o)},i(l){t||(D(e.$$.fragment,l),t=!0)},o(l){I(e.$$.fragment,l),t=!1},d(l){M(e,l)}}}function ls(n){let e,a,t;function s(l){n[12](l)}let r={class:"w-1/2",label:"Next State",choicesData:n[3]};return n[1].storage.states.data[n[0]].args[0]!==void 0&&(r.selected=n[1].storage.states.data[n[0]].args[0]),e=new $e({props:r}),H.push(()=>U(e,"selected",s)),{c(){O(e.$$.fragment)},m(l,c){S(e,l,c),t=!0},p(l,c){const o={};c&8&&(o.choicesData=l[3]),!a&&c&3&&(a=!0,o.selected=l[1].storage.states.data[l[0]].args[0],E(()=>a=!1)),e.$set(o)},i(l){t||(D(e.$$.fragment,l),t=!0)},o(l){I(e.$$.fragment,l),t=!1},d(l){M(e,l)}}}function rs(n){let e,a,t,s,r,l,c,o,d,h,f,p,m,g,_,u,b,$,v,B,R,k,z,P,Z,ie,fe,V,pe,ce,oe,Ie;function Se(A){n[6](A)}let je={class:"w-3/4",label:"Title",placeholder:"The beginning of your peril"};n[1].storage.states.data[n[0]].title!==void 0&&(je.value=n[1].storage.states.data[n[0]].title),a=new me({props:je}),H.push(()=>U(a,"value",Se));function ye(A){n[7](A)}let ke={class:"w-1/4",label:"State Type",choicesData:n[2]};n[1].storage.states.data[n[0]].type!==void 0&&(ke.selected=n[1].storage.states.data[n[0]].type),r=new $e({props:ke}),H.push(()=>U(r,"selected",ye));function De(A){n[8](A)}let Le={class:"w-3/5",label:"Description",placeholder:"You slowly awake within a cold, dark basement...",rows:8};n[1].storage.states.data[n[0]].description!==void 0&&(Le.value=n[1].storage.states.data[n[0]].description),d=new ze({props:Le}),H.push(()=>U(d,"value",De));function Ne(A){n[9](A)}let Te={class:"grow",label:"Development Notes",placeholder:"Goal: remove blindfold and investigate surroundings",rows:8};n[1].storage.states.data[n[0]].notes!==void 0&&(Te.value=n[1].storage.states.data[n[0]].notes),p=new ze({props:Te}),H.push(()=>U(p,"value",Ne)),b=new Xa({props:{label:"Image",imageData:n[1].storage.states.data[n[0]].imageB64}}),B=new F({props:{class:"mt-1",label:"Load Image",onclick:n[4],$$slots:{default:[ns]},$$scope:{ctx:n}}}),k=new F({props:{class:"mt-1",label:"Clear Image",onclick:n[5],$$slots:{default:[as]},$$scope:{ctx:n}}});let Be={length:3},ue=[];for(let A=0;A<Be.length;A+=1)ue[A]=zt(qt(n,Be,A));const dt=A=>I(ue[A],1,1,()=>{ue[A]=null}),Ze=[ls,ss],T=[];function W(A,Q){return A[1].storage.states.data[A[0]].type==="intermediate"?0:A[1].storage.states.data[A[0]].type==="ending"?1:-1}return~(ce=W(n))&&(oe=T[ce]=Ze[ce](n)),{c(){e=j("div"),O(a.$$.fragment),s=x(),O(r.$$.fragment),c=x(),o=j("div"),O(d.$$.fragment),f=x(),O(p.$$.fragment),g=x(),_=j("div"),u=j("div"),O(b.$$.fragment),$=x(),v=j("div"),O(B.$$.fragment),R=x(),O(k.$$.fragment),z=x(),P=j("div"),Z=j("p"),Z.textContent="To disable hint, set number of (failed) attempts to -1",ie=x();for(let A=0;A<ue.length;A+=1)ue[A].c();fe=x(),V=j("div"),pe=x(),oe&&oe.c(),i(e,"class","flex flex-row space-x-6"),i(o,"class","flex flex-row space-x-6"),i(v,"class","flex flex-row space-x-2"),i(u,"class","flex flex-col space-y-2 w-1/2"),i(Z,"class","mb-2"),i(V,"class","grow"),i(P,"class","flex flex-col space-y-2 w-1/2 p-4"),i(_,"class","grow flex flex-row space-x-6")},m(A,Q){C(A,e,Q),S(a,e,null),w(e,s),S(r,e,null),C(A,c,Q),C(A,o,Q),S(d,o,null),w(o,f),S(p,o,null),C(A,g,Q),C(A,_,Q),w(_,u),S(b,u,null),w(u,$),w(u,v),S(B,v,null),w(v,R),S(k,v,null),w(_,z),w(_,P),w(P,Z),w(P,ie);for(let te=0;te<ue.length;te+=1)ue[te].m(P,null);w(P,fe),w(P,V),w(P,pe),~ce&&T[ce].m(P,null),Ie=!0},p(A,Q){const te={};!t&&Q&3&&(t=!0,te.value=A[1].storage.states.data[A[0]].title,E(()=>t=!1)),a.$set(te);const re={};Q&4&&(re.choicesData=A[2]),!l&&Q&3&&(l=!0,re.selected=A[1].storage.states.data[A[0]].type,E(()=>l=!1)),r.$set(re);const ge={};!h&&Q&3&&(h=!0,ge.value=A[1].storage.states.data[A[0]].description,E(()=>h=!1)),d.$set(ge);const we={};!m&&Q&3&&(m=!0,we.value=A[1].storage.states.data[A[0]].notes,E(()=>m=!1)),p.$set(we);const He={};Q&3&&(He.imageData=A[1].storage.states.data[A[0]].imageB64),b.$set(He);const Ee={};Q&131072&&(Ee.$$scope={dirty:Q,ctx:A}),B.$set(Ee);const Je={};if(Q&131072&&(Je.$$scope={dirty:Q,ctx:A}),k.$set(Je),Q&3){Be={length:3};let _e;for(_e=0;_e<Be.length;_e+=1){const et=qt(A,Be,_e);ue[_e]?(ue[_e].p(et,Q),D(ue[_e],1)):(ue[_e]=zt(et),ue[_e].c(),D(ue[_e],1),ue[_e].m(P,fe))}for(ae(),_e=Be.length;_e<ue.length;_e+=1)dt(_e);se()}let Ue=ce;ce=W(A),ce===Ue?~ce&&T[ce].p(A,Q):(oe&&(ae(),I(T[Ue],1,1,()=>{T[Ue]=null}),se()),~ce?(oe=T[ce],oe?oe.p(A,Q):(oe=T[ce]=Ze[ce](A),oe.c()),D(oe,1),oe.m(P,null)):oe=null)},i(A){if(!Ie){D(a.$$.fragment,A),D(r.$$.fragment,A),D(d.$$.fragment,A),D(p.$$.fragment,A),D(b.$$.fragment,A),D(B.$$.fragment,A),D(k.$$.fragment,A);for(let Q=0;Q<Be.length;Q+=1)D(ue[Q]);D(oe),Ie=!0}},o(A){I(a.$$.fragment,A),I(r.$$.fragment,A),I(d.$$.fragment,A),I(p.$$.fragment,A),I(b.$$.fragment,A),I(B.$$.fragment,A),I(k.$$.fragment,A),ue=ue.filter(Boolean);for(let Q=0;Q<ue.length;Q+=1)I(ue[Q]);I(oe),Ie=!1},d(A){A&&y(e),M(a),M(r),A&&y(c),A&&y(o),M(d),M(p),A&&y(g),A&&y(_),M(b),M(B),M(k),Me(ue,A),~ce&&T[ce].d()}}}function os(n){let e,a;return e=new le({props:{class:"h-full w-full min-h-0",$$slots:{content:[rs],header:[ts]},$$scope:{ctx:n}}}),{c(){O(e.$$.fragment)},m(t,s){S(e,t,s),a=!0},p(t,[s]){const r={};s&131087&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){a||(D(e.$$.fragment,t),a=!0)},o(t){I(e.$$.fragment,t),a=!1},d(t){M(e,t)}}}function is(n,e,a){let t;ne(n,L,b=>a(1,t=b));let{selectedStateID:s}=e,r=[{key:"normal",display:"Normal",enabled:!0},{key:"opening",display:"Opening",enabled:!0},{key:"starting",display:"Starting",enabled:!0},{key:"intermediate",display:"Intermediate",enabled:!0},{key:"ending",display:"Ending",enabled:!0}],l=[];async function c(){const b=await On();b.startsWith("Cancelled")!==!0&&(J(L,t.storage.states.data[s].imageB64=b,t),L.set(t))}async function o(){J(L,t.storage.states.data[s].imageB64="",t),L.set(t)}function d(b){n.$$.not_equal(t.storage.states.data[s].title,b)&&(t.storage.states.data[s].title=b,L.set(t))}function h(b){n.$$.not_equal(t.storage.states.data[s].type,b)&&(t.storage.states.data[s].type=b,L.set(t))}function f(b){n.$$.not_equal(t.storage.states.data[s].description,b)&&(t.storage.states.data[s].description=b,L.set(t))}function p(b){n.$$.not_equal(t.storage.states.data[s].notes,b)&&(t.storage.states.data[s].notes=b,L.set(t))}function m(b,$){n.$$.not_equal(t.storage.states.data[s].hints[$].attempts,b)&&(t.storage.states.data[s].hints[$].attempts=b,L.set(t))}function g(b,$){n.$$.not_equal(t.storage.states.data[s].hints[$].text,b)&&(t.storage.states.data[s].hints[$].text=b,L.set(t))}function _(b){n.$$.not_equal(t.storage.states.data[s].args[0],b)&&(t.storage.states.data[s].args[0]=b,L.set(t))}function u(b){n.$$.not_equal(t.storage.states.data[s].args[0],b)&&(t.storage.states.data[s].args[0]=b,L.set(t))}return n.$$set=b=>{"selectedStateID"in b&&a(0,s=b.selectedStateID)},n.$$.update=()=>{n.$$.dirty&3&&(t.storage.states,a(2,r[1].enabled=Object.values(t.storage.states.data).findIndex(b=>b.type==="opening")===-1||t.storage.states.data[s].type==="opening",r),a(2,r[2].enabled=Object.values(t.storage.states.data).findIndex(b=>b.type==="starting")===-1||t.storage.states.data[s].type==="starting",r)),n.$$.dirty&2&&(t.storage.states,a(3,l=t.storage.states.ordering.map(b=>t.storage.states.data[b]).map(b=>({key:b.id,display:b.title,enabled:!0}))))},[s,t,r,l,c,o,d,h,f,p,m,g,_,u]}class cs extends X{constructor(e){super(),G(this,e,is,os,Y,{selectedStateID:0})}}function ds(n){let e,a,t,s=n[1].type==="opening"?"O":n[1].type==="starting"?"S":n[1].type==="ending"?"E":n[1].type==="intermediate"?"I":"",r,l,c,o=n[1].title+"",d,h,f,p,m,g,_,u;return{c(){e=j("div"),a=j("div"),t=j("p"),r=K(s),l=x(),c=j("p"),d=K(o),h=x(),f=j("p"),p=K(n[0]),i(t,"class","font-mono font-bold text-l w-4"),i(c,"class","text-left w-11/12 min-w-0 truncate"),i(a,"class","grow flex flex-row items-center space-x-3 basis-0 shrink min-w-0"),i(f,"class",m=`font-mono ${n[2]===!0?"text-slate-500":"text-slate-600"}`),i(e,"class",g=`flex flex-row justify-between space-x-1
    rounded border 
    p-2 pl-4 pr-4
    ${n[3]} ${n[2]===!0?"text-slate-200 bg-slate-700 border-slate-600":"text-slate-400 bg-slate-750 border-slate-700"}`)},m(b,$){C(b,e,$),w(e,a),w(a,t),w(t,r),w(a,l),w(a,c),w(c,d),w(e,h),w(e,f),w(f,p),_||(u=de(e,"click",n[4]),_=!0)},p(b,[$]){$&2&&s!==(s=b[1].type==="opening"?"O":b[1].type==="starting"?"S":b[1].type==="ending"?"E":b[1].type==="intermediate"?"I":"")&&ee(r,s),$&2&&o!==(o=b[1].title+"")&&ee(d,o),$&1&&ee(p,b[0]),$&4&&m!==(m=`font-mono ${b[2]===!0?"text-slate-500":"text-slate-600"}`)&&i(f,"class",m),$&12&&g!==(g=`flex flex-row justify-between space-x-1
    rounded border 
    p-2 pl-4 pr-4
    ${b[3]} ${b[2]===!0?"text-slate-200 bg-slate-700 border-slate-600":"text-slate-400 bg-slate-750 border-slate-700"}`)&&i(e,"class",g)},i:N,o:N,d(b){b&&y(e),_=!1,u()}}}function fs(n,e,a){let{key:t}=e,{stateData:s}=e,{selected:r}=e,{class:l}=e;const c=Ce();function o(){c("dispatchClick",{key:t})}return n.$$set=d=>{"key"in d&&a(0,t=d.key),"stateData"in d&&a(1,s=d.stateData),"selected"in d&&a(2,r=d.selected),"class"in d&&a(3,l=d.class)},[t,s,r,l,o]}class us extends X{constructor(e){super(),G(this,e,fs,ds,Y,{key:0,stateData:1,selected:2,class:3})}}function gs(n){let e,a;return{c(){e=q("svg"),a=q("path"),i(a,"stroke-linecap","round"),i(a,"stroke-linejoin","round"),i(a,"d","M12 4v16m8-8H4"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"class","h-4 w-4"),i(e,"fill","none"),i(e,"viewBox","0 0 24 24"),i(e,"stroke","currentColor"),i(e,"stroke-width","2")},m(t,s){C(t,e,s),w(e,a)},p:N,d(t){t&&y(e)}}}function ps(n){let e,a;return{c(){e=q("svg"),a=q("path"),i(a,"stroke-linecap","round"),i(a,"stroke-linejoin","round"),i(a,"d","M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"class","h-4 w-4"),i(e,"fill","none"),i(e,"viewBox","0 0 24 24"),i(e,"stroke","currentColor"),i(e,"stroke-width","2")},m(t,s){C(t,e,s),w(e,a)},p:N,d(t){t&&y(e)}}}function ms(n){let e,a;return{c(){e=q("svg"),a=q("path"),i(a,"stroke-linecap","round"),i(a,"stroke-linejoin","round"),i(a,"d","M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"class","h-4 w-4"),i(e,"fill","none"),i(e,"viewBox","0 0 24 24"),i(e,"stroke","currentColor"),i(e,"stroke-width","2")},m(t,s){C(t,e,s),w(e,a)},p:N,d(t){t&&y(e)}}}function bs(n){let e,a;return{c(){e=q("svg"),a=q("path"),i(a,"stroke-linecap","round"),i(a,"stroke-linejoin","round"),i(a,"d","M5 15l7-7 7 7"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"class","h-4 w-4"),i(e,"fill","none"),i(e,"viewBox","0 0 24 24"),i(e,"stroke","currentColor"),i(e,"stroke-width","2")},m(t,s){C(t,e,s),w(e,a)},p:N,d(t){t&&y(e)}}}function hs(n){let e,a;return{c(){e=q("svg"),a=q("path"),i(a,"stroke-linecap","round"),i(a,"stroke-linejoin","round"),i(a,"d","M19 9l-7 7-7-7"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"class","h-4 w-4"),i(e,"fill","none"),i(e,"viewBox","0 0 24 24"),i(e,"stroke","currentColor"),i(e,"stroke-width","2")},m(t,s){C(t,e,s),w(e,a)},p:N,d(t){t&&y(e)}}}function _s(n){let e,a,t,s,r,l,c,o,d,h,f,p,m,g,_;return r=new F({props:{onclick:n[2],$$slots:{default:[gs]},$$scope:{ctx:n}}}),c=new F({props:{onclick:n[3],$$slots:{default:[ps]},$$scope:{ctx:n}}}),d=new F({props:{onclick:n[4],$$slots:{default:[ms]},$$scope:{ctx:n}}}),p=new F({props:{onclick:n[5],$$slots:{default:[bs]},$$scope:{ctx:n}}}),g=new F({props:{onclick:n[6],$$slots:{default:[hs]},$$scope:{ctx:n}}}),{c(){e=j("p"),e.textContent="Game States",a=x(),t=j("div"),s=j("div"),O(r.$$.fragment),l=x(),O(c.$$.fragment),o=x(),O(d.$$.fragment),h=x(),f=j("div"),O(p.$$.fragment),m=x(),O(g.$$.fragment),i(e,"class","text-slate-300 text-xl align-middle"),i(s,"class","flex flex-row space-x-1"),i(f,"class","flex flex-row space-x-1"),i(t,"class","flex flex-row space-x-4")},m(u,b){C(u,e,b),C(u,a,b),C(u,t,b),w(t,s),S(r,s,null),w(s,l),S(c,s,null),w(s,o),S(d,s,null),w(t,h),w(t,f),S(p,f,null),w(f,m),S(g,f,null),_=!0},p(u,b){const $={};b&1024&&($.$$scope={dirty:b,ctx:u}),r.$set($);const v={};b&1024&&(v.$$scope={dirty:b,ctx:u}),c.$set(v);const B={};b&1024&&(B.$$scope={dirty:b,ctx:u}),d.$set(B);const R={};b&1024&&(R.$$scope={dirty:b,ctx:u}),p.$set(R);const k={};b&1024&&(k.$$scope={dirty:b,ctx:u}),g.$set(k)},i(u){_||(D(r.$$.fragment,u),D(c.$$.fragment,u),D(d.$$.fragment,u),D(p.$$.fragment,u),D(g.$$.fragment,u),_=!0)},o(u){I(r.$$.fragment,u),I(c.$$.fragment,u),I(d.$$.fragment,u),I(p.$$.fragment,u),I(g.$$.fragment,u),_=!1},d(u){u&&y(e),u&&y(a),u&&y(t),M(r),M(c),M(d),M(p),M(g)}}}function ws(n){let e,a,t;function s(l){n[8](l)}let r={deselectable:!0,scrollingRadioData:n[1]};return n[0]!==void 0&&(r.selectedID=n[0]),e=new xe({props:r}),H.push(()=>U(e,"selectedID",s)),{c(){O(e.$$.fragment)},m(l,c){S(e,l,c),t=!0},p(l,c){const o={};c&2&&(o.scrollingRadioData=l[1]),!a&&c&1&&(a=!0,o.selectedID=l[0],E(()=>a=!1)),e.$set(o)},i(l){t||(D(e.$$.fragment,l),t=!0)},o(l){I(e.$$.fragment,l),t=!1},d(l){M(e,l)}}}function $s(n){let e,a;return e=new le({props:{class:`grow shrink space-y-2 \r
    w-full min-h-0`,contentClass:`scrollbar-thin scrollbar-thumb-slate-600 hover:scrollbar-thumb-rounded overflow-x-hidden\r
        pr-4 mr-1`,$$slots:{content:[ws],header:[_s]},$$scope:{ctx:n}}}),{c(){O(e.$$.fragment)},m(t,s){S(e,t,s),a=!0},p(t,[s]){const r={};s&1027&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){a||(D(e.$$.fragment,t),a=!0)},o(t){I(e.$$.fragment,t),a=!1},d(t){M(e,t)}}}function vs(n,e,a){let t;ne(n,L,m=>a(7,t=m));let{selectedStateID:s}=e,r;function l(){return t.storage.states.ordering.filter(m=>m!==void 0).map(m=>{const g=t.storage.states.data[m];return{key:g.id,component:us,props:{stateData:g}}})}function c(){const m=be(he);J(L,t.storage.states.data[m]={id:m,title:"",description:"",notes:"",imageB64:"",type:"normal",args:[],hints:[{attempts:-1,text:""},{attempts:-1,text:""},{attempts:-1,text:""},{attempts:-1,text:""},{attempts:-1,text:""}],interactions:{data:{},ordering:[]},locations:{data:{},ordering:[]}},t),t.storage.states.ordering.push(m),L.set(t)}function o(){if(s!==void 0){const m=t.storage.states.data[s],g=JSON.parse(JSON.stringify(m)),_=be(he);g.id=_,J(L,t.storage.states.data[_]=g,t),t.storage.states.ordering.push(_),L.set(t)}}function d(){var m,g;if(s!==void 0){const _=s;a(0,s=void 0);const u=t.storage.states.ordering,b=u.findIndex($=>$===_);for(let $=b;$<u.length-1;$++)u[$]=(m=u[$+1])!=null?m:void 0;u.pop(),a(0,s=(g=u[b])!=null?g:u[b-1]),delete t.storage.states.data[_],L.set(t)}}function h(){if(s!==void 0&&t.storage.states.ordering.length>1){const m=t.storage.states.ordering,g=m.findIndex(u=>u===s);if(g<=0)return;const _=m[g];m[g]=m[g-1],m[g-1]=_,L.set(t)}}function f(){if(s!==void 0&&t.storage.states.ordering.length>1){const m=t.storage.states.ordering,g=m.findIndex(u=>u===s);if(g===-1||g===t.storage.states.ordering.length-1)return;const _=m[g];m[g]=m[g+1],m[g+1]=_,L.set(t)}}function p(m){s=m,a(0,s)}return n.$$set=m=>{"selectedStateID"in m&&a(0,s=m.selectedStateID)},n.$$.update=()=>{n.$$.dirty&128&&(t.storage.states,a(1,r=l()))},[s,r,c,o,d,h,f,t,p]}class ks extends X{constructor(e){super(),G(this,e,vs,$s,Y,{selectedStateID:0})}}function Ds(n){let e;return{c(){e=j("p"),e.textContent="Tip: Copy states (instead of creating new ones) to preserve interactions and minimap data for less hassle!"},m(a,t){C(a,e,t)},p:N,d(a){a&&y(e)}}}function Tt(n){let e,a;return e=new cs({props:{selectedStateID:n[0]}}),{c(){O(e.$$.fragment)},m(t,s){S(e,t,s),a=!0},p(t,s){const r={};s&1&&(r.selectedStateID=t[0]),e.$set(r)},i(t){a||(D(e.$$.fragment,t),a=!0)},o(t){I(e.$$.fragment,t),a=!1},d(t){M(e,t)}}}function Is(n){let e,a,t,s,r,l,c,o,d;t=new le({props:{$$slots:{content:[Ds]},$$scope:{ctx:n}}});function h(m){n[1](m)}let f={};n[0]!==void 0&&(f.selectedStateID=n[0]),r=new ks({props:f}),H.push(()=>U(r,"selectedStateID",h));let p=n[0]!==void 0&&n[0]!==""&&Tt(n);return{c(){e=j("div"),a=j("div"),O(t.$$.fragment),s=x(),O(r.$$.fragment),c=x(),o=j("div"),p&&p.c(),i(a,"class","flex flex-col space-y-4 h-full"),ve(a,"width","30%"),i(o,"class","flex flex-col space-y-4 h-full"),ve(o,"width","calc(70% - 1em)"),i(e,"class","flex flex-row space-x-4 h-full w-full")},m(m,g){C(m,e,g),w(e,a),S(t,a,null),w(a,s),S(r,a,null),w(e,c),w(e,o),p&&p.m(o,null),d=!0},p(m,[g]){const _={};g&8&&(_.$$scope={dirty:g,ctx:m}),t.$set(_);const u={};!l&&g&1&&(l=!0,u.selectedStateID=m[0],E(()=>l=!1)),r.$set(u),m[0]!==void 0&&m[0]!==""?p?(p.p(m,g),g&1&&D(p,1)):(p=Tt(m),p.c(),D(p,1),p.m(o,null)):p&&(ae(),I(p,1,1,()=>{p=null}),se())},i(m){d||(D(t.$$.fragment,m),D(r.$$.fragment,m),D(p),d=!0)},o(m){I(t.$$.fragment,m),I(r.$$.fragment,m),I(p),d=!1},d(m){m&&y(e),M(t),M(r),p&&p.d()}}}function js(n,e,a){let t;ne(n,Qe,r=>a(0,t=r));function s(r){t=r,Qe.set(t)}return[t,s]}class ys extends X{constructor(e){super(),G(this,e,js,Is,Y,{})}}function Ht(n){let e,a,t,s,r,l,c,o=n[6]!==""?`- ${n[6]}`:"",d,h=(n[5]!==""||n[6]!=="")&&Et();return{c(){e=j("p"),a=K(n[4]),t=x(),h&&h.c(),s=x(),r=j("p"),l=K(n[5]),c=x(),d=K(o),i(e,"class","w-12 text-left")},m(f,p){C(f,e,p),w(e,a),C(f,t,p),h&&h.m(f,p),C(f,s,p),C(f,r,p),w(r,l),w(r,c),w(r,d)},p(f,p){p&16&&ee(a,f[4]),f[5]!==""||f[6]!==""?h||(h=Et(),h.c(),h.m(s.parentNode,s)):h&&(h.d(1),h=null),p&32&&ee(l,f[5]),p&64&&o!==(o=f[6]!==""?`- ${f[6]}`:"")&&ee(d,o)},d(f){f&&y(e),f&&y(t),h&&h.d(f),f&&y(s),f&&y(r)}}}function Et(n){let e;return{c(){e=j("p"),e.textContent="|"},m(a,t){C(a,e,t)},d(a){a&&y(e)}}}function Cs(n){let e,a,t,s=n[1].devName+"",r,l,c,o,d,h,f,p,m,g,_,u,b=n[1].action!==""&&Ht(n);return{c(){e=j("div"),a=j("div"),t=j("p"),r=K(s),l=x(),c=j("div"),b&&b.c(),d=x(),h=j("div"),f=j("p"),p=K(n[0]),i(t,"class","h-6 text-left w-full min-w-0 truncate"),i(c,"class",o=`flex flex-row h-5 space-x-4 text-sm ${n[2]===!0?"text-slate-400":"text-slate-500"}`),i(a,"class","flex flex-col items-start w-9/12"),i(f,"class",m=`text-center font-mono ${n[2]===!0?"text-slate-500":"text-slate-600"}`),i(h,"class","flex flex-row items-center h-full"),i(e,"class",g=`flex flex-row justify-between space-x-1
    rounded border 
    p-2 pl-4 pr-4
    ${n[3]} ${n[2]===!0?"text-slate-200 bg-slate-700 border-slate-600":"text-slate-400 bg-slate-750 border-slate-700"}`)},m($,v){C($,e,v),w(e,a),w(a,t),w(t,r),w(a,l),w(a,c),b&&b.m(c,null),w(e,d),w(e,h),w(h,f),w(f,p),_||(u=de(e,"click",n[7]),_=!0)},p($,[v]){v&2&&s!==(s=$[1].devName+"")&&ee(r,s),$[1].action!==""?b?b.p($,v):(b=Ht($),b.c(),b.m(c,null)):b&&(b.d(1),b=null),v&4&&o!==(o=`flex flex-row h-5 space-x-4 text-sm ${$[2]===!0?"text-slate-400":"text-slate-500"}`)&&i(c,"class",o),v&1&&ee(p,$[0]),v&4&&m!==(m=`text-center font-mono ${$[2]===!0?"text-slate-500":"text-slate-600"}`)&&i(f,"class",m),v&12&&g!==(g=`flex flex-row justify-between space-x-1
    rounded border 
    p-2 pl-4 pr-4
    ${$[3]} ${$[2]===!0?"text-slate-200 bg-slate-700 border-slate-600":"text-slate-400 bg-slate-750 border-slate-700"}`)&&i(e,"class",g)},i:N,o:N,d($){$&&y(e),b&&b.d(),_=!1,u()}}}function Ss(n,e,a){let t,s;ne(n,L,g=>a(8,t=g)),ne(n,Qe,g=>a(9,s=g));let{key:r}=e,{interactionData:l}=e,{selected:c}=e,{class:o}=e;const d=Ce();function h(){d("dispatchClick",{key:r})}let f="",p="",m="";return n.$$set=g=>{"key"in g&&a(0,r=g.key),"interactionData"in g&&a(1,l=g.interactionData),"selected"in g&&a(2,c=g.selected),"class"in g&&a(3,o=g.class)},n.$$.update=()=>{if(n.$$.dirty&770){t.data.actions,t.storage.states.data[s].interactions;const g=t.data.actions.data[l.action];a(4,f=g!==void 0?g.name:"")}n.$$.dirty&770&&(t.data.restraintLocations,t.storage.restraints,t.storage.objects,t.storage.states.data[s].interactions,a(5,p=""),t.data.restraintLocations.data[l.components[0]]!==void 0?a(5,p=`(L) ${t.data.restraintLocations.data[l.components[0]].name}`):t.storage.restraints.data[l.components[0]]!==void 0?a(5,p=`(R) ${t.storage.restraints.data[l.components[0]].devName}`):t.storage.objects.data[l.components[0]]!==void 0&&a(5,p=`(O) ${t.storage.objects.data[l.components[0]].devName}`)),n.$$.dirty&770&&(t.data.restraintLocations,t.storage.restraints,t.storage.objects,t.storage.states.data[s].interactions,a(6,m=""),t.data.restraintLocations.data[l.components[1]]!==void 0?a(6,m=`(L) ${t.data.restraintLocations.data[l.components[1]].name}`):t.storage.restraints.data[l.components[1]]!==void 0?a(6,m=`(R) ${t.storage.restraints.data[l.components[1]].devName}`):t.storage.objects.data[l.components[1]]!==void 0&&a(6,m=`(O) ${t.storage.objects.data[l.components[1]].devName}`))},[r,l,c,o,f,p,m,h,t,s]}class Ms extends X{constructor(e){super(),G(this,e,Ss,Cs,Y,{key:0,interactionData:1,selected:2,class:3})}}function Os(n){let e,a;return{c(){e=q("svg"),a=q("path"),i(a,"stroke-linecap","round"),i(a,"stroke-linejoin","round"),i(a,"d","M12 4v16m8-8H4"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"class","h-4 w-4"),i(e,"fill","none"),i(e,"viewBox","0 0 24 24"),i(e,"stroke","currentColor"),i(e,"stroke-width","2")},m(t,s){C(t,e,s),w(e,a)},p:N,d(t){t&&y(e)}}}function Rs(n){let e,a;return{c(){e=q("svg"),a=q("path"),i(a,"stroke-linecap","round"),i(a,"stroke-linejoin","round"),i(a,"d","M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"class","h-4 w-4"),i(e,"fill","none"),i(e,"viewBox","0 0 24 24"),i(e,"stroke","currentColor"),i(e,"stroke-width","2")},m(t,s){C(t,e,s),w(e,a)},p:N,d(t){t&&y(e)}}}function xs(n){let e,a;return{c(){e=q("svg"),a=q("path"),i(a,"stroke-linecap","round"),i(a,"stroke-linejoin","round"),i(a,"d","M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"class","h-4 w-4"),i(e,"fill","none"),i(e,"viewBox","0 0 24 24"),i(e,"stroke","currentColor"),i(e,"stroke-width","2")},m(t,s){C(t,e,s),w(e,a)},p:N,d(t){t&&y(e)}}}function Ls(n){let e,a;return{c(){e=q("svg"),a=q("path"),i(a,"stroke-linecap","round"),i(a,"stroke-linejoin","round"),i(a,"d","M5 15l7-7 7 7"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"class","h-4 w-4"),i(e,"fill","none"),i(e,"viewBox","0 0 24 24"),i(e,"stroke","currentColor"),i(e,"stroke-width","2")},m(t,s){C(t,e,s),w(e,a)},p:N,d(t){t&&y(e)}}}function Ns(n){let e,a;return{c(){e=q("svg"),a=q("path"),i(a,"stroke-linecap","round"),i(a,"stroke-linejoin","round"),i(a,"d","M19 9l-7 7-7-7"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"class","h-4 w-4"),i(e,"fill","none"),i(e,"viewBox","0 0 24 24"),i(e,"stroke","currentColor"),i(e,"stroke-width","2")},m(t,s){C(t,e,s),w(e,a)},p:N,d(t){t&&y(e)}}}function Bs(n){let e,a,t,s,r,l,c,o,d,h,f,p,m,g,_;return r=new F({props:{onclick:n[3],$$slots:{default:[Os]},$$scope:{ctx:n}}}),c=new F({props:{onclick:n[4],$$slots:{default:[Rs]},$$scope:{ctx:n}}}),d=new F({props:{onclick:n[5],$$slots:{default:[xs]},$$scope:{ctx:n}}}),p=new F({props:{onclick:n[6],$$slots:{default:[Ls]},$$scope:{ctx:n}}}),g=new F({props:{onclick:n[7],$$slots:{default:[Ns]},$$scope:{ctx:n}}}),{c(){e=j("p"),e.textContent="Game Interactions",a=x(),t=j("div"),s=j("div"),O(r.$$.fragment),l=x(),O(c.$$.fragment),o=x(),O(d.$$.fragment),h=x(),f=j("div"),O(p.$$.fragment),m=x(),O(g.$$.fragment),i(e,"class","text-slate-300 text-xl align-middle"),i(s,"class","flex flex-row space-x-1"),i(f,"class","flex flex-row space-x-1"),i(t,"class","flex flex-row space-x-4")},m(u,b){C(u,e,b),C(u,a,b),C(u,t,b),w(t,s),S(r,s,null),w(s,l),S(c,s,null),w(s,o),S(d,s,null),w(t,h),w(t,f),S(p,f,null),w(f,m),S(g,f,null),_=!0},p(u,b){const $={};b&4096&&($.$$scope={dirty:b,ctx:u}),r.$set($);const v={};b&4096&&(v.$$scope={dirty:b,ctx:u}),c.$set(v);const B={};b&4096&&(B.$$scope={dirty:b,ctx:u}),d.$set(B);const R={};b&4096&&(R.$$scope={dirty:b,ctx:u}),p.$set(R);const k={};b&4096&&(k.$$scope={dirty:b,ctx:u}),g.$set(k)},i(u){_||(D(r.$$.fragment,u),D(c.$$.fragment,u),D(d.$$.fragment,u),D(p.$$.fragment,u),D(g.$$.fragment,u),_=!0)},o(u){I(r.$$.fragment,u),I(c.$$.fragment,u),I(d.$$.fragment,u),I(p.$$.fragment,u),I(g.$$.fragment,u),_=!1},d(u){u&&y(e),u&&y(a),u&&y(t),M(r),M(c),M(d),M(p),M(g)}}}function As(n){let e,a,t;function s(l){n[10](l)}let r={deselectable:!0,scrollingRadioData:n[2]};return n[0]!==void 0&&(r.selectedID=n[0]),e=new xe({props:r}),H.push(()=>U(e,"selectedID",s)),{c(){O(e.$$.fragment)},m(l,c){S(e,l,c),t=!0},p(l,c){const o={};c&4&&(o.scrollingRadioData=l[2]),!a&&c&1&&(a=!0,o.selectedID=l[0],E(()=>a=!1)),e.$set(o)},i(l){t||(D(e.$$.fragment,l),t=!0)},o(l){I(e.$$.fragment,l),t=!1},d(l){M(e,l)}}}function qs(n){let e,a;return e=new le({props:{class:`shrink
    w-full h-3/5 min-h-0
    ${n[1]}`,contentClass:`scrollbar-thin scrollbar-thumb-slate-600 hover:scrollbar-thumb-rounded overflow-x-hidden\r
        pr-4 mr-1`,$$slots:{content:[As],header:[Bs]},$$scope:{ctx:n}}}),{c(){O(e.$$.fragment)},m(t,s){S(e,t,s),a=!0},p(t,[s]){const r={};s&2&&(r.class=`shrink
    w-full h-3/5 min-h-0
    ${t[1]}`),s&4101&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){a||(D(e.$$.fragment,t),a=!0)},o(t){I(e.$$.fragment,t),a=!1},d(t){M(e,t)}}}function zs(n,e,a){let t;ne(n,L,_=>a(9,t=_));let{selectedStateID:s}=e,{selectedInteractionID:r}=e,{class:l=""}=e,c;function o(){return t.storage.states.data[s].interactions.ordering.filter(_=>_!==void 0).map(_=>{const u=t.storage.states.data[s].interactions.data[_];return{key:u.id,component:Ms,props:{interactionData:u}}})}function d(){const _=be(he);J(L,t.storage.states.data[s].interactions.data[_]={id:_,devName:"",action:"",components:["",""],criteria:{data:{},ordering:[]},results:{data:{},ordering:[]}},t),t.storage.states.data[s].interactions.ordering.push(_),L.set(t)}function h(){if(r!==void 0){const _=t.storage.states.data[s].interactions.data[r],u=JSON.parse(JSON.stringify(_)),b=be(he);u.id=b,J(L,t.storage.states.data[s].interactions.data[b]=u,t),t.storage.states.data[s].interactions.ordering.push(b),L.set(t)}}function f(){var _,u;if(r!==void 0){const b=r;a(0,r=void 0);const $=t.storage.states.data[s].interactions.ordering,v=$.findIndex(B=>B===b);for(let B=v;B<$.length-1;B++)$[B]=(_=$[B+1])!=null?_:void 0;$.pop(),a(0,r=(u=$[v])!=null?u:$[v-1]),delete t.storage.states.data[s].interactions.data[b],L.set(t)}}function p(){if(r!==void 0&&t.storage.states.data[s].interactions.ordering.length>1){const _=t.storage.states.data[s].interactions.ordering,u=_.findIndex($=>$===r);if(u<=0)return;const b=_[u];_[u]=_[u-1],_[u-1]=b,L.set(t)}}function m(){if(r!==void 0&&t.storage.states.data[s].interactions.ordering.length>1){const _=t.storage.states.data[s].interactions.ordering,u=_.findIndex($=>$===r);if(u===-1||u===t.storage.states.data[s].interactions.ordering.length-1)return;const b=_[u];_[u]=_[u+1],_[u+1]=b,L.set(t)}}function g(_){r=_,a(0,r)}return n.$$set=_=>{"selectedStateID"in _&&a(8,s=_.selectedStateID),"selectedInteractionID"in _&&a(0,r=_.selectedInteractionID),"class"in _&&a(1,l=_.class)},n.$$.update=()=>{n.$$.dirty&768&&t.storage.states.data[s]!==void 0&&(t.storage.states.data[s].interactions,a(2,c=o()))},[r,l,c,d,h,f,p,m,s,t,g]}class Ts extends X{constructor(e){super(),G(this,e,zs,qs,Y,{selectedStateID:8,selectedInteractionID:0,class:1})}}function Hs(n){let e;return{c(){e=j("p"),e.textContent="Selected Interaction",i(e,"class","text-slate-300 text-xl")},m(a,t){C(a,e,t)},p:N,d(a){a&&y(e)}}}function Es(n){let e,a,t,s,r,l,c,o,d,h,f,p,m;function g(k){n[7](k)}let _={label:"Development Name",placeholder:"Removing wrist restraints with knife"};n[2].storage.states.data[n[0]].interactions.data[n[1]].devName!==void 0&&(_.value=n[2].storage.states.data[n[0]].interactions.data[n[1]].devName),e=new me({props:_}),H.push(()=>U(e,"value",g));function u(k){n[8](k)}let b={class:"w-1/3",label:"Targeted Action",disabled:n[6]===!0,choicesData:n[3]};n[2].storage.states.data[n[0]].interactions.data[n[1]].action!==void 0&&(b.selected=n[2].storage.states.data[n[0]].interactions.data[n[1]].action),s=new $e({props:b}),H.push(()=>U(s,"selected",u));function $(k){n[9](k)}let v={class:"w-1/2",label:"Component #1",disabled:n[6]===!0,choicesData:n[4]};n[2].storage.states.data[n[0]].interactions.data[n[1]].components[0]!==void 0&&(v.selected=n[2].storage.states.data[n[0]].interactions.data[n[1]].components[0]),o=new $e({props:v}),H.push(()=>U(o,"selected",$));function B(k){n[10](k)}let R={class:"grow",label:"Component #2",disabled:n[6]===!0||n[5]===!1,choicesData:n[4]};return n[2].storage.states.data[n[0]].interactions.data[n[1]].components[1]!==void 0&&(R.selected=n[2].storage.states.data[n[0]].interactions.data[n[1]].components[1]),f=new $e({props:R}),H.push(()=>U(f,"selected",B)),{c(){O(e.$$.fragment),t=x(),O(s.$$.fragment),l=x(),c=j("div"),O(o.$$.fragment),h=x(),O(f.$$.fragment),i(c,"class","flex flex-row space-x-6")},m(k,z){S(e,k,z),C(k,t,z),S(s,k,z),C(k,l,z),C(k,c,z),S(o,c,null),w(c,h),S(f,c,null),m=!0},p(k,z){const P={};!a&&z&7&&(a=!0,P.value=k[2].storage.states.data[k[0]].interactions.data[k[1]].devName,E(()=>a=!1)),e.$set(P);const Z={};z&64&&(Z.disabled=k[6]===!0),z&8&&(Z.choicesData=k[3]),!r&&z&7&&(r=!0,Z.selected=k[2].storage.states.data[k[0]].interactions.data[k[1]].action,E(()=>r=!1)),s.$set(Z);const ie={};z&64&&(ie.disabled=k[6]===!0),z&16&&(ie.choicesData=k[4]),!d&&z&7&&(d=!0,ie.selected=k[2].storage.states.data[k[0]].interactions.data[k[1]].components[0],E(()=>d=!1)),o.$set(ie);const fe={};z&96&&(fe.disabled=k[6]===!0||k[5]===!1),z&16&&(fe.choicesData=k[4]),!p&&z&7&&(p=!0,fe.selected=k[2].storage.states.data[k[0]].interactions.data[k[1]].components[1],E(()=>p=!1)),f.$set(fe)},i(k){m||(D(e.$$.fragment,k),D(s.$$.fragment,k),D(o.$$.fragment,k),D(f.$$.fragment,k),m=!0)},o(k){I(e.$$.fragment,k),I(s.$$.fragment,k),I(o.$$.fragment,k),I(f.$$.fragment,k),m=!1},d(k){M(e,k),k&&y(t),M(s,k),k&&y(l),k&&y(c),M(o),M(f)}}}function Us(n){let e,a,t;return a=new le({props:{class:"h-full w-full min-h-0 overflow-y-auto",$$slots:{content:[Es],header:[Hs]},$$scope:{ctx:n}}}),{c(){e=j("div"),O(a.$$.fragment),i(e,"class","grow shrink w-full min-h-0")},m(s,r){C(s,e,r),S(a,e,null),t=!0},p(s,[r]){const l={};r&2175&&(l.$$scope={dirty:r,ctx:s}),a.$set(l)},i(s){t||(D(a.$$.fragment,s),t=!0)},o(s){I(a.$$.fragment,s),t=!1},d(s){s&&y(e),M(a)}}}function Ws(n,e,a){let t;ne(n,L,g=>a(2,t=g));let{selectedStateID:s}=e,{selectedInteractionID:r}=e,l=[],c=[],o=!1,d;function h(g){n.$$.not_equal(t.storage.states.data[s].interactions.data[r].devName,g)&&(t.storage.states.data[s].interactions.data[r].devName=g,L.set(t))}function f(g){n.$$.not_equal(t.storage.states.data[s].interactions.data[r].action,g)&&(t.storage.states.data[s].interactions.data[r].action=g,L.set(t))}function p(g){n.$$.not_equal(t.storage.states.data[s].interactions.data[r].components[0],g)&&(t.storage.states.data[s].interactions.data[r].components[0]=g,L.set(t))}function m(g){n.$$.not_equal(t.storage.states.data[s].interactions.data[r].components[1],g)&&(t.storage.states.data[s].interactions.data[r].components[1]=g,L.set(t))}return n.$$set=g=>{"selectedStateID"in g&&a(0,s=g.selectedStateID),"selectedInteractionID"in g&&a(1,r=g.selectedInteractionID)},n.$$.update=()=>{if(n.$$.dirty&7&&(a(6,d=!1),t.storage.states.data[s].interactions.data[r]!==void 0)){for(const g of t.storage.states.data[s].interactions.data[r].criteria.ordering)if(t.storage.states.data[s].interactions.data[r].criteria.data[g].type==="exceededAttempts"){J(L,t.storage.states.data[s].interactions.data[r].action="",t),J(L,t.storage.states.data[s].interactions.data[r].components=["",""],t),a(6,d=!0);break}}if(n.$$.dirty&4&&(t.data.actions,a(3,l=t.data.actions.ordering.map(g=>{const _=t.data.actions.data[g];return{key:_.id,display:_.name,enabled:!0}}))),n.$$.dirty&4&&(t.storage.restraints,t.storage.objects,a(4,c=[{key:"",display:"",enabled:!0},...t.data.restraintLocations.ordering.map(g=>{const _=t.data.restraintLocations.data[g];return{key:_.id,display:`(L) ${_.name}`,enabled:!0}}),...t.storage.restraints.ordering.map(g=>{const _=t.storage.restraints.data[g];return{key:_.id,display:`(L) ${_.devName}`,enabled:!0}}),...t.storage.objects.ordering.map(g=>{const _=t.storage.objects.data[g];return{key:_.id,display:`(O) ${_.devName}`,enabled:!0}})])),n.$$.dirty&7&&t.storage.states.data[s].interactions.data[r]!==void 0){t.storage.states.data[s].interactions.data[r].action;const g=t.data.actions.data[t.storage.states.data[s].interactions.data[r].action];g!==void 0&&a(5,o=g.two)}},[s,r,t,l,c,o,d,h,f,p,m]}class Ps extends X{constructor(e){super(),G(this,e,Ws,Us,Y,{selectedStateID:0,selectedInteractionID:1})}}function Fs(n){let e,a,t=n[1].devName+"",s,r,l,c,o,d,h,f,p;return{c(){e=j("div"),a=j("p"),s=K(t),r=x(),l=j("div"),c=j("p"),o=K(n[0]),i(a,"class","text-left w-11/12 min-w-0 truncate"),i(c,"class",d=`text-center font-mono ${n[2]===!0?"text-slate-500":"text-slate-600"}`),i(l,"class","flex flex-row items-center h-full"),i(e,"class",h=`flex flex-row justify-between space-x-1
    rounded border 
    p-2 pl-4 pr-4
    ${n[3]} ${n[2]===!0?"text-slate-200 bg-slate-700 border-slate-600":"text-slate-400 bg-slate-750 border-slate-700"}`)},m(m,g){C(m,e,g),w(e,a),w(a,s),w(e,r),w(e,l),w(l,c),w(c,o),f||(p=de(e,"click",n[4]),f=!0)},p(m,[g]){g&2&&t!==(t=m[1].devName+"")&&ee(s,t),g&1&&ee(o,m[0]),g&4&&d!==(d=`text-center font-mono ${m[2]===!0?"text-slate-500":"text-slate-600"}`)&&i(c,"class",d),g&12&&h!==(h=`flex flex-row justify-between space-x-1
    rounded border 
    p-2 pl-4 pr-4
    ${m[3]} ${m[2]===!0?"text-slate-200 bg-slate-700 border-slate-600":"text-slate-400 bg-slate-750 border-slate-700"}`)&&i(e,"class",h)},i:N,o:N,d(m){m&&y(e),f=!1,p()}}}function Vs(n,e,a){let{key:t}=e,{criteriaData:s}=e,{selected:r}=e,{class:l}=e;const c=Ce();function o(){c("dispatchClick",{key:t})}return n.$$set=d=>{"key"in d&&a(0,t=d.key),"criteriaData"in d&&a(1,s=d.criteriaData),"selected"in d&&a(2,r=d.selected),"class"in d&&a(3,l=d.class)},[t,s,r,l,o]}class Js extends X{constructor(e){super(),G(this,e,Vs,Fs,Y,{key:0,criteriaData:1,selected:2,class:3})}}function Ys(n){let e,a;return{c(){e=q("svg"),a=q("path"),i(a,"stroke-linecap","round"),i(a,"stroke-linejoin","round"),i(a,"d","M12 4v16m8-8H4"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"class","h-4 w-4"),i(e,"fill","none"),i(e,"viewBox","0 0 24 24"),i(e,"stroke","currentColor"),i(e,"stroke-width","2")},m(t,s){C(t,e,s),w(e,a)},p:N,d(t){t&&y(e)}}}function Gs(n){let e,a;return{c(){e=q("svg"),a=q("path"),i(a,"stroke-linecap","round"),i(a,"stroke-linejoin","round"),i(a,"d","M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"class","h-4 w-4"),i(e,"fill","none"),i(e,"viewBox","0 0 24 24"),i(e,"stroke","currentColor"),i(e,"stroke-width","2")},m(t,s){C(t,e,s),w(e,a)},p:N,d(t){t&&y(e)}}}function Xs(n){let e,a;return{c(){e=q("svg"),a=q("path"),i(a,"stroke-linecap","round"),i(a,"stroke-linejoin","round"),i(a,"d","M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"class","h-4 w-4"),i(e,"fill","none"),i(e,"viewBox","0 0 24 24"),i(e,"stroke","currentColor"),i(e,"stroke-width","2")},m(t,s){C(t,e,s),w(e,a)},p:N,d(t){t&&y(e)}}}function Ks(n){let e,a;return{c(){e=q("svg"),a=q("path"),i(a,"stroke-linecap","round"),i(a,"stroke-linejoin","round"),i(a,"d","M5 15l7-7 7 7"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"class","h-4 w-4"),i(e,"fill","none"),i(e,"viewBox","0 0 24 24"),i(e,"stroke","currentColor"),i(e,"stroke-width","2")},m(t,s){C(t,e,s),w(e,a)},p:N,d(t){t&&y(e)}}}function Qs(n){let e,a;return{c(){e=q("svg"),a=q("path"),i(a,"stroke-linecap","round"),i(a,"stroke-linejoin","round"),i(a,"d","M19 9l-7 7-7-7"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"class","h-4 w-4"),i(e,"fill","none"),i(e,"viewBox","0 0 24 24"),i(e,"stroke","currentColor"),i(e,"stroke-width","2")},m(t,s){C(t,e,s),w(e,a)},p:N,d(t){t&&y(e)}}}function Zs(n){let e,a,t,s,r,l,c,o,d,h,f,p,m,g,_;return r=new F({props:{onclick:n[3],$$slots:{default:[Ys]},$$scope:{ctx:n}}}),c=new F({props:{onclick:n[4],$$slots:{default:[Gs]},$$scope:{ctx:n}}}),d=new F({props:{onclick:n[5],$$slots:{default:[Xs]},$$scope:{ctx:n}}}),p=new F({props:{onclick:n[6],$$slots:{default:[Ks]},$$scope:{ctx:n}}}),g=new F({props:{onclick:n[7],$$slots:{default:[Qs]},$$scope:{ctx:n}}}),{c(){e=j("p"),e.textContent="Interaction Criteria",a=x(),t=j("div"),s=j("div"),O(r.$$.fragment),l=x(),O(c.$$.fragment),o=x(),O(d.$$.fragment),h=x(),f=j("div"),O(p.$$.fragment),m=x(),O(g.$$.fragment),i(e,"class","text-slate-300 text-xl align-middle"),i(s,"class","flex flex-row space-x-1"),i(f,"class","flex flex-row space-x-1"),i(t,"class","flex flex-row space-x-4")},m(u,b){C(u,e,b),C(u,a,b),C(u,t,b),w(t,s),S(r,s,null),w(s,l),S(c,s,null),w(s,o),S(d,s,null),w(t,h),w(t,f),S(p,f,null),w(f,m),S(g,f,null),_=!0},p(u,b){const $={};b&8192&&($.$$scope={dirty:b,ctx:u}),r.$set($);const v={};b&8192&&(v.$$scope={dirty:b,ctx:u}),c.$set(v);const B={};b&8192&&(B.$$scope={dirty:b,ctx:u}),d.$set(B);const R={};b&8192&&(R.$$scope={dirty:b,ctx:u}),p.$set(R);const k={};b&8192&&(k.$$scope={dirty:b,ctx:u}),g.$set(k)},i(u){_||(D(r.$$.fragment,u),D(c.$$.fragment,u),D(d.$$.fragment,u),D(p.$$.fragment,u),D(g.$$.fragment,u),_=!0)},o(u){I(r.$$.fragment,u),I(c.$$.fragment,u),I(d.$$.fragment,u),I(p.$$.fragment,u),I(g.$$.fragment,u),_=!1},d(u){u&&y(e),u&&y(a),u&&y(t),M(r),M(c),M(d),M(p),M(g)}}}function el(n){let e,a,t;function s(l){n[11](l)}let r={deselectable:!0,scrollingRadioData:n[2]};return n[0]!==void 0&&(r.selectedID=n[0]),e=new xe({props:r}),H.push(()=>U(e,"selectedID",s)),{c(){O(e.$$.fragment)},m(l,c){S(e,l,c),t=!0},p(l,c){const o={};c&4&&(o.scrollingRadioData=l[2]),!a&&c&1&&(a=!0,o.selectedID=l[0],E(()=>a=!1)),e.$set(o)},i(l){t||(D(e.$$.fragment,l),t=!0)},o(l){I(e.$$.fragment,l),t=!1},d(l){M(e,l)}}}function tl(n){let e,a;return e=new le({props:{class:`shrink
    w-full min-h-0
    ${n[1]}`,contentClass:`scrollbar-thin scrollbar-thumb-slate-600 hover:scrollbar-thumb-rounded overflow-x-hidden\r
        pr-4 mr-1`,$$slots:{content:[el],header:[Zs]},$$scope:{ctx:n}}}),{c(){O(e.$$.fragment)},m(t,s){S(e,t,s),a=!0},p(t,[s]){const r={};s&2&&(r.class=`shrink
    w-full min-h-0
    ${t[1]}`),s&8197&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){a||(D(e.$$.fragment,t),a=!0)},o(t){I(e.$$.fragment,t),a=!1},d(t){M(e,t)}}}function nl(n,e,a){let t;ne(n,L,u=>a(10,t=u));let{selectedStateID:s}=e,{selectedInteractionID:r}=e,{selectedCriteriaID:l}=e,{class:c=""}=e,o;function d(){return t.storage.states.data[s].interactions.data[r].criteria.ordering.filter(u=>u!==void 0).map(u=>{const b=t.storage.states.data[s].interactions.data[r].criteria.data[u];return{key:b.id,component:Js,props:{criteriaData:b}}})}function h(){const u=be(he);J(L,t.storage.states.data[s].interactions.data[r].criteria.data[u]={id:u,devName:"",type:"flagEquals",args:[]},t),t.storage.states.data[s].interactions.data[r].criteria.ordering.push(u),L.set(t)}function f(){if(l!==void 0){const u=t.storage.states.data[s].interactions.data[r].criteria.data[l],b=JSON.parse(JSON.stringify(u)),$=be(he);b.id=$,J(L,t.storage.states.data[s].interactions.data[r].criteria.data[$]=b,t),t.storage.states.data[s].interactions.data[r].criteria.ordering.push($),L.set(t)}}function p(){var u,b;if(l!==void 0){const $=l;a(0,l=void 0);const v=t.storage.states.data[s].interactions.data[r].criteria.ordering,B=v.findIndex(R=>R===$);for(let R=B;R<v.length-1;R++)v[R]=(u=v[R+1])!=null?u:void 0;v.pop(),a(0,l=(b=v[B])!=null?b:v[B-1]),delete t.storage.states.data[s].interactions.data[r].criteria.data[$],L.set(t)}}function m(){if(l!==void 0&&t.storage.states.data[s].interactions.data[r].criteria.ordering.length>1){const u=t.storage.states.data[s].interactions.data[r].criteria.ordering,b=u.findIndex(v=>v===l);if(b<=0)return;const $=u[b];u[b]=u[b-1],u[b-1]=$,L.set(t)}}function g(){if(l!==void 0&&t.storage.states.data[s].interactions.data[r].criteria.ordering.length>1){const u=t.storage.states.data[s].interactions.data[r].criteria.ordering,b=u.findIndex(v=>v===l);if(b===-1||b===t.storage.states.data[s].interactions.data[r].criteria.ordering.length-1)return;const $=u[b];u[b]=u[b-1],u[b-1]=$,L.set(t)}}function _(u){l=u,a(0,l),a(9,r)}return n.$$set=u=>{"selectedStateID"in u&&a(8,s=u.selectedStateID),"selectedInteractionID"in u&&a(9,r=u.selectedInteractionID),"selectedCriteriaID"in u&&a(0,l=u.selectedCriteriaID),"class"in u&&a(1,c=u.class)},n.$$.update=()=>{n.$$.dirty&1792&&t.storage.states.data[s].interactions.data[r]!==void 0&&(t.storage.states.data[s].interactions.data[r].criteria,a(2,o=d())),n.$$.dirty&512&&a(0,l=void 0)},[l,c,o,h,f,p,m,g,s,r,t,_]}class al extends X{constructor(e){super(),G(this,e,nl,tl,Y,{selectedStateID:8,selectedInteractionID:9,selectedCriteriaID:0,class:1})}}function sl(n){let e,a,t=n[1].devName+"",s,r,l,c,o,d,h,f,p;return{c(){e=j("div"),a=j("p"),s=K(t),r=x(),l=j("div"),c=j("p"),o=K(n[0]),i(a,"class","text-left w-11/12 min-w-0 truncate"),i(c,"class",d=`text-center font-mono ${n[2]===!0?"text-slate-500":"text-slate-600"}`),i(l,"class","flex flex-row items-center h-full"),i(e,"class",h=`flex flex-row justify-between space-x-1
    rounded border 
    p-2 pl-4 pr-4
    ${n[3]} ${n[2]===!0?"text-slate-200 bg-slate-700 border-slate-600":"text-slate-400 bg-slate-750 border-slate-700"}`)},m(m,g){C(m,e,g),w(e,a),w(a,s),w(e,r),w(e,l),w(l,c),w(c,o),f||(p=de(e,"click",n[4]),f=!0)},p(m,[g]){g&2&&t!==(t=m[1].devName+"")&&ee(s,t),g&1&&ee(o,m[0]),g&4&&d!==(d=`text-center font-mono ${m[2]===!0?"text-slate-500":"text-slate-600"}`)&&i(c,"class",d),g&12&&h!==(h=`flex flex-row justify-between space-x-1
    rounded border 
    p-2 pl-4 pr-4
    ${m[3]} ${m[2]===!0?"text-slate-200 bg-slate-700 border-slate-600":"text-slate-400 bg-slate-750 border-slate-700"}`)&&i(e,"class",h)},i:N,o:N,d(m){m&&y(e),f=!1,p()}}}function ll(n,e,a){let{key:t}=e,{resultData:s}=e,{selected:r}=e,{class:l}=e;const c=Ce();function o(){c("dispatchClick",{key:t})}return n.$$set=d=>{"key"in d&&a(0,t=d.key),"resultData"in d&&a(1,s=d.resultData),"selected"in d&&a(2,r=d.selected),"class"in d&&a(3,l=d.class)},[t,s,r,l,o]}class rl extends X{constructor(e){super(),G(this,e,ll,sl,Y,{key:0,resultData:1,selected:2,class:3})}}function ol(n){let e,a;return{c(){e=q("svg"),a=q("path"),i(a,"stroke-linecap","round"),i(a,"stroke-linejoin","round"),i(a,"d","M12 4v16m8-8H4"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"class","h-4 w-4"),i(e,"fill","none"),i(e,"viewBox","0 0 24 24"),i(e,"stroke","currentColor"),i(e,"stroke-width","2")},m(t,s){C(t,e,s),w(e,a)},p:N,d(t){t&&y(e)}}}function il(n){let e,a;return{c(){e=q("svg"),a=q("path"),i(a,"stroke-linecap","round"),i(a,"stroke-linejoin","round"),i(a,"d","M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"class","h-4 w-4"),i(e,"fill","none"),i(e,"viewBox","0 0 24 24"),i(e,"stroke","currentColor"),i(e,"stroke-width","2")},m(t,s){C(t,e,s),w(e,a)},p:N,d(t){t&&y(e)}}}function cl(n){let e,a;return{c(){e=q("svg"),a=q("path"),i(a,"stroke-linecap","round"),i(a,"stroke-linejoin","round"),i(a,"d","M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"class","h-4 w-4"),i(e,"fill","none"),i(e,"viewBox","0 0 24 24"),i(e,"stroke","currentColor"),i(e,"stroke-width","2")},m(t,s){C(t,e,s),w(e,a)},p:N,d(t){t&&y(e)}}}function dl(n){let e,a;return{c(){e=q("svg"),a=q("path"),i(a,"stroke-linecap","round"),i(a,"stroke-linejoin","round"),i(a,"d","M5 15l7-7 7 7"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"class","h-4 w-4"),i(e,"fill","none"),i(e,"viewBox","0 0 24 24"),i(e,"stroke","currentColor"),i(e,"stroke-width","2")},m(t,s){C(t,e,s),w(e,a)},p:N,d(t){t&&y(e)}}}function fl(n){let e,a;return{c(){e=q("svg"),a=q("path"),i(a,"stroke-linecap","round"),i(a,"stroke-linejoin","round"),i(a,"d","M19 9l-7 7-7-7"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"class","h-4 w-4"),i(e,"fill","none"),i(e,"viewBox","0 0 24 24"),i(e,"stroke","currentColor"),i(e,"stroke-width","2")},m(t,s){C(t,e,s),w(e,a)},p:N,d(t){t&&y(e)}}}function ul(n){let e,a,t,s,r,l,c,o,d,h,f,p,m,g,_;return r=new F({props:{onclick:n[3],$$slots:{default:[ol]},$$scope:{ctx:n}}}),c=new F({props:{onclick:n[4],$$slots:{default:[il]},$$scope:{ctx:n}}}),d=new F({props:{onclick:n[5],$$slots:{default:[cl]},$$scope:{ctx:n}}}),p=new F({props:{onclick:n[6],$$slots:{default:[dl]},$$scope:{ctx:n}}}),g=new F({props:{onclick:n[7],$$slots:{default:[fl]},$$scope:{ctx:n}}}),{c(){e=j("p"),e.textContent="Interaction Results",a=x(),t=j("div"),s=j("div"),O(r.$$.fragment),l=x(),O(c.$$.fragment),o=x(),O(d.$$.fragment),h=x(),f=j("div"),O(p.$$.fragment),m=x(),O(g.$$.fragment),i(e,"class","text-slate-300 text-xl align-middle"),i(s,"class","flex flex-row space-x-1"),i(f,"class","flex flex-row space-x-1"),i(t,"class","flex flex-row space-x-4")},m(u,b){C(u,e,b),C(u,a,b),C(u,t,b),w(t,s),S(r,s,null),w(s,l),S(c,s,null),w(s,o),S(d,s,null),w(t,h),w(t,f),S(p,f,null),w(f,m),S(g,f,null),_=!0},p(u,b){const $={};b&8192&&($.$$scope={dirty:b,ctx:u}),r.$set($);const v={};b&8192&&(v.$$scope={dirty:b,ctx:u}),c.$set(v);const B={};b&8192&&(B.$$scope={dirty:b,ctx:u}),d.$set(B);const R={};b&8192&&(R.$$scope={dirty:b,ctx:u}),p.$set(R);const k={};b&8192&&(k.$$scope={dirty:b,ctx:u}),g.$set(k)},i(u){_||(D(r.$$.fragment,u),D(c.$$.fragment,u),D(d.$$.fragment,u),D(p.$$.fragment,u),D(g.$$.fragment,u),_=!0)},o(u){I(r.$$.fragment,u),I(c.$$.fragment,u),I(d.$$.fragment,u),I(p.$$.fragment,u),I(g.$$.fragment,u),_=!1},d(u){u&&y(e),u&&y(a),u&&y(t),M(r),M(c),M(d),M(p),M(g)}}}function gl(n){let e,a,t;function s(l){n[11](l)}let r={deselectable:!0,scrollingRadioData:n[2]};return n[0]!==void 0&&(r.selectedID=n[0]),e=new xe({props:r}),H.push(()=>U(e,"selectedID",s)),{c(){O(e.$$.fragment)},m(l,c){S(e,l,c),t=!0},p(l,c){const o={};c&4&&(o.scrollingRadioData=l[2]),!a&&c&1&&(a=!0,o.selectedID=l[0],E(()=>a=!1)),e.$set(o)},i(l){t||(D(e.$$.fragment,l),t=!0)},o(l){I(e.$$.fragment,l),t=!1},d(l){M(e,l)}}}function pl(n){let e,a;return e=new le({props:{class:`shrink
    w-full min-h-0
    ${n[1]}`,contentClass:`scrollbar-thin scrollbar-thumb-slate-600 hover:scrollbar-thumb-rounded overflow-x-hidden\r
        pr-4 mr-1`,$$slots:{content:[gl],header:[ul]},$$scope:{ctx:n}}}),{c(){O(e.$$.fragment)},m(t,s){S(e,t,s),a=!0},p(t,[s]){const r={};s&2&&(r.class=`shrink
    w-full min-h-0
    ${t[1]}`),s&8197&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){a||(D(e.$$.fragment,t),a=!0)},o(t){I(e.$$.fragment,t),a=!1},d(t){M(e,t)}}}function ml(n,e,a){let t;ne(n,L,u=>a(10,t=u));let{selectedStateID:s}=e,{selectedInteractionID:r}=e,{selectedResultID:l}=e,{class:c=""}=e,o;function d(){return t.storage.states.data[s].interactions.data[r].results.ordering.filter(u=>u!==void 0).map(u=>{const b=t.storage.states.data[s].interactions.data[r].results.data[u];return{key:b.id,component:rl,props:{resultData:b}}})}function h(){const u=be(he);J(L,t.storage.states.data[s].interactions.data[r].results.data[u]={id:u,devName:"",type:"setFlag",args:[]},t),t.storage.states.data[s].interactions.data[r].results.ordering.push(u),L.set(t)}function f(){if(l!==void 0){const u=t.storage.states.data[s].interactions.data[r].results.data[l],b=JSON.parse(JSON.stringify(u)),$=be(he);b.id=$,J(L,t.storage.states.data[s].interactions.data[r].results.data[$]=b,t),t.storage.states.data[s].interactions.data[r].results.ordering.push($),L.set(t)}}function p(){var u,b;if(l!==void 0){const $=l;a(0,l=void 0);const v=t.storage.states.data[s].interactions.data[r].results.ordering,B=v.findIndex(R=>R===$);for(let R=B;R<v.length-1;R++)v[R]=(u=v[R+1])!=null?u:void 0;v.pop(),a(0,l=(b=v[B])!=null?b:v[B-1]),delete t.storage.states.data[s].interactions.data[r].results.data[$],L.set(t)}}function m(){if(l!==void 0&&t.storage.states.data[s].interactions.data[r].results.ordering.length>1){const u=t.storage.states.data[s].interactions.data[r].results.ordering,b=u.findIndex(v=>v===l);if(b<=0)return;const $=u[b];u[b]=u[b-1],u[b-1]=$,L.set(t)}}function g(){if(l!==void 0&&t.storage.states.data[s].interactions.data[r].results.ordering.length>1){const u=t.storage.states.data[s].interactions.data[r].results.ordering,b=u.findIndex(v=>v===l);if(b===-1||b===t.storage.states.data[s].interactions.data[r].results.ordering.length-1)return;const $=u[b];u[b]=u[b-1],u[b-1]=$,L.set(t)}}function _(u){l=u,a(0,l),a(9,r)}return n.$$set=u=>{"selectedStateID"in u&&a(8,s=u.selectedStateID),"selectedInteractionID"in u&&a(9,r=u.selectedInteractionID),"selectedResultID"in u&&a(0,l=u.selectedResultID),"class"in u&&a(1,c=u.class)},n.$$.update=()=>{n.$$.dirty&1792&&t.storage.states.data[s].interactions.data[r]!==void 0&&(t.storage.states.data[s].interactions.data[r].results,a(2,o=d())),n.$$.dirty&512&&a(0,l=void 0)},[l,c,o,h,f,p,m,g,s,r,t,_]}class bl extends X{constructor(e){super(),G(this,e,ml,pl,Y,{selectedStateID:8,selectedInteractionID:9,selectedResultID:0,class:1})}}function hl(n){let e;return{c(){e=j("p"),e.textContent="Selected Criteria",i(e,"class","text-slate-300 text-xl")},m(a,t){C(a,e,t)},p:N,d(a){a&&y(e)}}}function _l(n){let e,a,t;function s(l){n[15](l)}let r={class:"w-1/5",label:"Attempts"};return n[4].storage.states.data[n[0]].interactions.data[n[1]].criteria.data[n[2]].args[0]!==void 0&&(r.value=n[4].storage.states.data[n[0]].interactions.data[n[1]].criteria.data[n[2]].args[0]),e=new xn({props:r}),H.push(()=>U(e,"value",s)),{c(){O(e.$$.fragment)},m(l,c){S(e,l,c),t=!0},p(l,c){const o={};!a&&c&23&&(a=!0,o.value=l[4].storage.states.data[l[0]].interactions.data[l[1]].criteria.data[l[2]].args[0],E(()=>a=!1)),e.$set(o)},i(l){t||(D(e.$$.fragment,l),t=!0)},o(l){I(e.$$.fragment,l),t=!1},d(l){M(e,l)}}}function wl(n){let e,a,t;function s(l){n[14](l)}let r={class:"w-1/2",label:"Object",disabled:!1,choicesData:n[6]};return n[4].storage.states.data[n[0]].interactions.data[n[1]].criteria.data[n[2]].args[0]!==void 0&&(r.selected=n[4].storage.states.data[n[0]].interactions.data[n[1]].criteria.data[n[2]].args[0]),e=new $e({props:r}),H.push(()=>U(e,"selected",s)),{c(){O(e.$$.fragment)},m(l,c){S(e,l,c),t=!0},p(l,c){const o={};c&64&&(o.choicesData=l[6]),!a&&c&23&&(a=!0,o.selected=l[4].storage.states.data[l[0]].interactions.data[l[1]].criteria.data[l[2]].args[0],E(()=>a=!1)),e.$set(o)},i(l){t||(D(e.$$.fragment,l),t=!0)},o(l){I(e.$$.fragment,l),t=!1},d(l){M(e,l)}}}function $l(n){let e,a,t;function s(l){n[13](l)}let r={class:"w-1/2",label:"Restraint",disabled:!1,choicesData:n[5]};return n[4].storage.states.data[n[0]].interactions.data[n[1]].criteria.data[n[2]].args[0]!==void 0&&(r.selected=n[4].storage.states.data[n[0]].interactions.data[n[1]].criteria.data[n[2]].args[0]),e=new $e({props:r}),H.push(()=>U(e,"selected",s)),{c(){O(e.$$.fragment)},m(l,c){S(e,l,c),t=!0},p(l,c){const o={};c&32&&(o.choicesData=l[5]),!a&&c&23&&(a=!0,o.selected=l[4].storage.states.data[l[0]].interactions.data[l[1]].criteria.data[l[2]].args[0],E(()=>a=!1)),e.$set(o)},i(l){t||(D(e.$$.fragment,l),t=!0)},o(l){I(e.$$.fragment,l),t=!1},d(l){M(e,l)}}}function vl(n){let e,a,t,s,r,l;function c(f){n[11](f)}let o={class:"w-1/2",label:"Flag Name",placeholder:"pushedButton"};n[4].storage.states.data[n[0]].interactions.data[n[1]].criteria.data[n[2]].args[0]!==void 0&&(o.value=n[4].storage.states.data[n[0]].interactions.data[n[1]].criteria.data[n[2]].args[0]),e=new me({props:o}),H.push(()=>U(e,"value",c));function d(f){n[12](f)}let h={class:"w-1/2",label:"Flag Value",placeholder:"true"};return n[4].storage.states.data[n[0]].interactions.data[n[1]].criteria.data[n[2]].args[1]!==void 0&&(h.value=n[4].storage.states.data[n[0]].interactions.data[n[1]].criteria.data[n[2]].args[1]),s=new me({props:h}),H.push(()=>U(s,"value",d)),{c(){O(e.$$.fragment),t=x(),O(s.$$.fragment)},m(f,p){S(e,f,p),C(f,t,p),S(s,f,p),l=!0},p(f,p){const m={};!a&&p&23&&(a=!0,m.value=f[4].storage.states.data[f[0]].interactions.data[f[1]].criteria.data[f[2]].args[0],E(()=>a=!1)),e.$set(m);const g={};!r&&p&23&&(r=!0,g.value=f[4].storage.states.data[f[0]].interactions.data[f[1]].criteria.data[f[2]].args[1],E(()=>r=!1)),s.$set(g)},i(f){l||(D(e.$$.fragment,f),D(s.$$.fragment,f),l=!0)},o(f){I(e.$$.fragment,f),I(s.$$.fragment,f),l=!1},d(f){M(e,f),f&&y(t),M(s,f)}}}function kl(n){let e,a,t,s,r,l,c,o,d,h,f;function p(v){n[9](v)}let m={class:"w-full",label:"Development Name",placeholder:"Pushed Button"};n[4].storage.states.data[n[0]].interactions.data[n[1]].criteria.data[n[2]].devName!==void 0&&(m.value=n[4].storage.states.data[n[0]].interactions.data[n[1]].criteria.data[n[2]].devName),a=new me({props:m}),H.push(()=>U(a,"value",p));function g(v){n[10](v)}let _={class:"w-1/2",label:"Criteria Type",disabled:!1,choicesData:n[7]};n[4].storage.states.data[n[0]].interactions.data[n[1]].criteria.data[n[2]].type!==void 0&&(_.selected=n[4].storage.states.data[n[0]].interactions.data[n[1]].criteria.data[n[2]].type),r=new $e({props:_}),H.push(()=>U(r,"selected",g));const u=[vl,$l,wl,_l],b=[];function $(v,B){return v[3]==="flagEquals"||v[3]==="flagNotEquals"?0:v[3]==="restraintWearing"||v[3]==="restraintNotWearing"?1:v[3]==="objectFound"||v[3]==="objectNotFound"?2:v[3]==="exceededAttempts"?3:-1}return~(o=$(n))&&(d=b[o]=u[o](n)),{c(){e=j("div"),O(a.$$.fragment),s=x(),O(r.$$.fragment),c=x(),d&&d.c(),h=Oe(),i(e,"class","mb-4 space-y-2")},m(v,B){C(v,e,B),S(a,e,null),w(e,s),S(r,e,null),C(v,c,B),~o&&b[o].m(v,B),C(v,h,B),f=!0},p(v,B){const R={};!t&&B&23&&(t=!0,R.value=v[4].storage.states.data[v[0]].interactions.data[v[1]].criteria.data[v[2]].devName,E(()=>t=!1)),a.$set(R);const k={};!l&&B&23&&(l=!0,k.selected=v[4].storage.states.data[v[0]].interactions.data[v[1]].criteria.data[v[2]].type,E(()=>l=!1)),r.$set(k);let z=o;o=$(v),o===z?~o&&b[o].p(v,B):(d&&(ae(),I(b[z],1,1,()=>{b[z]=null}),se()),~o?(d=b[o],d?d.p(v,B):(d=b[o]=u[o](v),d.c()),D(d,1),d.m(h.parentNode,h)):d=null)},i(v){f||(D(a.$$.fragment,v),D(r.$$.fragment,v),D(d),f=!0)},o(v){I(a.$$.fragment,v),I(r.$$.fragment,v),I(d),f=!1},d(v){v&&y(e),M(a),M(r),v&&y(c),~o&&b[o].d(v),v&&y(h)}}}function Dl(n){let e,a,t;return a=new le({props:{class:"h-full w-full min-h-0 overlfow-y-auto",$$slots:{content:[kl],header:[hl]},$$scope:{ctx:n}}}),{c(){e=j("div"),O(a.$$.fragment),i(e,"class","grow shrink w-full min-h-0")},m(s,r){C(s,e,r),S(a,e,null),t=!0},p(s,[r]){const l={};r&65663&&(l.$$scope={dirty:r,ctx:s}),a.$set(l)},i(s){t||(D(a.$$.fragment,s),t=!0)},o(s){I(a.$$.fragment,s),t=!1},d(s){s&&y(e),M(a)}}}function Il(n,e,a){let t;ne(n,L,v=>a(4,t=v));let{selectedStateID:s}=e,{selectedInteractionID:r}=e,{selectedCriteriaID:l}=e,c=[{key:"flagEquals",display:"Flag equals",enabled:!0},{key:"flagNotEquals",display:"Flag doesn't equal",enabled:!0},{key:"restraintWearing",display:"Wearing restraint",enabled:!0},{key:"restraintNotWearing",display:"Not wearing restraint",enabled:!0},{key:"objectFound",display:"Object found",enabled:!0},{key:"objectNotFound",display:"Object not found",enabled:!0},{key:"exceededAttempts",display:"Exceeded attempts",enabled:!0}],o=[],d=[],h,f;function p(v){n.$$.not_equal(t.storage.states.data[s].interactions.data[r].criteria.data[l].devName,v)&&(t.storage.states.data[s].interactions.data[r].criteria.data[l].devName=v,L.set(t))}function m(v){n.$$.not_equal(t.storage.states.data[s].interactions.data[r].criteria.data[l].type,v)&&(t.storage.states.data[s].interactions.data[r].criteria.data[l].type=v,L.set(t))}function g(v){n.$$.not_equal(t.storage.states.data[s].interactions.data[r].criteria.data[l].args[0],v)&&(t.storage.states.data[s].interactions.data[r].criteria.data[l].args[0]=v,L.set(t))}function _(v){n.$$.not_equal(t.storage.states.data[s].interactions.data[r].criteria.data[l].args[1],v)&&(t.storage.states.data[s].interactions.data[r].criteria.data[l].args[1]=v,L.set(t))}function u(v){n.$$.not_equal(t.storage.states.data[s].interactions.data[r].criteria.data[l].args[0],v)&&(t.storage.states.data[s].interactions.data[r].criteria.data[l].args[0]=v,L.set(t))}function b(v){n.$$.not_equal(t.storage.states.data[s].interactions.data[r].criteria.data[l].args[0],v)&&(t.storage.states.data[s].interactions.data[r].criteria.data[l].args[0]=v,L.set(t))}function $(v){n.$$.not_equal(t.storage.states.data[s].interactions.data[r].criteria.data[l].args[0],v)&&(t.storage.states.data[s].interactions.data[r].criteria.data[l].args[0]=v,L.set(t))}return n.$$set=v=>{"selectedStateID"in v&&a(0,s=v.selectedStateID),"selectedInteractionID"in v&&a(1,r=v.selectedInteractionID),"selectedCriteriaID"in v&&a(2,l=v.selectedCriteriaID)},n.$$.update=()=>{if(n.$$.dirty&287&&t.storage.states.data[s].interactions.data[r].criteria.data[l]!==void 0){t.storage.states.data[s].interactions.data[r].criteria.data[l].type;const v=t.storage.states.data[s].interactions.data[r].criteria.data[l].type;f!==void 0&&v!==void 0&&f!==v&&h===l&&J(L,t.storage.states.data[s].interactions.data[r].criteria.data[l].args=[],t),a(3,f=t.storage.states.data[s].interactions.data[r].criteria.data[l].type),a(8,h=l)}n.$$.dirty&16&&(t.storage.restraints,a(5,o=t.storage.restraints.ordering.map(v=>{const B=t.storage.restraints.data[v];return{key:B.id,display:B.devName,enabled:!0}}))),n.$$.dirty&16&&(t.storage.objects,a(6,d=t.storage.objects.ordering.map(v=>{const B=t.storage.objects.data[v];return{key:B.id,display:B.devName,enabled:!0}})))},[s,r,l,f,t,o,d,c,h,p,m,g,_,u,b,$]}class jl extends X{constructor(e){super(),G(this,e,Il,Dl,Y,{selectedStateID:0,selectedInteractionID:1,selectedCriteriaID:2})}}function Ut(n){let e,a;return e=new le({props:{class:"h-full w-full min-h-0 overlfow-y-auto",$$slots:{content:[xl],header:[yl]},$$scope:{ctx:n}}}),{c(){O(e.$$.fragment)},m(t,s){S(e,t,s),a=!0},p(t,s){const r={};s&262399&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){a||(D(e.$$.fragment,t),a=!0)},o(t){I(e.$$.fragment,t),a=!1},d(t){M(e,t)}}}function yl(n){let e;return{c(){e=j("p"),e.textContent="Selected Result",i(e,"class","text-slate-300 text-xl")},m(a,t){C(a,e,t)},p:N,d(a){a&&y(e)}}}function Cl(n){let e,a,t;function s(l){n[17](l)}let r={class:"w-full",label:"Dialog Text",placeholder:"While struggling in your restraints, you fail to notice the door opening behind you...",rows:4};return n[4].storage.states.data[n[0]].interactions.data[n[1]].results.data[n[2]].args[0]!==void 0&&(r.value=n[4].storage.states.data[n[0]].interactions.data[n[1]].results.data[n[2]].args[0]),e=new ze({props:r}),H.push(()=>U(e,"value",s)),{c(){O(e.$$.fragment)},m(l,c){S(e,l,c),t=!0},p(l,c){const o={};!a&&c&23&&(a=!0,o.value=l[4].storage.states.data[l[0]].interactions.data[l[1]].results.data[l[2]].args[0],E(()=>a=!1)),e.$set(o)},i(l){t||(D(e.$$.fragment,l),t=!0)},o(l){I(e.$$.fragment,l),t=!1},d(l){M(e,l)}}}function Sl(n){let e,a,t,s,r,l;function c(f){n[15](f)}let o={class:"w-1/2",label:"Flag Name",placeholder:"pushedButton"};n[4].storage.states.data[n[0]].interactions.data[n[1]].results.data[n[2]].args[0]!==void 0&&(o.value=n[4].storage.states.data[n[0]].interactions.data[n[1]].results.data[n[2]].args[0]),e=new me({props:o}),H.push(()=>U(e,"value",c));function d(f){n[16](f)}let h={class:"w-1/2",label:"Flag Value",placeholder:"true"};return n[4].storage.states.data[n[0]].interactions.data[n[1]].results.data[n[2]].args[1]!==void 0&&(h.value=n[4].storage.states.data[n[0]].interactions.data[n[1]].results.data[n[2]].args[1]),s=new me({props:h}),H.push(()=>U(s,"value",d)),{c(){O(e.$$.fragment),t=x(),O(s.$$.fragment)},m(f,p){S(e,f,p),C(f,t,p),S(s,f,p),l=!0},p(f,p){const m={};!a&&p&23&&(a=!0,m.value=f[4].storage.states.data[f[0]].interactions.data[f[1]].results.data[f[2]].args[0],E(()=>a=!1)),e.$set(m);const g={};!r&&p&23&&(r=!0,g.value=f[4].storage.states.data[f[0]].interactions.data[f[1]].results.data[f[2]].args[1],E(()=>r=!1)),s.$set(g)},i(f){l||(D(e.$$.fragment,f),D(s.$$.fragment,f),l=!0)},o(f){I(e.$$.fragment,f),I(s.$$.fragment,f),l=!1},d(f){M(e,f),f&&y(t),M(s,f)}}}function Ml(n){let e,a,t;function s(l){n[14](l)}let r={class:"w-1/2",label:"State",disabled:!1,choicesData:n[7]};return n[4].storage.states.data[n[0]].interactions.data[n[1]].results.data[n[2]].args[0]!==void 0&&(r.selected=n[4].storage.states.data[n[0]].interactions.data[n[1]].results.data[n[2]].args[0]),e=new $e({props:r}),H.push(()=>U(e,"selected",s)),{c(){O(e.$$.fragment)},m(l,c){S(e,l,c),t=!0},p(l,c){const o={};c&128&&(o.choicesData=l[7]),!a&&c&23&&(a=!0,o.selected=l[4].storage.states.data[l[0]].interactions.data[l[1]].results.data[l[2]].args[0],E(()=>a=!1)),e.$set(o)},i(l){t||(D(e.$$.fragment,l),t=!0)},o(l){I(e.$$.fragment,l),t=!1},d(l){M(e,l)}}}function Ol(n){let e,a,t;function s(l){n[13](l)}let r={class:"w-1/2",label:"Object",disabled:!1,choicesData:n[6]};return n[4].storage.states.data[n[0]].interactions.data[n[1]].results.data[n[2]].args[0]!==void 0&&(r.selected=n[4].storage.states.data[n[0]].interactions.data[n[1]].results.data[n[2]].args[0]),e=new $e({props:r}),H.push(()=>U(e,"selected",s)),{c(){O(e.$$.fragment)},m(l,c){S(e,l,c),t=!0},p(l,c){const o={};c&64&&(o.choicesData=l[6]),!a&&c&23&&(a=!0,o.selected=l[4].storage.states.data[l[0]].interactions.data[l[1]].results.data[l[2]].args[0],E(()=>a=!1)),e.$set(o)},i(l){t||(D(e.$$.fragment,l),t=!0)},o(l){I(e.$$.fragment,l),t=!1},d(l){M(e,l)}}}function Rl(n){let e,a,t;function s(l){n[12](l)}let r={class:"w-1/2",label:"Restraint",disabled:!1,choicesData:n[5]};return n[4].storage.states.data[n[0]].interactions.data[n[1]].results.data[n[2]].args[0]!==void 0&&(r.selected=n[4].storage.states.data[n[0]].interactions.data[n[1]].results.data[n[2]].args[0]),e=new $e({props:r}),H.push(()=>U(e,"selected",s)),{c(){O(e.$$.fragment)},m(l,c){S(e,l,c),t=!0},p(l,c){const o={};c&32&&(o.choicesData=l[5]),!a&&c&23&&(a=!0,o.selected=l[4].storage.states.data[l[0]].interactions.data[l[1]].results.data[l[2]].args[0],E(()=>a=!1)),e.$set(o)},i(l){t||(D(e.$$.fragment,l),t=!0)},o(l){I(e.$$.fragment,l),t=!1},d(l){M(e,l)}}}function xl(n){let e,a,t,s,r,l,c,o,d,h,f;function p(v){n[10](v)}let m={class:"w-full",label:"Development Name",placeholder:"Set pushButton true"};n[4].storage.states.data[n[0]].interactions.data[n[1]].results.data[n[2]].devName!==void 0&&(m.value=n[4].storage.states.data[n[0]].interactions.data[n[1]].results.data[n[2]].devName),a=new me({props:m}),H.push(()=>U(a,"value",p));function g(v){n[11](v)}let _={class:"w-1/2",label:"Result Type",disabled:!1,choicesData:n[8]};n[4].storage.states.data[n[0]].interactions.data[n[1]].results.data[n[2]].type!==void 0&&(_.selected=n[4].storage.states.data[n[0]].interactions.data[n[1]].results.data[n[2]].type),r=new $e({props:_}),H.push(()=>U(r,"selected",g));const u=[Rl,Ol,Ml,Sl,Cl],b=[];function $(v,B){return v[3]==="restraintAdd"||v[3]==="restraintRemove"?0:v[3]==="objectReveal"||v[3]==="objectHide"?1:v[3]==="setState"?2:v[3]==="setFlag"?3:v[3]==="popupDialog"?4:-1}return~(o=$(n))&&(d=b[o]=u[o](n)),{c(){e=j("div"),O(a.$$.fragment),s=x(),O(r.$$.fragment),c=x(),d&&d.c(),h=Oe(),i(e,"class","mb-4 space-y-2")},m(v,B){C(v,e,B),S(a,e,null),w(e,s),S(r,e,null),C(v,c,B),~o&&b[o].m(v,B),C(v,h,B),f=!0},p(v,B){const R={};!t&&B&23&&(t=!0,R.value=v[4].storage.states.data[v[0]].interactions.data[v[1]].results.data[v[2]].devName,E(()=>t=!1)),a.$set(R);const k={};!l&&B&23&&(l=!0,k.selected=v[4].storage.states.data[v[0]].interactions.data[v[1]].results.data[v[2]].type,E(()=>l=!1)),r.$set(k);let z=o;o=$(v),o===z?~o&&b[o].p(v,B):(d&&(ae(),I(b[z],1,1,()=>{b[z]=null}),se()),~o?(d=b[o],d?d.p(v,B):(d=b[o]=u[o](v),d.c()),D(d,1),d.m(h.parentNode,h)):d=null)},i(v){f||(D(a.$$.fragment,v),D(r.$$.fragment,v),D(d),f=!0)},o(v){I(a.$$.fragment,v),I(r.$$.fragment,v),I(d),f=!1},d(v){v&&y(e),M(a),M(r),v&&y(c),~o&&b[o].d(v),v&&y(h)}}}function Ll(n){let e,a,t=n[4].storage.states.data[n[0]].interactions.data[n[1]].results.data[n[2]]!==void 0&&Ut(n);return{c(){e=j("div"),t&&t.c(),i(e,"class","grow shrink w-full min-h-0")},m(s,r){C(s,e,r),t&&t.m(e,null),a=!0},p(s,[r]){s[4].storage.states.data[s[0]].interactions.data[s[1]].results.data[s[2]]!==void 0?t?(t.p(s,r),r&23&&D(t,1)):(t=Ut(s),t.c(),D(t,1),t.m(e,null)):t&&(ae(),I(t,1,1,()=>{t=null}),se())},i(s){a||(D(t),a=!0)},o(s){I(t),a=!1},d(s){s&&y(e),t&&t.d()}}}function Nl(n,e,a){let t;ne(n,L,R=>a(4,t=R));let{selectedStateID:s}=e,{selectedInteractionID:r}=e,{selectedResultID:l}=e,c=[{key:"restraintAdd",display:"Add restraint",enabled:!0},{key:"restraintRemove",display:"Remove restraint",enabled:!0},{key:"objectReveal",display:"Reveal object",enabled:!0},{key:"objectHide",display:"Hide object",enabled:!0},{key:"setState",display:"Set state",enabled:!0},{key:"setFlag",display:"Set flag",enabled:!0},{key:"popupDialog",display:"Show dialog",enabled:!0},{key:"resetAttempts",display:"Reset attempts",enabled:!0}],o=[],d=[],h=[],f,p;function m(R){n.$$.not_equal(t.storage.states.data[s].interactions.data[r].results.data[l].devName,R)&&(t.storage.states.data[s].interactions.data[r].results.data[l].devName=R,L.set(t))}function g(R){n.$$.not_equal(t.storage.states.data[s].interactions.data[r].results.data[l].type,R)&&(t.storage.states.data[s].interactions.data[r].results.data[l].type=R,L.set(t))}function _(R){n.$$.not_equal(t.storage.states.data[s].interactions.data[r].results.data[l].args[0],R)&&(t.storage.states.data[s].interactions.data[r].results.data[l].args[0]=R,L.set(t))}function u(R){n.$$.not_equal(t.storage.states.data[s].interactions.data[r].results.data[l].args[0],R)&&(t.storage.states.data[s].interactions.data[r].results.data[l].args[0]=R,L.set(t))}function b(R){n.$$.not_equal(t.storage.states.data[s].interactions.data[r].results.data[l].args[0],R)&&(t.storage.states.data[s].interactions.data[r].results.data[l].args[0]=R,L.set(t))}function $(R){n.$$.not_equal(t.storage.states.data[s].interactions.data[r].results.data[l].args[0],R)&&(t.storage.states.data[s].interactions.data[r].results.data[l].args[0]=R,L.set(t))}function v(R){n.$$.not_equal(t.storage.states.data[s].interactions.data[r].results.data[l].args[1],R)&&(t.storage.states.data[s].interactions.data[r].results.data[l].args[1]=R,L.set(t))}function B(R){n.$$.not_equal(t.storage.states.data[s].interactions.data[r].results.data[l].args[0],R)&&(t.storage.states.data[s].interactions.data[r].results.data[l].args[0]=R,L.set(t))}return n.$$set=R=>{"selectedStateID"in R&&a(0,s=R.selectedStateID),"selectedInteractionID"in R&&a(1,r=R.selectedInteractionID),"selectedResultID"in R&&a(2,l=R.selectedResultID)},n.$$.update=()=>{if(n.$$.dirty&543&&t.storage.states.data[s].interactions.data[r].results.data[l]!==void 0){t.storage.states.data[s].interactions.data[r].results.data[l].type;const R=t.storage.states.data[s].interactions.data[r].results.data[l].type;p!==void 0&&R!==void 0&&p!==R&&f===l&&J(L,t.storage.states.data[s].interactions.data[r].results.data[l].args=[],t),a(3,p=t.storage.states.data[s].interactions.data[r].results.data[l].type),a(9,f=l)}n.$$.dirty&16&&(t.storage.restraints,a(5,o=t.storage.restraints.ordering.map(R=>{const k=t.storage.restraints.data[R];return{key:k.id,display:k.devName,enabled:!0}}))),n.$$.dirty&16&&(t.storage.objects,a(6,d=t.storage.objects.ordering.map(R=>{const k=t.storage.objects.data[R];return{key:k.id,display:k.devName,enabled:!0}}))),n.$$.dirty&16&&(t.storage.states,a(7,h=t.storage.states.ordering.map(R=>{const k=t.storage.states.data[R];return{key:k.id,display:k.title,enabled:!0}})))},[s,r,l,p,t,o,d,h,c,f,m,g,_,u,b,$,v,B]}class Bl extends X{constructor(e){super(),G(this,e,Nl,Ll,Y,{selectedStateID:0,selectedInteractionID:1,selectedResultID:2})}}function Al(n){let e,a,t,s,r,l,c,o,d,h;function f(u){n[6](u)}let p={selectedStateID:n[0]};n[1]!==void 0&&(p.selectedInteractionID=n[1]),t=new Ts({props:p}),H.push(()=>U(t,"selectedInteractionID",f));let m=n[1]!==void 0&&Wt(n),g=n[1]!==void 0&&Pt(n),_=n[1]!==void 0&&Vt(n);return{c(){e=j("div"),a=j("div"),O(t.$$.fragment),r=x(),m&&m.c(),l=x(),c=j("div"),g&&g.c(),o=x(),d=j("div"),_&&_.c(),i(a,"class","grow flex flex-col space-y-4 h-full"),i(c,"class","flex flex-col space-y-4 h-full"),ve(c,"width","30%"),i(d,"class","flex flex-col space-y-4 h-full"),ve(d,"width","30%"),i(e,"class","flex flex-row space-x-4 h-full w-full")},m(u,b){C(u,e,b),w(e,a),S(t,a,null),w(a,r),m&&m.m(a,null),w(e,l),w(e,c),g&&g.m(c,null),w(e,o),w(e,d),_&&_.m(d,null),h=!0},p(u,b){const $={};b&1&&($.selectedStateID=u[0]),!s&&b&2&&(s=!0,$.selectedInteractionID=u[1],E(()=>s=!1)),t.$set($),u[1]!==void 0?m?(m.p(u,b),b&2&&D(m,1)):(m=Wt(u),m.c(),D(m,1),m.m(a,null)):m&&(ae(),I(m,1,1,()=>{m=null}),se()),u[1]!==void 0?g?(g.p(u,b),b&2&&D(g,1)):(g=Pt(u),g.c(),D(g,1),g.m(c,null)):g&&(ae(),I(g,1,1,()=>{g=null}),se()),u[1]!==void 0?_?(_.p(u,b),b&2&&D(_,1)):(_=Vt(u),_.c(),D(_,1),_.m(d,null)):_&&(ae(),I(_,1,1,()=>{_=null}),se())},i(u){h||(D(t.$$.fragment,u),D(m),D(g),D(_),h=!0)},o(u){I(t.$$.fragment,u),I(m),I(g),I(_),h=!1},d(u){u&&y(e),M(t),m&&m.d(),g&&g.d(),_&&_.d()}}}function ql(n){let e,a,t,s=n[4].storage.states.data[n[0]].type+"",r,l,c,o;return{c(){e=j("div"),a=j("p"),t=K("Cannot setup interactions for "),r=K(s),l=K(" state"),c=x(),o=j("p"),o.textContent="Select another state from [States]",i(a,"class","text-2xl text-slate-300"),i(o,"class","text-2xl text-slate-300"),i(e,"class","flex flex-col justify-center w-full h-full")},m(d,h){C(d,e,h),w(e,a),w(a,t),w(a,r),w(a,l),w(e,c),w(e,o)},p(d,h){h&17&&s!==(s=d[4].storage.states.data[d[0]].type+"")&&ee(r,s)},i:N,o:N,d(d){d&&y(e)}}}function zl(n){let e;return{c(){e=j("div"),e.innerHTML='<p class="text-2xl text-slate-300">Select a state from [States] first</p>',i(e,"class","flex flex-col justify-center w-full h-full")},m(a,t){C(a,e,t)},p:N,i:N,o:N,d(a){a&&y(e)}}}function Wt(n){let e,a;return e=new Ps({props:{selectedStateID:n[0],selectedInteractionID:n[1]}}),{c(){O(e.$$.fragment)},m(t,s){S(e,t,s),a=!0},p(t,s){const r={};s&1&&(r.selectedStateID=t[0]),s&2&&(r.selectedInteractionID=t[1]),e.$set(r)},i(t){a||(D(e.$$.fragment,t),a=!0)},o(t){I(e.$$.fragment,t),a=!1},d(t){M(e,t)}}}function Pt(n){let e,a,t,s,r;function l(d){n[7](d)}let c={class:"h-1/3",selectedStateID:n[0],selectedInteractionID:n[1]};n[2]!==void 0&&(c.selectedCriteriaID=n[2]),e=new al({props:c}),H.push(()=>U(e,"selectedCriteriaID",l));let o=n[2]!==void 0&&Ft(n);return{c(){O(e.$$.fragment),t=x(),o&&o.c(),s=Oe()},m(d,h){S(e,d,h),C(d,t,h),o&&o.m(d,h),C(d,s,h),r=!0},p(d,h){const f={};h&1&&(f.selectedStateID=d[0]),h&2&&(f.selectedInteractionID=d[1]),!a&&h&4&&(a=!0,f.selectedCriteriaID=d[2],E(()=>a=!1)),e.$set(f),d[2]!==void 0?o?(o.p(d,h),h&4&&D(o,1)):(o=Ft(d),o.c(),D(o,1),o.m(s.parentNode,s)):o&&(ae(),I(o,1,1,()=>{o=null}),se())},i(d){r||(D(e.$$.fragment,d),D(o),r=!0)},o(d){I(e.$$.fragment,d),I(o),r=!1},d(d){M(e,d),d&&y(t),o&&o.d(d),d&&y(s)}}}function Ft(n){let e,a;return e=new jl({props:{selectedStateID:n[0],selectedInteractionID:n[1],selectedCriteriaID:n[2]}}),{c(){O(e.$$.fragment)},m(t,s){S(e,t,s),a=!0},p(t,s){const r={};s&1&&(r.selectedStateID=t[0]),s&2&&(r.selectedInteractionID=t[1]),s&4&&(r.selectedCriteriaID=t[2]),e.$set(r)},i(t){a||(D(e.$$.fragment,t),a=!0)},o(t){I(e.$$.fragment,t),a=!1},d(t){M(e,t)}}}function Vt(n){let e,a,t,s,r;function l(d){n[8](d)}let c={class:"h-1/3",selectedStateID:n[0],selectedInteractionID:n[1]};n[3]!==void 0&&(c.selectedResultID=n[3]),e=new bl({props:c}),H.push(()=>U(e,"selectedResultID",l));let o=n[3]!==void 0&&Jt(n);return{c(){O(e.$$.fragment),t=x(),o&&o.c(),s=Oe()},m(d,h){S(e,d,h),C(d,t,h),o&&o.m(d,h),C(d,s,h),r=!0},p(d,h){const f={};h&1&&(f.selectedStateID=d[0]),h&2&&(f.selectedInteractionID=d[1]),!a&&h&8&&(a=!0,f.selectedResultID=d[3],E(()=>a=!1)),e.$set(f),d[3]!==void 0?o?(o.p(d,h),h&8&&D(o,1)):(o=Jt(d),o.c(),D(o,1),o.m(s.parentNode,s)):o&&(ae(),I(o,1,1,()=>{o=null}),se())},i(d){r||(D(e.$$.fragment,d),D(o),r=!0)},o(d){I(e.$$.fragment,d),I(o),r=!1},d(d){M(e,d),d&&y(t),o&&o.d(d),d&&y(s)}}}function Jt(n){let e,a;return e=new Bl({props:{selectedStateID:n[0],selectedInteractionID:n[1],selectedResultID:n[3]}}),{c(){O(e.$$.fragment)},m(t,s){S(e,t,s),a=!0},p(t,s){const r={};s&1&&(r.selectedStateID=t[0]),s&2&&(r.selectedInteractionID=t[1]),s&8&&(r.selectedResultID=t[3]),e.$set(r)},i(t){a||(D(e.$$.fragment,t),a=!0)},o(t){I(e.$$.fragment,t),a=!1},d(t){M(e,t)}}}function Tl(n){let e,a,t,s;const r=[zl,ql,Al],l=[];function c(o,d){return o[0]===void 0?0:o[4].storage.states.data[o[0]].type==="opening"||o[4].storage.states.data[o[0]].type==="ending"?1:2}return e=c(n),a=l[e]=r[e](n),{c(){a.c(),t=Oe()},m(o,d){l[e].m(o,d),C(o,t,d),s=!0},p(o,[d]){let h=e;e=c(o),e===h?l[e].p(o,d):(ae(),I(l[h],1,1,()=>{l[h]=null}),se(),a=l[e],a?a.p(o,d):(a=l[e]=r[e](o),a.c()),D(a,1),a.m(t.parentNode,t))},i(o){s||(D(a),s=!0)},o(o){I(a),s=!1},d(o){l[e].d(o),o&&y(t)}}}function Hl(n,e,a){let t,s;ne(n,Qe,p=>a(0,t=p)),ne(n,L,p=>a(4,s=p));let r,l,c,o;function d(p){r=p,a(1,r),a(5,o),a(0,t)}function h(p){l=p,a(2,l),a(5,o),a(0,t)}function f(p){c=p,a(3,c),a(5,o),a(0,t)}return n.$$.update=()=>{n.$$.dirty&33&&o!==t&&(a(1,r=void 0),a(2,l=void 0),a(3,c=void 0),a(5,o=t))},[t,r,l,c,s,o,d,h,f]}class El extends X{constructor(e){super(),G(this,e,Hl,Tl,Y,{})}}function Ul(n){let e,a,t,s=n[1].initial===!0?"I":"",r,l,c,o,d=n[1].devName+"",h,f,p,m=n[1].name+"",g,_,u,b,$,v,B,R,k,z;return{c(){e=j("div"),a=j("div"),t=j("p"),r=K(s),l=x(),c=j("div"),o=j("p"),h=K(d),f=x(),p=j("p"),g=K(m),u=x(),b=j("div"),$=j("p"),v=K(n[0]),i(t,"class","font-mono font-bold text-l w-4"),i(o,"class","h-6 text-left w-full min-w-0 truncate"),i(p,"class",_=`h-5 text-sm ${n[2]===!0?"text-slate-400":"text-slate-500"}`),i(c,"class","flex flex-col items-start w-9/12"),i(a,"class","grow flex flex-row items-center space-x-3 basis-0 shrink min-w-0"),i($,"class",B=`text-center font-mono ${n[2]===!0?"text-slate-500":"text-slate-600"}`),i(b,"class","flex flex-row items-center h-full"),i(e,"class",R=`flex flex-row justify-between space-x-1
    rounded border 
    p-2 pl-4 pr-4
    ${n[3]} ${n[2]===!0?"text-slate-200 bg-slate-700 border-slate-600":"text-slate-400 bg-slate-750 border-slate-700"}`)},m(P,Z){C(P,e,Z),w(e,a),w(a,t),w(t,r),w(a,l),w(a,c),w(c,o),w(o,h),w(c,f),w(c,p),w(p,g),w(e,u),w(e,b),w(b,$),w($,v),k||(z=de(e,"click",n[4]),k=!0)},p(P,[Z]){Z&2&&s!==(s=P[1].initial===!0?"I":"")&&ee(r,s),Z&2&&d!==(d=P[1].devName+"")&&ee(h,d),Z&2&&m!==(m=P[1].name+"")&&ee(g,m),Z&4&&_!==(_=`h-5 text-sm ${P[2]===!0?"text-slate-400":"text-slate-500"}`)&&i(p,"class",_),Z&1&&ee(v,P[0]),Z&4&&B!==(B=`text-center font-mono ${P[2]===!0?"text-slate-500":"text-slate-600"}`)&&i($,"class",B),Z&12&&R!==(R=`flex flex-row justify-between space-x-1
    rounded border 
    p-2 pl-4 pr-4
    ${P[3]} ${P[2]===!0?"text-slate-200 bg-slate-700 border-slate-600":"text-slate-400 bg-slate-750 border-slate-700"}`)&&i(e,"class",R)},i:N,o:N,d(P){P&&y(e),k=!1,z()}}}function Wl(n,e,a){let{key:t}=e,{objectData:s}=e,{selected:r}=e,{class:l}=e;const c=Ce();function o(){c("dispatchClick",{key:t})}return n.$$set=d=>{"key"in d&&a(0,t=d.key),"objectData"in d&&a(1,s=d.objectData),"selected"in d&&a(2,r=d.selected),"class"in d&&a(3,l=d.class)},[t,s,r,l,o]}class Pl extends X{constructor(e){super(),G(this,e,Wl,Ul,Y,{key:0,objectData:1,selected:2,class:3})}}function Fl(n){let e,a;return{c(){e=q("svg"),a=q("path"),i(a,"stroke-linecap","round"),i(a,"stroke-linejoin","round"),i(a,"d","M12 4v16m8-8H4"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"class","h-4 w-4"),i(e,"fill","none"),i(e,"viewBox","0 0 24 24"),i(e,"stroke","currentColor"),i(e,"stroke-width","2")},m(t,s){C(t,e,s),w(e,a)},p:N,d(t){t&&y(e)}}}function Vl(n){let e,a;return{c(){e=q("svg"),a=q("path"),i(a,"stroke-linecap","round"),i(a,"stroke-linejoin","round"),i(a,"d","M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"class","h-4 w-4"),i(e,"fill","none"),i(e,"viewBox","0 0 24 24"),i(e,"stroke","currentColor"),i(e,"stroke-width","2")},m(t,s){C(t,e,s),w(e,a)},p:N,d(t){t&&y(e)}}}function Jl(n){let e,a;return{c(){e=q("svg"),a=q("path"),i(a,"stroke-linecap","round"),i(a,"stroke-linejoin","round"),i(a,"d","M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"class","h-4 w-4"),i(e,"fill","none"),i(e,"viewBox","0 0 24 24"),i(e,"stroke","currentColor"),i(e,"stroke-width","2")},m(t,s){C(t,e,s),w(e,a)},p:N,d(t){t&&y(e)}}}function Yl(n){let e,a;return{c(){e=q("svg"),a=q("path"),i(a,"stroke-linecap","round"),i(a,"stroke-linejoin","round"),i(a,"d","M5 15l7-7 7 7"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"class","h-4 w-4"),i(e,"fill","none"),i(e,"viewBox","0 0 24 24"),i(e,"stroke","currentColor"),i(e,"stroke-width","2")},m(t,s){C(t,e,s),w(e,a)},p:N,d(t){t&&y(e)}}}function Gl(n){let e,a;return{c(){e=q("svg"),a=q("path"),i(a,"stroke-linecap","round"),i(a,"stroke-linejoin","round"),i(a,"d","M19 9l-7 7-7-7"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"class","h-4 w-4"),i(e,"fill","none"),i(e,"viewBox","0 0 24 24"),i(e,"stroke","currentColor"),i(e,"stroke-width","2")},m(t,s){C(t,e,s),w(e,a)},p:N,d(t){t&&y(e)}}}function Xl(n){let e,a,t,s,r,l,c,o,d,h,f,p,m,g,_;return r=new F({props:{onclick:n[2],$$slots:{default:[Fl]},$$scope:{ctx:n}}}),c=new F({props:{onclick:n[3],$$slots:{default:[Vl]},$$scope:{ctx:n}}}),d=new F({props:{onclick:n[4],$$slots:{default:[Jl]},$$scope:{ctx:n}}}),p=new F({props:{onclick:n[5],$$slots:{default:[Yl]},$$scope:{ctx:n}}}),g=new F({props:{onclick:n[6],$$slots:{default:[Gl]},$$scope:{ctx:n}}}),{c(){e=j("p"),e.textContent="Game Objects",a=x(),t=j("div"),s=j("div"),O(r.$$.fragment),l=x(),O(c.$$.fragment),o=x(),O(d.$$.fragment),h=x(),f=j("div"),O(p.$$.fragment),m=x(),O(g.$$.fragment),i(e,"class","text-slate-300 text-xl align-middle"),i(s,"class","flex flex-row space-x-1"),i(f,"class","flex flex-row space-x-1"),i(t,"class","flex flex-row space-x-4")},m(u,b){C(u,e,b),C(u,a,b),C(u,t,b),w(t,s),S(r,s,null),w(s,l),S(c,s,null),w(s,o),S(d,s,null),w(t,h),w(t,f),S(p,f,null),w(f,m),S(g,f,null),_=!0},p(u,b){const $={};b&1024&&($.$$scope={dirty:b,ctx:u}),r.$set($);const v={};b&1024&&(v.$$scope={dirty:b,ctx:u}),c.$set(v);const B={};b&1024&&(B.$$scope={dirty:b,ctx:u}),d.$set(B);const R={};b&1024&&(R.$$scope={dirty:b,ctx:u}),p.$set(R);const k={};b&1024&&(k.$$scope={dirty:b,ctx:u}),g.$set(k)},i(u){_||(D(r.$$.fragment,u),D(c.$$.fragment,u),D(d.$$.fragment,u),D(p.$$.fragment,u),D(g.$$.fragment,u),_=!0)},o(u){I(r.$$.fragment,u),I(c.$$.fragment,u),I(d.$$.fragment,u),I(p.$$.fragment,u),I(g.$$.fragment,u),_=!1},d(u){u&&y(e),u&&y(a),u&&y(t),M(r),M(c),M(d),M(p),M(g)}}}function Kl(n){let e,a,t;function s(l){n[8](l)}let r={deselectable:!0,scrollingRadioData:n[1]};return n[0]!==void 0&&(r.selectedID=n[0]),e=new xe({props:r}),H.push(()=>U(e,"selectedID",s)),{c(){O(e.$$.fragment)},m(l,c){S(e,l,c),t=!0},p(l,c){const o={};c&2&&(o.scrollingRadioData=l[1]),!a&&c&1&&(a=!0,o.selectedID=l[0],E(()=>a=!1)),e.$set(o)},i(l){t||(D(e.$$.fragment,l),t=!0)},o(l){I(e.$$.fragment,l),t=!1},d(l){M(e,l)}}}function Ql(n){let e,a;return e=new le({props:{class:`shrink\r
    w-full h-full min-h-0`,contentClass:`scrollbar-thin scrollbar-thumb-slate-600 hover:scrollbar-thumb-rounded overflow-x-hidden\r
        pr-4 mr-1`,$$slots:{content:[Kl],header:[Xl]},$$scope:{ctx:n}}}),{c(){O(e.$$.fragment)},m(t,s){S(e,t,s),a=!0},p(t,[s]){const r={};s&1027&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){a||(D(e.$$.fragment,t),a=!0)},o(t){I(e.$$.fragment,t),a=!1},d(t){M(e,t)}}}function Zl(n,e,a){let t;ne(n,L,m=>a(7,t=m));let{selectedObjectID:s}=e,r;function l(){return t.storage.objects.ordering.filter(m=>m!==void 0).map(m=>{const g=t.storage.objects.data[m];return{key:g.id,component:Pl,props:{objectData:g}}})}function c(){const m=be(he);J(L,t.storage.objects.data[m]={id:m,name:"",devName:"",examine:"",initial:!1},t),t.storage.objects.ordering.push(m),L.set(t)}function o(){if(s!==void 0){const m=t.storage.objects.data[s],g=JSON.parse(JSON.stringify(m)),_=be(he);g.id=_,J(L,t.storage.objects.data[_]=g,t),t.storage.objects.ordering.push(_),L.set(t)}}function d(){var m,g;if(s!==void 0){const _=s;a(0,s=void 0);const u=t.storage.objects.ordering,b=u.findIndex($=>$===_);for(let $=b;$<u.length-1;$++)u[$]=(m=u[$+1])!=null?m:void 0;u.pop(),a(0,s=(g=u[b])!=null?g:u[b-1]),delete t.storage.objects.data[_],L.set(t)}}function h(){if(s!==void 0&&t.storage.objects.ordering.length>1){const m=t.storage.objects.ordering,g=m.findIndex(u=>u===s);if(g<=0)return;const _=m[g];m[g]=m[g-1],m[g-1]=_,L.set(t)}}function f(){if(s!==void 0&&t.storage.objects.ordering.length>1){const m=t.storage.objects.ordering,g=m.findIndex(u=>u===s);if(g===-1||g===t.storage.objects.ordering.length-1)return;const _=m[g];m[g]=m[g+1],m[g+1]=_,L.set(t)}}function p(m){s=m,a(0,s)}return n.$$set=m=>{"selectedObjectID"in m&&a(0,s=m.selectedObjectID)},n.$$.update=()=>{n.$$.dirty&128&&(t.storage.objects,a(1,r=l()))},[s,r,c,o,d,h,f,t,p]}class er extends X{constructor(e){super(),G(this,e,Zl,Ql,Y,{selectedObjectID:0})}}function tr(n){let e;return{c(){e=j("p"),e.textContent="Selected Object",i(e,"class","text-slate-300 text-xl")},m(a,t){C(a,e,t)},p:N,d(a){a&&y(e)}}}function nr(n){let e,a,t,s,r,l,c,o,d,h,f,p,m;function g(k){n[2](k)}let _={class:"grow",label:"Development Name",placeholder:"Button (#1, incorrect)"};n[1].storage.objects.data[n[0]].devName!==void 0&&(_.value=n[1].storage.objects.data[n[0]].devName),a=new me({props:_}),H.push(()=>U(a,"value",g));function u(k){n[3](k)}let b={class:"w-1/2",label:"Name",placeholder:"Button"};n[1].storage.objects.data[n[0]].name!==void 0&&(b.value=n[1].storage.objects.data[n[0]].name),r=new me({props:b}),H.push(()=>U(r,"value",u));function $(k){n[4](k)}let v={class:"w-full",label:"Examine Description",placeholder:"One of many buttons dotting the wall - feeling lucky?",rows:6};n[1].storage.objects.data[n[0]].examine!==void 0&&(v.value=n[1].storage.objects.data[n[0]].examine),o=new ze({props:v}),H.push(()=>U(o,"value",$));function B(k){n[5](k)}let R={label:"Initially Revealed"};return n[1].storage.objects.data[n[0]].initial!==void 0&&(R.value=n[1].storage.objects.data[n[0]].initial),f=new wt({props:R}),H.push(()=>U(f,"value",B)),{c(){e=j("div"),O(a.$$.fragment),s=x(),O(r.$$.fragment),c=x(),O(o.$$.fragment),h=x(),O(f.$$.fragment),i(e,"class","flex flex-row space-x-6")},m(k,z){C(k,e,z),S(a,e,null),w(e,s),S(r,e,null),C(k,c,z),S(o,k,z),C(k,h,z),S(f,k,z),m=!0},p(k,z){const P={};!t&&z&3&&(t=!0,P.value=k[1].storage.objects.data[k[0]].devName,E(()=>t=!1)),a.$set(P);const Z={};!l&&z&3&&(l=!0,Z.value=k[1].storage.objects.data[k[0]].name,E(()=>l=!1)),r.$set(Z);const ie={};!d&&z&3&&(d=!0,ie.value=k[1].storage.objects.data[k[0]].examine,E(()=>d=!1)),o.$set(ie);const fe={};!p&&z&3&&(p=!0,fe.value=k[1].storage.objects.data[k[0]].initial,E(()=>p=!1)),f.$set(fe)},i(k){m||(D(a.$$.fragment,k),D(r.$$.fragment,k),D(o.$$.fragment,k),D(f.$$.fragment,k),m=!0)},o(k){I(a.$$.fragment,k),I(r.$$.fragment,k),I(o.$$.fragment,k),I(f.$$.fragment,k),m=!1},d(k){k&&y(e),M(a),M(r),k&&y(c),M(o,k),k&&y(h),M(f,k)}}}function ar(n){let e,a;return e=new le({props:{class:"h-full w-full min-h-0 overlfow-y-auto",$$slots:{content:[nr],header:[tr]},$$scope:{ctx:n}}}),{c(){O(e.$$.fragment)},m(t,s){S(e,t,s),a=!0},p(t,[s]){const r={};s&67&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){a||(D(e.$$.fragment,t),a=!0)},o(t){I(e.$$.fragment,t),a=!1},d(t){M(e,t)}}}function sr(n,e,a){let t;ne(n,L,d=>a(1,t=d));let{selectedObjectID:s}=e;function r(d){n.$$.not_equal(t.storage.objects.data[s].devName,d)&&(t.storage.objects.data[s].devName=d,L.set(t))}function l(d){n.$$.not_equal(t.storage.objects.data[s].name,d)&&(t.storage.objects.data[s].name=d,L.set(t))}function c(d){n.$$.not_equal(t.storage.objects.data[s].examine,d)&&(t.storage.objects.data[s].examine=d,L.set(t))}function o(d){n.$$.not_equal(t.storage.objects.data[s].initial,d)&&(t.storage.objects.data[s].initial=d,L.set(t))}return n.$$set=d=>{"selectedObjectID"in d&&a(0,s=d.selectedObjectID)},[s,t,r,l,c,o]}class lr extends X{constructor(e){super(),G(this,e,sr,ar,Y,{selectedObjectID:0})}}function Yt(n){let e,a;return e=new lr({props:{selectedObjectID:n[0]}}),{c(){O(e.$$.fragment)},m(t,s){S(e,t,s),a=!0},p(t,s){const r={};s&1&&(r.selectedObjectID=t[0]),e.$set(r)},i(t){a||(D(e.$$.fragment,t),a=!0)},o(t){I(e.$$.fragment,t),a=!1},d(t){M(e,t)}}}function rr(n){let e,a,t,s,r,l,c;function o(f){n[1](f)}let d={};n[0]!==void 0&&(d.selectedObjectID=n[0]),t=new er({props:d}),H.push(()=>U(t,"selectedObjectID",o));let h=n[0]!==void 0&&Yt(n);return{c(){e=j("div"),a=j("div"),O(t.$$.fragment),r=x(),l=j("div"),h&&h.c(),i(a,"class","flex flex-col space-y-4 h-full"),ve(a,"width","30%"),i(l,"class","grow flex flex-col space-y-4 h-full"),i(e,"class","flex flex-row space-x-4 h-full w-full")},m(f,p){C(f,e,p),w(e,a),S(t,a,null),w(e,r),w(e,l),h&&h.m(l,null),c=!0},p(f,[p]){const m={};!s&&p&1&&(s=!0,m.selectedObjectID=f[0],E(()=>s=!1)),t.$set(m),f[0]!==void 0?h?(h.p(f,p),p&1&&D(h,1)):(h=Yt(f),h.c(),D(h,1),h.m(l,null)):h&&(ae(),I(h,1,1,()=>{h=null}),se())},i(f){c||(D(t.$$.fragment,f),D(h),c=!0)},o(f){I(t.$$.fragment,f),I(h),c=!1},d(f){f&&y(e),M(t),h&&h.d()}}}function or(n,e,a){let t;function s(r){t=r,a(0,t)}return[t,s]}class ir extends X{constructor(e){super(),G(this,e,or,rr,Y,{})}}function cr(n){let e,a;return{c(){e=q("svg"),a=q("path"),i(a,"stroke-linecap","round"),i(a,"stroke-linejoin","round"),i(a,"d","M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"class","h-4 w-4"),i(e,"fill","none"),i(e,"viewBox","0 0 24 24"),i(e,"stroke","currentColor"),i(e,"stroke-width","2")},m(t,s){C(t,e,s),w(e,a)},p:N,d(t){t&&y(e)}}}function dr(n){let e,a;return{c(){e=q("svg"),a=q("path"),i(a,"stroke-linecap","round"),i(a,"stroke-linejoin","round"),i(a,"d","M6 18L18 6M6 6l12 12"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"class","h-4 w-4"),i(e,"fill","none"),i(e,"viewBox","0 0 24 24"),i(e,"stroke","currentColor"),i(e,"stroke-width","2")},m(t,s){C(t,e,s),w(e,a)},p:N,d(t){t&&y(e)}}}function fr(n){let e,a,t,s,r,l,c;return s=new F({props:{label:"Load Image",onclick:n[8],$$slots:{default:[cr]},$$scope:{ctx:n}}}),l=new F({props:{label:"Clear Image",onclick:n[9],$$slots:{default:[dr]},$$scope:{ctx:n}}}),{c(){e=j("p"),e.textContent="Minimap",a=x(),t=j("div"),O(s.$$.fragment),r=x(),O(l.$$.fragment),i(e,"class","text-slate-300 text-xl"),i(t,"class","flex flex-row space-x-2")},m(o,d){C(o,e,d),C(o,a,d),C(o,t,d),S(s,t,null),w(t,r),S(l,t,null),c=!0},p(o,d){const h={};d&33554432&&(h.$$scope={dirty:d,ctx:o}),s.$set(h);const f={};d&33554432&&(f.$$scope={dirty:d,ctx:o}),l.$set(f)},i(o){c||(D(s.$$.fragment,o),D(l.$$.fragment,o),c=!0)},o(o){I(s.$$.fragment,o),I(l.$$.fragment,o),c=!1},d(o){o&&y(e),o&&y(a),o&&y(t),M(s),M(l)}}}function Gt(n){let e,a;return{c(){e=j("img"),i(e,"class","absolute h-full w-full object-contain"),ve(e,"z-index","12"),Re(e.src,a=n[3].storage.states.data[n[0]].locations.data[n[1]].minimapB64)||i(e,"src",a)},m(t,s){C(t,e,s)},p(t,s){s&11&&!Re(e.src,a=t[3].storage.states.data[t[0]].locations.data[t[1]].minimapB64)&&i(e,"src",a)},d(t){t&&y(e)}}}function ur(n){let e,a,t,s,r,l,c=n[3].storage.states.data[n[0]].locations.data[n[1]].minimapB64!==""&&n[3].storage.states.data[n[0]].locations.data[n[1]].minimapB64!==void 0&&Gt(n);return{c(){e=j("div"),c&&c.c(),a=x(),t=j("canvas"),i(t,"class","absolute h-full w-full"),ve(t,"z-index","14"),i(t,"width",n[6]),i(t,"height",n[7]),qe(()=>n[17].call(t)),i(e,"class","border border-slate-500 minimap-display svelte-27tmv0")},m(o,d){C(o,e,d),c&&c.m(e,null),w(e,a),w(e,t),n[16](t),s=Cn(t,n[17].bind(t)),r||(l=de(t,"click",n[11]),r=!0)},p(o,d){o[3].storage.states.data[o[0]].locations.data[o[1]].minimapB64!==""&&o[3].storage.states.data[o[0]].locations.data[o[1]].minimapB64!==void 0?c?c.p(o,d):(c=Gt(o),c.c(),c.m(e,a)):c&&(c.d(1),c=null),d&64&&i(t,"width",o[6]),d&128&&i(t,"height",o[7])},d(o){o&&y(e),c&&c.d(),n[16](null),s(),r=!1,l()}}}function gr(n){let e;return{c(){e=j("div"),e.innerHTML="<p>Tip: To only show the popup dialog, don&#39;t assign a referenced object</p>",i(e,"class","flex flex-col items-center justify-center space-y-1 w-full h-full")},m(a,t){C(a,e,t)},p:N,d(a){a&&y(e)}}}function Xt(n){let e,a;return e=new le({props:{class:"grow",$$slots:{content:[br],header:[mr]},$$scope:{ctx:n}}}),{c(){O(e.$$.fragment)},m(t,s){S(e,t,s),a=!0},p(t,s){const r={};s&33554463&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){a||(D(e.$$.fragment,t),a=!0)},o(t){I(e.$$.fragment,t),a=!1},d(t){M(e,t)}}}function pr(n){let e,a;return{c(){e=q("svg"),a=q("path"),i(a,"stroke-linecap","round"),i(a,"stroke-linejoin","round"),i(a,"d","M6 18L18 6M6 6l12 12"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"class","h-4 w-4"),i(e,"fill","none"),i(e,"viewBox","0 0 24 24"),i(e,"stroke","currentColor"),i(e,"stroke-width","2")},m(t,s){C(t,e,s),w(e,a)},p:N,d(t){t&&y(e)}}}function mr(n){let e,a,t,s,r;return s=new F({props:{label:"Clear",onclick:n[12],$$slots:{default:[pr]},$$scope:{ctx:n}}}),{c(){e=j("p"),e.textContent="Selected Minimap Object",a=x(),t=j("div"),O(s.$$.fragment),i(e,"class","text-slate-300 text-xl"),i(t,"class","flex flex-row space-x-2")},m(l,c){C(l,e,c),C(l,a,c),C(l,t,c),S(s,t,null),r=!0},p(l,c){const o={};c&33554432&&(o.$$scope={dirty:c,ctx:l}),s.$set(o)},i(l){r||(D(s.$$.fragment,l),r=!0)},o(l){I(s.$$.fragment,l),r=!1},d(l){l&&y(e),l&&y(a),l&&y(t),M(s)}}}function br(n){let e,a,t,s,r,l,c,o,d,h,f,p;function m(R){n[18](R)}let g={class:"w-full",label:"Development Name",placeholder:"Knife on Table"};n[3].storage.states.data[n[0]].locations.data[n[1]].minimapObjects.data[n[2]].devName!==void 0&&(g.value=n[3].storage.states.data[n[0]].locations.data[n[1]].minimapObjects.data[n[2]].devName),e=new me({props:g}),H.push(()=>U(e,"value",m));function _(R){n[19](R)}let u={class:"w-1/2",label:"Render Type",disabled:!1,choicesData:n[10]};n[3].storage.states.data[n[0]].locations.data[n[1]].minimapObjects.data[n[2]].type!==void 0&&(u.selected=n[3].storage.states.data[n[0]].locations.data[n[1]].minimapObjects.data[n[2]].type),s=new $e({props:u}),H.push(()=>U(s,"selected",_));function b(R){n[20](R)}let $={class:"w-2/3",label:"Referenced Object",disabled:!1,choicesData:n[4]};n[3].storage.states.data[n[0]].locations.data[n[1]].minimapObjects.data[n[2]].object!==void 0&&($.selected=n[3].storage.states.data[n[0]].locations.data[n[1]].minimapObjects.data[n[2]].object),c=new $e({props:$}),H.push(()=>U(c,"selected",b));function v(R){n[21](R)}let B={class:"w-full",label:"Popup Dialog",placeholder:"You spy the key to your restraints resting on the floor, tauntingly just out of reach.",rows:8};return n[3].storage.states.data[n[0]].locations.data[n[1]].minimapObjects.data[n[2]].dialog!==void 0&&(B.value=n[3].storage.states.data[n[0]].locations.data[n[1]].minimapObjects.data[n[2]].dialog),h=new ze({props:B}),H.push(()=>U(h,"value",v)),{c(){O(e.$$.fragment),t=x(),O(s.$$.fragment),l=x(),O(c.$$.fragment),d=x(),O(h.$$.fragment)},m(R,k){S(e,R,k),C(R,t,k),S(s,R,k),C(R,l,k),S(c,R,k),C(R,d,k),S(h,R,k),p=!0},p(R,k){const z={};!a&&k&15&&(a=!0,z.value=R[3].storage.states.data[R[0]].locations.data[R[1]].minimapObjects.data[R[2]].devName,E(()=>a=!1)),e.$set(z);const P={};!r&&k&15&&(r=!0,P.selected=R[3].storage.states.data[R[0]].locations.data[R[1]].minimapObjects.data[R[2]].type,E(()=>r=!1)),s.$set(P);const Z={};k&16&&(Z.choicesData=R[4]),!o&&k&15&&(o=!0,Z.selected=R[3].storage.states.data[R[0]].locations.data[R[1]].minimapObjects.data[R[2]].object,E(()=>o=!1)),c.$set(Z);const ie={};!f&&k&15&&(f=!0,ie.value=R[3].storage.states.data[R[0]].locations.data[R[1]].minimapObjects.data[R[2]].dialog,E(()=>f=!1)),h.$set(ie)},i(R){p||(D(e.$$.fragment,R),D(s.$$.fragment,R),D(c.$$.fragment,R),D(h.$$.fragment,R),p=!0)},o(R){I(e.$$.fragment,R),I(s.$$.fragment,R),I(c.$$.fragment,R),I(h.$$.fragment,R),p=!1},d(R){M(e,R),R&&y(t),M(s,R),R&&y(l),M(c,R),R&&y(d),M(h,R)}}}function hr(n){let e,a,t,s,r,l,c,o;t=new le({props:{$$slots:{content:[ur],header:[fr]},$$scope:{ctx:n}}}),r=new le({props:{class:"grow",$$slots:{content:[gr]},$$scope:{ctx:n}}});let d=n[2]!==void 0&&Xt(n);return{c(){e=j("div"),a=j("div"),O(t.$$.fragment),s=x(),O(r.$$.fragment),l=x(),c=j("div"),d&&d.c(),i(a,"class","flex flex-col space-y-4 h-full"),ve(a,"width","55%"),i(c,"class","grow flex flex-col space-y-4"),i(e,"class","flex flex-row space-x-4 w-full h-full")},m(h,f){C(h,e,f),w(e,a),S(t,a,null),w(a,s),S(r,a,null),w(e,l),w(e,c),d&&d.m(c,null),o=!0},p(h,[f]){const p={};f&33554667&&(p.$$scope={dirty:f,ctx:h}),t.$set(p);const m={};f&33554432&&(m.$$scope={dirty:f,ctx:h}),r.$set(m),h[2]!==void 0?d?(d.p(h,f),f&4&&D(d,1)):(d=Xt(h),d.c(),D(d,1),d.m(c,null)):d&&(ae(),I(d,1,1,()=>{d=null}),se())},i(h){o||(D(t.$$.fragment,h),D(r.$$.fragment,h),D(d),o=!0)},o(h){I(t.$$.fragment,h),I(r.$$.fragment,h),I(d),o=!1},d(h){h&&y(e),M(t),M(r),d&&d.d()}}}function ut(n,e){return`rgba(${n==="red"?"255, 0, 0":"0, 255, 0"}, ${e})`}function _r(n,e,a){let t;ne(n,L,V=>a(3,t=V));let{selectedStateID:s}=e,{selectedMinimapLocationID:r}=e,{selectedMinimapObjectID:l}=e;async function c(){const V=await On();V.startsWith("Cancelled")!==!0&&(J(L,t.storage.states.data[s].locations.data[r].minimapB64=V,t),L.set(t))}async function o(){J(L,t.storage.states.data[s].locations.data[r].minimapB64="",t),L.set(t)}const d=[{key:"circle",display:"Circle",enabled:!0},{key:"vector",display:"Vector",enabled:!0}];let h=[],f,p,m,g;Hn(()=>{g=f.getContext("2d")});let _,u,b;function $(V,pe,ce=!1){const oe=f.getBoundingClientRect();if(g.strokeStyle=ut(pe,1),V.type==="vector"){for(const[je,[ye,ke]]of V.args.entries()){const De=Math.floor(ye*oe.width),Le=Math.floor(ke*oe.height),Ne=new Path2D;Ne.arc(De,Le,2,0,2*Math.PI),je===0&&pe==="green"&&Ne.arc(De,Le,4,0,2*Math.PI),g.stroke(Ne)}let Ie=!0;const Se=new Path2D;for(const[je,ye]of[...V.args,V.args[0]]){const ke=Math.floor(je*oe.width),De=Math.floor(ye*oe.height);Ie===!0?(Ie=!1,Se.moveTo(ke,De)):Se.lineTo(ke,De)}g.fillStyle=ut(pe,.2),g.lineWidth=2,ce===!0&&g.setLineDash([5,15]),g.stroke(Se),g.fill(Se),g.setLineDash([])}else{let[[Ie,Se],je]=V.args;const ye=new Path2D,ke=Math.floor(Ie*oe.width),De=Math.floor(Se*oe.height);if(je===void 0)ye.arc(ke,De,2,0,2*Math.PI);else{ye.arc(ke,De,1,0,2*Math.PI);const Le=Math.floor(je[0]*oe.width),Ne=Math.floor(je[1]*oe.height),Te=Math.sqrt(Math.pow(ke-Le,2)+Math.pow(De-Ne,2));ye.arc(ke,De,Te,0,2*Math.PI)}g.fillStyle=ut(pe,.2),g.lineWidth=2,ce===!0&&g.setLineDash([5,15]),g.stroke(ye),g.fill(ye),g.setLineDash([])}}function v(V,pe){V.args[0]!==void 0&&($(V,pe,!1),pe==="green"&&$(V,pe,!0))}function B(V){if(g===void 0)return;g.clearRect(0,0,f.width,f.height);const pe=t.storage.states.data[s].locations.data[r].minimapObjects.data[l];if(V!==void 0&&l!==void 0&&(pe.type==="vector"||pe.args[0]===void 0||pe.args[1]===void 0)){const ce=f.getBoundingClientRect(),oe=Math.max(Math.floor(V.clientX-ce.left),0)/ce.width,Ie=Math.max(Math.floor(V.clientY-ce.top),0)/ce.height;pe.args.push([oe,Ie])}for(const[ce,oe]of Object.entries(t.storage.states.data[s].locations.data[r].minimapObjects.data))ce!==l&&v(oe,"red");l!==void 0&&v(pe,"green")}function R(){J(L,t.storage.states.data[s].locations.data[r].minimapObjects.data[l].args=[],t)}function k(V){H[V?"unshift":"push"](()=>{f=V,a(5,f)})}function z(){p=this.clientWidth,m=this.clientHeight,a(6,p),a(7,m)}function P(V){n.$$.not_equal(t.storage.states.data[s].locations.data[r].minimapObjects.data[l].devName,V)&&(t.storage.states.data[s].locations.data[r].minimapObjects.data[l].devName=V,L.set(t))}function Z(V){n.$$.not_equal(t.storage.states.data[s].locations.data[r].minimapObjects.data[l].type,V)&&(t.storage.states.data[s].locations.data[r].minimapObjects.data[l].type=V,L.set(t))}function ie(V){n.$$.not_equal(t.storage.states.data[s].locations.data[r].minimapObjects.data[l].object,V)&&(t.storage.states.data[s].locations.data[r].minimapObjects.data[l].object=V,L.set(t))}function fe(V){n.$$.not_equal(t.storage.states.data[s].locations.data[r].minimapObjects.data[l].dialog,V)&&(t.storage.states.data[s].locations.data[r].minimapObjects.data[l].dialog=V,L.set(t))}return n.$$set=V=>{"selectedStateID"in V&&a(0,s=V.selectedStateID),"selectedMinimapLocationID"in V&&a(1,r=V.selectedMinimapLocationID),"selectedMinimapObjectID"in V&&a(2,l=V.selectedMinimapObjectID)},n.$$.update=()=>{if(n.$$.dirty&57359&&l!==void 0&&t.storage.states.data[s].locations.data[r].minimapObjects.data[l]!==void 0){t.storage.states.data[s].locations.data[r].minimapObjects.data[l].type;const V=t.storage.states.data[s].locations.data[r].minimapObjects.data[l].type;b!==void 0&&V!==void 0&&b!==V&&u===l&&_===s&&(J(L,t.storage.states.data[s].locations.data[r].minimapObjects.data[l].args=[],t),B()),a(15,b=t.storage.states.data[s].locations.data[r].minimapObjects.data[l].type),a(13,_=s),a(14,u=l)}n.$$.dirty&8&&(t.storage.objects,a(4,h=[{key:"",display:"",enabled:!0},...t.storage.objects.ordering.map(V=>{const pe=t.storage.objects.data[V];return{key:pe.id,display:pe.devName,enabled:!0}})])),n.$$.dirty&15&&(t.storage.states.data[s].locations,t.storage.states.data[s].locations.data[r].minimapObjects.data[l],setTimeout(B,5))},[s,r,l,t,h,f,p,m,c,o,d,B,R,_,u,b,k,z,P,Z,ie,fe]}class wr extends X{constructor(e){super(),G(this,e,_r,hr,Y,{selectedStateID:0,selectedMinimapLocationID:1,selectedMinimapObjectID:2})}}function $r(n){let e,a,t,s=n[1].name+"",r,l,c,o,d,h,f,p,m;return{c(){e=j("div"),a=j("div"),t=j("p"),r=K(s),l=x(),c=j("div"),o=j("p"),d=K(n[0]),i(t,"class","text-left w-11/12 min-w-0 truncate"),i(a,"class","grow flex flex-row items-center space-x-2 h-full"),i(o,"class",h=`text-center font-mono ${n[2]===!0?"text-slate-500":"text-slate-600"}`),i(c,"class","flex flex-row items-center h-full"),i(e,"class",f=`flex flex-row justify-between space-x-1
    rounded border 
    p-2 pl-4 pr-4
    ${n[3]} ${n[2]===!0?"text-slate-200 bg-slate-700 border-slate-600":"text-slate-400 bg-slate-750 border-slate-700"}`)},m(g,_){C(g,e,_),w(e,a),w(a,t),w(t,r),w(e,l),w(e,c),w(c,o),w(o,d),p||(m=de(e,"click",n[4]),p=!0)},p(g,[_]){_&2&&s!==(s=g[1].name+"")&&ee(r,s),_&1&&ee(d,g[0]),_&4&&h!==(h=`text-center font-mono ${g[2]===!0?"text-slate-500":"text-slate-600"}`)&&i(o,"class",h),_&12&&f!==(f=`flex flex-row justify-between space-x-1
    rounded border 
    p-2 pl-4 pr-4
    ${g[3]} ${g[2]===!0?"text-slate-200 bg-slate-700 border-slate-600":"text-slate-400 bg-slate-750 border-slate-700"}`)&&i(e,"class",f)},i:N,o:N,d(g){g&&y(e),p=!1,m()}}}function vr(n,e,a){let{key:t}=e,{minimapLocationData:s}=e,{selected:r}=e,{class:l}=e;const c=Ce();function o(){c("dispatchClick",{key:t})}return n.$$set=d=>{"key"in d&&a(0,t=d.key),"minimapLocationData"in d&&a(1,s=d.minimapLocationData),"selected"in d&&a(2,r=d.selected),"class"in d&&a(3,l=d.class)},[t,s,r,l,o]}class kr extends X{constructor(e){super(),G(this,e,vr,$r,Y,{key:0,minimapLocationData:1,selected:2,class:3})}}function Dr(n){let e,a;return{c(){e=q("svg"),a=q("path"),i(a,"stroke-linecap","round"),i(a,"stroke-linejoin","round"),i(a,"d","M12 4v16m8-8H4"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"class","h-4 w-4"),i(e,"fill","none"),i(e,"viewBox","0 0 24 24"),i(e,"stroke","currentColor"),i(e,"stroke-width","2")},m(t,s){C(t,e,s),w(e,a)},p:N,d(t){t&&y(e)}}}function Ir(n){let e,a;return{c(){e=q("svg"),a=q("path"),i(a,"stroke-linecap","round"),i(a,"stroke-linejoin","round"),i(a,"d","M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"class","h-4 w-4"),i(e,"fill","none"),i(e,"viewBox","0 0 24 24"),i(e,"stroke","currentColor"),i(e,"stroke-width","2")},m(t,s){C(t,e,s),w(e,a)},p:N,d(t){t&&y(e)}}}function jr(n){let e,a;return{c(){e=q("svg"),a=q("path"),i(a,"stroke-linecap","round"),i(a,"stroke-linejoin","round"),i(a,"d","M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"class","h-4 w-4"),i(e,"fill","none"),i(e,"viewBox","0 0 24 24"),i(e,"stroke","currentColor"),i(e,"stroke-width","2")},m(t,s){C(t,e,s),w(e,a)},p:N,d(t){t&&y(e)}}}function yr(n){let e,a;return{c(){e=q("svg"),a=q("path"),i(a,"stroke-linecap","round"),i(a,"stroke-linejoin","round"),i(a,"d","M5 15l7-7 7 7"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"class","h-4 w-4"),i(e,"fill","none"),i(e,"viewBox","0 0 24 24"),i(e,"stroke","currentColor"),i(e,"stroke-width","2")},m(t,s){C(t,e,s),w(e,a)},p:N,d(t){t&&y(e)}}}function Cr(n){let e,a;return{c(){e=q("svg"),a=q("path"),i(a,"stroke-linecap","round"),i(a,"stroke-linejoin","round"),i(a,"d","M19 9l-7 7-7-7"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"class","h-4 w-4"),i(e,"fill","none"),i(e,"viewBox","0 0 24 24"),i(e,"stroke","currentColor"),i(e,"stroke-width","2")},m(t,s){C(t,e,s),w(e,a)},p:N,d(t){t&&y(e)}}}function Sr(n){let e,a,t,s,r,l,c,o,d,h,f,p,m,g,_;return r=new F({props:{onclick:n[2],$$slots:{default:[Dr]},$$scope:{ctx:n}}}),c=new F({props:{onclick:n[3],$$slots:{default:[Ir]},$$scope:{ctx:n}}}),d=new F({props:{onclick:n[4],$$slots:{default:[jr]},$$scope:{ctx:n}}}),p=new F({props:{onclick:n[5],$$slots:{default:[yr]},$$scope:{ctx:n}}}),g=new F({props:{onclick:n[6],$$slots:{default:[Cr]},$$scope:{ctx:n}}}),{c(){e=j("p"),e.textContent="Minimap Locations",a=x(),t=j("div"),s=j("div"),O(r.$$.fragment),l=x(),O(c.$$.fragment),o=x(),O(d.$$.fragment),h=x(),f=j("div"),O(p.$$.fragment),m=x(),O(g.$$.fragment),i(e,"class","text-slate-300 text-xl align-middle"),i(s,"class","flex flex-row space-x-1"),i(f,"class","flex flex-row space-x-1"),i(t,"class","flex flex-row space-x-4")},m(u,b){C(u,e,b),C(u,a,b),C(u,t,b),w(t,s),S(r,s,null),w(s,l),S(c,s,null),w(s,o),S(d,s,null),w(t,h),w(t,f),S(p,f,null),w(f,m),S(g,f,null),_=!0},p(u,b){const $={};b&2048&&($.$$scope={dirty:b,ctx:u}),r.$set($);const v={};b&2048&&(v.$$scope={dirty:b,ctx:u}),c.$set(v);const B={};b&2048&&(B.$$scope={dirty:b,ctx:u}),d.$set(B);const R={};b&2048&&(R.$$scope={dirty:b,ctx:u}),p.$set(R);const k={};b&2048&&(k.$$scope={dirty:b,ctx:u}),g.$set(k)},i(u){_||(D(r.$$.fragment,u),D(c.$$.fragment,u),D(d.$$.fragment,u),D(p.$$.fragment,u),D(g.$$.fragment,u),_=!0)},o(u){I(r.$$.fragment,u),I(c.$$.fragment,u),I(d.$$.fragment,u),I(p.$$.fragment,u),I(g.$$.fragment,u),_=!1},d(u){u&&y(e),u&&y(a),u&&y(t),M(r),M(c),M(d),M(p),M(g)}}}function Mr(n){let e,a,t;function s(l){n[9](l)}let r={deselectable:!0,scrollingRadioData:n[1]};return n[0]!==void 0&&(r.selectedID=n[0]),e=new xe({props:r}),H.push(()=>U(e,"selectedID",s)),{c(){O(e.$$.fragment)},m(l,c){S(e,l,c),t=!0},p(l,c){const o={};c&2&&(o.scrollingRadioData=l[1]),!a&&c&1&&(a=!0,o.selectedID=l[0],E(()=>a=!1)),e.$set(o)},i(l){t||(D(e.$$.fragment,l),t=!0)},o(l){I(e.$$.fragment,l),t=!1},d(l){M(e,l)}}}function Or(n){let e,a;return e=new le({props:{class:`shrink\r
    w-full h-full min-h-0`,contentClass:`scrollbar-thin scrollbar-thumb-slate-600 hover:scrollbar-thumb-rounded overflow-x-hidden\r
        pr-4 mr-1`,$$slots:{content:[Mr],header:[Sr]},$$scope:{ctx:n}}}),{c(){O(e.$$.fragment)},m(t,s){S(e,t,s),a=!0},p(t,[s]){const r={};s&2051&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){a||(D(e.$$.fragment,t),a=!0)},o(t){I(e.$$.fragment,t),a=!1},d(t){M(e,t)}}}function Rr(n,e,a){let t;ne(n,L,g=>a(8,t=g));let{selectedStateID:s}=e,{selectedMinimapLocationID:r}=e,l;function c(){return t.storage.states.data[s].locations.ordering.filter(g=>g!==void 0).map(g=>{const _=t.storage.states.data[s].locations.data[g];return{key:_.id,component:kr,props:{minimapLocationData:_}}})}function o(){const g=be(he);J(L,t.storage.states.data[s].locations.data[g]={id:g,name:"",minimapB64:"",minimapObjects:{data:{},ordering:[]}},t),t.storage.states.data[s].locations.ordering.push(g),L.set(t)}function d(){if(r!==void 0){const g=t.storage.states.data[s].locations.data[r],_=JSON.parse(JSON.stringify(g)),u=be(he);_.id=u,J(L,t.storage.states.data[s].locations.data[r]=_,t),t.storage.states.data[s].locations.ordering.push(u),L.set(t)}}function h(){var g,_;if(r!==void 0){const u=r;a(0,r=void 0);const b=t.storage.states.data[s].locations.ordering,$=b.findIndex(v=>v===u);for(let v=$;v<b.length-1;v++)b[v]=(g=b[v+1])!=null?g:void 0;b.pop(),a(0,r=(_=b[$])!=null?_:b[$-1]),delete t.storage.states.data[s].locations.data[u],L.set(t)}}function f(){if(r!==void 0&&t.storage.states.data[s].locations.ordering.length>1){const g=t.storage.states.data[s].locations.ordering,_=g.findIndex(b=>b===r);if(_<=0)return;const u=g[_];g[_]=g[_-1],g[_-1]=u,L.set(t)}}function p(){if(r!==void 0&&t.storage.states.data[s].locations.ordering.length>1){const g=t.storage.states.data[s].locations.ordering,_=g.findIndex(b=>b===r);if(_===-1||_===t.storage.states.data[s].locations.ordering.length-1)return;const u=g[_];g[_]=g[_+1],g[_+1]=u,L.set(t)}}function m(g){r=g,a(0,r)}return n.$$set=g=>{"selectedStateID"in g&&a(7,s=g.selectedStateID),"selectedMinimapLocationID"in g&&a(0,r=g.selectedMinimapLocationID)},n.$$.update=()=>{n.$$.dirty&128&&console.log(s),n.$$.dirty&384&&(t.storage.states,t.storage.states.data[s].locations,a(1,l=c()))},[r,l,o,d,h,f,p,s,t,m]}class xr extends X{constructor(e){super(),G(this,e,Rr,Or,Y,{selectedStateID:7,selectedMinimapLocationID:0})}}function Lr(n){let e;return{c(){e=j("p"),e.textContent="Selected Minimap Location",i(e,"class","text-slate-300 text-xl")},m(a,t){C(a,e,t)},p:N,d(a){a&&y(e)}}}function Nr(n){let e,a,t,s;function r(c){n[3](c)}let l={class:"w-1/2",label:"Name",placeholder:"Bedroom"};return n[2].storage.states.data[n[0]].locations.data[n[1]].name!==void 0&&(l.value=n[2].storage.states.data[n[0]].locations.data[n[1]].name),a=new me({props:l}),H.push(()=>U(a,"value",r)),{c(){e=j("div"),O(a.$$.fragment),i(e,"class","flex flex-row space-x-6")},m(c,o){C(c,e,o),S(a,e,null),s=!0},p(c,o){const d={};!t&&o&7&&(t=!0,d.value=c[2].storage.states.data[c[0]].locations.data[c[1]].name,E(()=>t=!1)),a.$set(d)},i(c){s||(D(a.$$.fragment,c),s=!0)},o(c){I(a.$$.fragment,c),s=!1},d(c){c&&y(e),M(a)}}}function Br(n){let e,a,t;return a=new le({props:{class:"h-full w-full min-h-0 overflow-y-auto",$$slots:{content:[Nr],header:[Lr]},$$scope:{ctx:n}}}),{c(){e=j("div"),O(a.$$.fragment),i(e,"class","grow shrink w-full min-h-0")},m(s,r){C(s,e,r),S(a,e,null),t=!0},p(s,[r]){const l={};r&23&&(l.$$scope={dirty:r,ctx:s}),a.$set(l)},i(s){t||(D(a.$$.fragment,s),t=!0)},o(s){I(a.$$.fragment,s),t=!1},d(s){s&&y(e),M(a)}}}function Ar(n,e,a){let t;ne(n,L,c=>a(2,t=c));let{selectedStateID:s}=e,{selectedMinimapLocationID:r}=e;function l(c){n.$$.not_equal(t.storage.states.data[s].locations.data[r].name,c)&&(t.storage.states.data[s].locations.data[r].name=c,L.set(t))}return n.$$set=c=>{"selectedStateID"in c&&a(0,s=c.selectedStateID),"selectedMinimapLocationID"in c&&a(1,r=c.selectedMinimapLocationID)},[s,r,t,l]}class qr extends X{constructor(e){super(),G(this,e,Ar,Br,Y,{selectedStateID:0,selectedMinimapLocationID:1})}}function zr(n){let e,a,t,s=n[1].type==="circle"?"C":"V",r,l,c,o=n[1].devName+"",d,h,f,p,m,g,_,u,b;return{c(){e=j("div"),a=j("div"),t=j("p"),r=K(s),l=x(),c=j("p"),d=K(o),h=x(),f=j("div"),p=j("p"),m=K(n[0]),i(t,"class","text-left font-bold w-4"),i(c,"class","text-left w-11/12 min-w-0 truncate"),i(a,"class","grow flex flex-row items-center space-x-2 h-full"),i(p,"class",g=`text-center font-mono ${n[2]===!0?"text-slate-500":"text-slate-600"}`),i(f,"class","flex flex-row items-center h-full"),i(e,"class",_=`flex flex-row justify-between space-x-1
    rounded border 
    p-2 pl-4 pr-4
    ${n[3]} ${n[2]===!0?"text-slate-200 bg-slate-700 border-slate-600":"text-slate-400 bg-slate-750 border-slate-700"}`)},m($,v){C($,e,v),w(e,a),w(a,t),w(t,r),w(a,l),w(a,c),w(c,d),w(e,h),w(e,f),w(f,p),w(p,m),u||(b=de(e,"click",n[4]),u=!0)},p($,[v]){v&2&&s!==(s=$[1].type==="circle"?"C":"V")&&ee(r,s),v&2&&o!==(o=$[1].devName+"")&&ee(d,o),v&1&&ee(m,$[0]),v&4&&g!==(g=`text-center font-mono ${$[2]===!0?"text-slate-500":"text-slate-600"}`)&&i(p,"class",g),v&12&&_!==(_=`flex flex-row justify-between space-x-1
    rounded border 
    p-2 pl-4 pr-4
    ${$[3]} ${$[2]===!0?"text-slate-200 bg-slate-700 border-slate-600":"text-slate-400 bg-slate-750 border-slate-700"}`)&&i(e,"class",_)},i:N,o:N,d($){$&&y(e),u=!1,b()}}}function Tr(n,e,a){let{key:t}=e,{minimapObjectData:s}=e,{selected:r}=e,{class:l}=e;const c=Ce();function o(){c("dispatchClick",{key:t})}return n.$$set=d=>{"key"in d&&a(0,t=d.key),"minimapObjectData"in d&&a(1,s=d.minimapObjectData),"selected"in d&&a(2,r=d.selected),"class"in d&&a(3,l=d.class)},[t,s,r,l,o]}class Hr extends X{constructor(e){super(),G(this,e,Tr,zr,Y,{key:0,minimapObjectData:1,selected:2,class:3})}}function Er(n){let e,a;return{c(){e=q("svg"),a=q("path"),i(a,"stroke-linecap","round"),i(a,"stroke-linejoin","round"),i(a,"d","M12 4v16m8-8H4"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"class","h-4 w-4"),i(e,"fill","none"),i(e,"viewBox","0 0 24 24"),i(e,"stroke","currentColor"),i(e,"stroke-width","2")},m(t,s){C(t,e,s),w(e,a)},p:N,d(t){t&&y(e)}}}function Ur(n){let e,a;return{c(){e=q("svg"),a=q("path"),i(a,"stroke-linecap","round"),i(a,"stroke-linejoin","round"),i(a,"d","M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"class","h-4 w-4"),i(e,"fill","none"),i(e,"viewBox","0 0 24 24"),i(e,"stroke","currentColor"),i(e,"stroke-width","2")},m(t,s){C(t,e,s),w(e,a)},p:N,d(t){t&&y(e)}}}function Wr(n){let e,a;return{c(){e=q("svg"),a=q("path"),i(a,"stroke-linecap","round"),i(a,"stroke-linejoin","round"),i(a,"d","M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"class","h-4 w-4"),i(e,"fill","none"),i(e,"viewBox","0 0 24 24"),i(e,"stroke","currentColor"),i(e,"stroke-width","2")},m(t,s){C(t,e,s),w(e,a)},p:N,d(t){t&&y(e)}}}function Pr(n){let e,a;return{c(){e=q("svg"),a=q("path"),i(a,"stroke-linecap","round"),i(a,"stroke-linejoin","round"),i(a,"d","M5 15l7-7 7 7"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"class","h-4 w-4"),i(e,"fill","none"),i(e,"viewBox","0 0 24 24"),i(e,"stroke","currentColor"),i(e,"stroke-width","2")},m(t,s){C(t,e,s),w(e,a)},p:N,d(t){t&&y(e)}}}function Fr(n){let e,a;return{c(){e=q("svg"),a=q("path"),i(a,"stroke-linecap","round"),i(a,"stroke-linejoin","round"),i(a,"d","M19 9l-7 7-7-7"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"class","h-4 w-4"),i(e,"fill","none"),i(e,"viewBox","0 0 24 24"),i(e,"stroke","currentColor"),i(e,"stroke-width","2")},m(t,s){C(t,e,s),w(e,a)},p:N,d(t){t&&y(e)}}}function Vr(n){let e,a,t,s,r,l,c,o,d,h,f,p,m,g,_;return r=new F({props:{onclick:n[2],$$slots:{default:[Er]},$$scope:{ctx:n}}}),c=new F({props:{onclick:n[3],$$slots:{default:[Ur]},$$scope:{ctx:n}}}),d=new F({props:{onclick:n[4],$$slots:{default:[Wr]},$$scope:{ctx:n}}}),p=new F({props:{onclick:n[5],$$slots:{default:[Pr]},$$scope:{ctx:n}}}),g=new F({props:{onclick:n[6],$$slots:{default:[Fr]},$$scope:{ctx:n}}}),{c(){e=j("p"),e.textContent="Minimap Objects",a=x(),t=j("div"),s=j("div"),O(r.$$.fragment),l=x(),O(c.$$.fragment),o=x(),O(d.$$.fragment),h=x(),f=j("div"),O(p.$$.fragment),m=x(),O(g.$$.fragment),i(e,"class","text-slate-300 text-xl align-middle"),i(s,"class","flex flex-row space-x-1"),i(f,"class","flex flex-row space-x-1"),i(t,"class","flex flex-row space-x-4")},m(u,b){C(u,e,b),C(u,a,b),C(u,t,b),w(t,s),S(r,s,null),w(s,l),S(c,s,null),w(s,o),S(d,s,null),w(t,h),w(t,f),S(p,f,null),w(f,m),S(g,f,null),_=!0},p(u,b){const $={};b&4096&&($.$$scope={dirty:b,ctx:u}),r.$set($);const v={};b&4096&&(v.$$scope={dirty:b,ctx:u}),c.$set(v);const B={};b&4096&&(B.$$scope={dirty:b,ctx:u}),d.$set(B);const R={};b&4096&&(R.$$scope={dirty:b,ctx:u}),p.$set(R);const k={};b&4096&&(k.$$scope={dirty:b,ctx:u}),g.$set(k)},i(u){_||(D(r.$$.fragment,u),D(c.$$.fragment,u),D(d.$$.fragment,u),D(p.$$.fragment,u),D(g.$$.fragment,u),_=!0)},o(u){I(r.$$.fragment,u),I(c.$$.fragment,u),I(d.$$.fragment,u),I(p.$$.fragment,u),I(g.$$.fragment,u),_=!1},d(u){u&&y(e),u&&y(a),u&&y(t),M(r),M(c),M(d),M(p),M(g)}}}function Jr(n){let e,a,t;function s(l){n[10](l)}let r={deselectable:!0,scrollingRadioData:n[1]};return n[0]!==void 0&&(r.selectedID=n[0]),e=new xe({props:r}),H.push(()=>U(e,"selectedID",s)),{c(){O(e.$$.fragment)},m(l,c){S(e,l,c),t=!0},p(l,c){const o={};c&2&&(o.scrollingRadioData=l[1]),!a&&c&1&&(a=!0,o.selectedID=l[0],E(()=>a=!1)),e.$set(o)},i(l){t||(D(e.$$.fragment,l),t=!0)},o(l){I(e.$$.fragment,l),t=!1},d(l){M(e,l)}}}function Yr(n){let e,a;return e=new le({props:{class:`shrink\r
    w-full h-full min-h-0`,contentClass:`scrollbar-thin scrollbar-thumb-slate-600 hover:scrollbar-thumb-rounded overflow-x-hidden\r
        pr-4 mr-1`,$$slots:{content:[Jr],header:[Vr]},$$scope:{ctx:n}}}),{c(){O(e.$$.fragment)},m(t,s){S(e,t,s),a=!0},p(t,[s]){const r={};s&4099&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){a||(D(e.$$.fragment,t),a=!0)},o(t){I(e.$$.fragment,t),a=!1},d(t){M(e,t)}}}function Gr(n,e,a){let t;ne(n,L,_=>a(9,t=_));let{selectedStateID:s}=e,{selectedMinimapLocationID:r}=e,{selectedMinimapObjectID:l}=e,c;function o(){return t.storage.states.data[s].locations.data[r].minimapObjects.ordering.filter(_=>_!==void 0).map(_=>{const u=t.storage.states.data[s].locations.data[r].minimapObjects.data[_];return{key:u.id,component:Hr,props:{minimapObjectData:u}}})}function d(){const _=be(he);J(L,t.storage.states.data[s].locations.data[r].minimapObjects.data[_]={id:_,devName:"",type:"circle",args:[],object:"",dialog:""},t),t.storage.states.data[s].locations.data[r].minimapObjects.ordering.push(_),L.set(t)}function h(){if(l!==void 0){const _=t.storage.states.data[s].locations.data[r].minimapObjects.data[l],u=JSON.parse(JSON.stringify(_)),b=be(he);u.id=b,J(L,t.storage.states.data[s].locations.data[r].minimapObjects.data[b]=u,t),t.storage.states.data[s].locations.data[r].minimapObjects.ordering.push(b),L.set(t)}}function f(){var _,u;if(l!==void 0){const b=l;a(0,l=void 0);const $=t.storage.states.data[s].locations.data[r].minimapObjects.ordering,v=$.findIndex(B=>B===b);for(let B=v;B<$.length-1;B++)$[B]=(_=$[B+1])!=null?_:void 0;$.pop(),a(0,l=(u=$[v])!=null?u:$[v-1]),delete t.storage.states.data[s].locations.data[r].minimapObjects.data[b],L.set(t)}}function p(){if(l!==void 0&&t.storage.states.data[s].locations.data[r].minimapObjects.ordering.length>1){const _=t.storage.states.data[s].locations.data[r].minimapObjects.ordering,u=_.findIndex($=>$===l);if(u<=0)return;const b=_[u];_[u]=_[u-1],_[u-1]=b,L.set(t)}}function m(){if(l!==void 0&&t.storage.states.data[s].locations.data[r].minimapObjects.ordering.length>1){const _=t.storage.states.data[s].locations.data[r].minimapObjects.ordering,u=_.findIndex($=>$===l);if(u===-1||u===t.storage.states.data[s].locations.data[r].minimapObjects.ordering.length-1)return;const b=_[u];_[u]=_[u+1],_[u+1]=b,L.set(t)}}function g(_){l=_,a(0,l)}return n.$$set=_=>{"selectedStateID"in _&&a(7,s=_.selectedStateID),"selectedMinimapLocationID"in _&&a(8,r=_.selectedMinimapLocationID),"selectedMinimapObjectID"in _&&a(0,l=_.selectedMinimapObjectID)},n.$$.update=()=>{n.$$.dirty&896&&(t.storage.states,t.storage.states.data[s].locations,t.storage.states.data[s].locations.data[r].minimapObjects,a(1,c=o()))},[l,c,d,h,f,p,m,s,r,t,g]}class Xr extends X{constructor(e){super(),G(this,e,Gr,Yr,Y,{selectedStateID:7,selectedMinimapLocationID:8,selectedMinimapObjectID:0})}}function Kr(n){let e,a,t,s,r,l,c,o,d,h,f,p;function m($){n[6]($)}let g={selectedStateID:n[1]};n[0]!==void 0&&(g.selectedMinimapLocationID=n[0]),s=new xr({props:g}),H.push(()=>U(s,"selectedMinimapLocationID",m));let _=n[0]!==void 0&&Kt(n),u=n[0]!==void 0&&Qt(n),b=n[0]!==void 0&&Zt(n);return{c(){e=j("div"),a=j("div"),t=j("div"),O(s.$$.fragment),l=x(),c=j("div"),_&&_.c(),o=x(),d=j("div"),u&&u.c(),h=x(),f=j("div"),b&&b.c(),i(t,"class","flex flex-col h-1/4 w-full"),i(c,"class","flex flex-col h-1/5 w-full"),i(d,"class","flex flex-col grow w-full"),i(a,"class","flex flex-col space-y-4 h-full"),ve(a,"width","30%"),i(f,"class","grow flex flex-col space-y-4 h-full"),i(e,"class","flex flex-row space-x-4 h-full w-full")},m($,v){C($,e,v),w(e,a),w(a,t),S(s,t,null),w(a,l),w(a,c),_&&_.m(c,null),w(a,o),w(a,d),u&&u.m(d,null),w(e,h),w(e,f),b&&b.m(f,null),p=!0},p($,v){const B={};v&2&&(B.selectedStateID=$[1]),!r&&v&1&&(r=!0,B.selectedMinimapLocationID=$[0],E(()=>r=!1)),s.$set(B),$[0]!==void 0?_?(_.p($,v),v&1&&D(_,1)):(_=Kt($),_.c(),D(_,1),_.m(c,null)):_&&(ae(),I(_,1,1,()=>{_=null}),se()),$[0]!==void 0?u?(u.p($,v),v&1&&D(u,1)):(u=Qt($),u.c(),D(u,1),u.m(d,null)):u&&(ae(),I(u,1,1,()=>{u=null}),se()),$[0]!==void 0?b?(b.p($,v),v&1&&D(b,1)):(b=Zt($),b.c(),D(b,1),b.m(f,null)):b&&(ae(),I(b,1,1,()=>{b=null}),se())},i($){p||(D(s.$$.fragment,$),D(_),D(u),D(b),p=!0)},o($){I(s.$$.fragment,$),I(_),I(u),I(b),p=!1},d($){$&&y(e),M(s),_&&_.d(),u&&u.d(),b&&b.d()}}}function Qr(n){let e,a,t,s=n[3].storage.states.data[n[1]].type+"",r,l,c,o;return{c(){e=j("div"),a=j("p"),t=K("Cannot setup minimap for "),r=K(s),l=K(" state"),c=x(),o=j("p"),o.textContent="Select another state from [States]",i(a,"class","text-2xl text-slate-300"),i(o,"class","text-2xl text-slate-300"),i(e,"class","flex flex-col justify-center w-full h-full")},m(d,h){C(d,e,h),w(e,a),w(a,t),w(a,r),w(a,l),w(e,c),w(e,o)},p(d,h){h&10&&s!==(s=d[3].storage.states.data[d[1]].type+"")&&ee(r,s)},i:N,o:N,d(d){d&&y(e)}}}function Zr(n){let e;return{c(){e=j("div"),e.innerHTML='<p class="text-2xl text-slate-300">Select a state from [States] first</p>',i(e,"class","flex flex-col justify-center w-full h-full")},m(a,t){C(a,e,t)},p:N,i:N,o:N,d(a){a&&y(e)}}}function Kt(n){let e,a;return e=new qr({props:{selectedStateID:n[1],selectedMinimapLocationID:n[0]}}),{c(){O(e.$$.fragment)},m(t,s){S(e,t,s),a=!0},p(t,s){const r={};s&2&&(r.selectedStateID=t[1]),s&1&&(r.selectedMinimapLocationID=t[0]),e.$set(r)},i(t){a||(D(e.$$.fragment,t),a=!0)},o(t){I(e.$$.fragment,t),a=!1},d(t){M(e,t)}}}function Qt(n){let e,a,t;function s(l){n[7](l)}let r={selectedStateID:n[1],selectedMinimapLocationID:n[0]};return n[2]!==void 0&&(r.selectedMinimapObjectID=n[2]),e=new Xr({props:r}),H.push(()=>U(e,"selectedMinimapObjectID",s)),{c(){O(e.$$.fragment)},m(l,c){S(e,l,c),t=!0},p(l,c){const o={};c&2&&(o.selectedStateID=l[1]),c&1&&(o.selectedMinimapLocationID=l[0]),!a&&c&4&&(a=!0,o.selectedMinimapObjectID=l[2],E(()=>a=!1)),e.$set(o)},i(l){t||(D(e.$$.fragment,l),t=!0)},o(l){I(e.$$.fragment,l),t=!1},d(l){M(e,l)}}}function Zt(n){let e,a;return e=new wr({props:{selectedStateID:n[1],selectedMinimapLocationID:n[0],selectedMinimapObjectID:n[2]}}),{c(){O(e.$$.fragment)},m(t,s){S(e,t,s),a=!0},p(t,s){const r={};s&2&&(r.selectedStateID=t[1]),s&1&&(r.selectedMinimapLocationID=t[0]),s&4&&(r.selectedMinimapObjectID=t[2]),e.$set(r)},i(t){a||(D(e.$$.fragment,t),a=!0)},o(t){I(e.$$.fragment,t),a=!1},d(t){M(e,t)}}}function eo(n){let e,a,t,s;const r=[Zr,Qr,Kr],l=[];function c(o,d){return o[1]===void 0?0:o[3].storage.states.data[o[1]].type==="opening"||o[3].storage.states.data[o[1]].type==="intermediate"||o[3].storage.states.data[o[1]].type==="ending"?1:2}return e=c(n),a=l[e]=r[e](n),{c(){a.c(),t=Oe()},m(o,d){l[e].m(o,d),C(o,t,d),s=!0},p(o,[d]){let h=e;e=c(o),e===h?l[e].p(o,d):(ae(),I(l[h],1,1,()=>{l[h]=null}),se(),a=l[e],a?a.p(o,d):(a=l[e]=r[e](o),a.c()),D(a,1),a.m(t.parentNode,t))},i(o){s||(D(a),s=!0)},o(o){I(a),s=!1},d(o){l[e].d(o),o&&y(t)}}}function to(n,e,a){let t,s;ne(n,Qe,f=>a(1,t=f)),ne(n,L,f=>a(3,s=f));let r,l,c,o;function d(f){l=f,a(0,l),a(4,c),a(5,o),a(1,t)}function h(f){r=f,a(2,r),a(4,c),a(5,o),a(1,t),a(0,l)}return n.$$.update=()=>{n.$$.dirty&51&&(c!==t&&(a(0,l=void 0),a(2,r=void 0),a(4,c=t)),o!==l&&(a(2,r=void 0),a(5,o=l)))},[l,t,r,s,c,o,d,h]}class no extends X{constructor(e){super(),G(this,e,to,eo,Y,{})}}function ao(n){let e,a,t,s=n[1].devName+"",r,l,c,o,d,h,f,p,m,g,_,u,b;return{c(){e=j("div"),a=j("div"),t=j("p"),r=K(s),l=x(),c=j("p"),o=K(n[4]),h=x(),f=j("div"),p=j("p"),m=K(n[0]),i(t,"class","h-6 text-left w-full min-w-0 truncate"),i(c,"class",d=`h-5 text-sm ${n[2]===!0?"text-slate-400":"text-slate-500"}`),i(a,"class","flex flex-col items-start w-9/12"),i(p,"class",g=`text-center font-mono ${n[2]===!0?"text-slate-500":"text-slate-600"}`),i(f,"class","flex flex-row items-center h-full"),i(e,"class",_=`flex flex-row justify-between space-x-1
    rounded border 
    p-2 pl-4 pr-4
    ${n[3]} ${n[2]===!0?"text-slate-200 bg-slate-700 border-slate-600":"text-slate-400 bg-slate-750 border-slate-700"}`)},m($,v){C($,e,v),w(e,a),w(a,t),w(t,r),w(a,l),w(a,c),w(c,o),w(e,h),w(e,f),w(f,p),w(p,m),u||(b=de(e,"click",n[5]),u=!0)},p($,[v]){v&2&&s!==(s=$[1].devName+"")&&ee(r,s),v&16&&ee(o,$[4]),v&4&&d!==(d=`h-5 text-sm ${$[2]===!0?"text-slate-400":"text-slate-500"}`)&&i(c,"class",d),v&1&&ee(m,$[0]),v&4&&g!==(g=`text-center font-mono ${$[2]===!0?"text-slate-500":"text-slate-600"}`)&&i(p,"class",g),v&12&&_!==(_=`flex flex-row justify-between space-x-1
    rounded border 
    p-2 pl-4 pr-4
    ${$[3]} ${$[2]===!0?"text-slate-200 bg-slate-700 border-slate-600":"text-slate-400 bg-slate-750 border-slate-700"}`)&&i(e,"class",_)},i:N,o:N,d($){$&&y(e),u=!1,b()}}}function so(n,e,a){let t;ne(n,L,f=>a(6,t=f));let{key:s}=e,{restraintData:r}=e,{selected:l}=e,{class:c}=e;const o=Ce();function d(){o("dispatchClick",{key:s})}let h="";return n.$$set=f=>{"key"in f&&a(0,s=f.key),"restraintData"in f&&a(1,r=f.restraintData),"selected"in f&&a(2,l=f.selected),"class"in f&&a(3,c=f.class)},n.$$.update=()=>{if(n.$$.dirty&66){t.data.restraintLocations,t.storage.restraints;const f=t.data.restraintLocations.data[r.location];a(4,h=f!==void 0?f.name:"")}},[s,r,l,c,h,d,t]}class lo extends X{constructor(e){super(),G(this,e,so,ao,Y,{key:0,restraintData:1,selected:2,class:3})}}function ro(n){let e,a;return{c(){e=q("svg"),a=q("path"),i(a,"stroke-linecap","round"),i(a,"stroke-linejoin","round"),i(a,"d","M12 4v16m8-8H4"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"class","h-4 w-4"),i(e,"fill","none"),i(e,"viewBox","0 0 24 24"),i(e,"stroke","currentColor"),i(e,"stroke-width","2")},m(t,s){C(t,e,s),w(e,a)},p:N,d(t){t&&y(e)}}}function oo(n){let e,a;return{c(){e=q("svg"),a=q("path"),i(a,"stroke-linecap","round"),i(a,"stroke-linejoin","round"),i(a,"d","M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"class","h-4 w-4"),i(e,"fill","none"),i(e,"viewBox","0 0 24 24"),i(e,"stroke","currentColor"),i(e,"stroke-width","2")},m(t,s){C(t,e,s),w(e,a)},p:N,d(t){t&&y(e)}}}function io(n){let e,a;return{c(){e=q("svg"),a=q("path"),i(a,"stroke-linecap","round"),i(a,"stroke-linejoin","round"),i(a,"d","M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"class","h-4 w-4"),i(e,"fill","none"),i(e,"viewBox","0 0 24 24"),i(e,"stroke","currentColor"),i(e,"stroke-width","2")},m(t,s){C(t,e,s),w(e,a)},p:N,d(t){t&&y(e)}}}function co(n){let e,a;return{c(){e=q("svg"),a=q("path"),i(a,"stroke-linecap","round"),i(a,"stroke-linejoin","round"),i(a,"d","M5 15l7-7 7 7"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"class","h-4 w-4"),i(e,"fill","none"),i(e,"viewBox","0 0 24 24"),i(e,"stroke","currentColor"),i(e,"stroke-width","2")},m(t,s){C(t,e,s),w(e,a)},p:N,d(t){t&&y(e)}}}function fo(n){let e,a;return{c(){e=q("svg"),a=q("path"),i(a,"stroke-linecap","round"),i(a,"stroke-linejoin","round"),i(a,"d","M19 9l-7 7-7-7"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"class","h-4 w-4"),i(e,"fill","none"),i(e,"viewBox","0 0 24 24"),i(e,"stroke","currentColor"),i(e,"stroke-width","2")},m(t,s){C(t,e,s),w(e,a)},p:N,d(t){t&&y(e)}}}function uo(n){let e,a,t,s,r,l,c,o,d,h,f,p,m,g,_;return r=new F({props:{onclick:n[2],$$slots:{default:[ro]},$$scope:{ctx:n}}}),c=new F({props:{onclick:n[3],$$slots:{default:[oo]},$$scope:{ctx:n}}}),d=new F({props:{onclick:n[4],$$slots:{default:[io]},$$scope:{ctx:n}}}),p=new F({props:{onclick:n[5],$$slots:{default:[co]},$$scope:{ctx:n}}}),g=new F({props:{onclick:n[6],$$slots:{default:[fo]},$$scope:{ctx:n}}}),{c(){e=j("p"),e.textContent="Game Restraints",a=x(),t=j("div"),s=j("div"),O(r.$$.fragment),l=x(),O(c.$$.fragment),o=x(),O(d.$$.fragment),h=x(),f=j("div"),O(p.$$.fragment),m=x(),O(g.$$.fragment),i(e,"class","text-slate-300 text-xl align-middle"),i(s,"class","flex flex-row space-x-1"),i(f,"class","flex flex-row space-x-1"),i(t,"class","flex flex-row space-x-4")},m(u,b){C(u,e,b),C(u,a,b),C(u,t,b),w(t,s),S(r,s,null),w(s,l),S(c,s,null),w(s,o),S(d,s,null),w(t,h),w(t,f),S(p,f,null),w(f,m),S(g,f,null),_=!0},p(u,b){const $={};b&1024&&($.$$scope={dirty:b,ctx:u}),r.$set($);const v={};b&1024&&(v.$$scope={dirty:b,ctx:u}),c.$set(v);const B={};b&1024&&(B.$$scope={dirty:b,ctx:u}),d.$set(B);const R={};b&1024&&(R.$$scope={dirty:b,ctx:u}),p.$set(R);const k={};b&1024&&(k.$$scope={dirty:b,ctx:u}),g.$set(k)},i(u){_||(D(r.$$.fragment,u),D(c.$$.fragment,u),D(d.$$.fragment,u),D(p.$$.fragment,u),D(g.$$.fragment,u),_=!0)},o(u){I(r.$$.fragment,u),I(c.$$.fragment,u),I(d.$$.fragment,u),I(p.$$.fragment,u),I(g.$$.fragment,u),_=!1},d(u){u&&y(e),u&&y(a),u&&y(t),M(r),M(c),M(d),M(p),M(g)}}}function go(n){let e,a,t;function s(l){n[8](l)}let r={deselectable:!0,scrollingRadioData:n[1]};return n[0]!==void 0&&(r.selectedID=n[0]),e=new xe({props:r}),H.push(()=>U(e,"selectedID",s)),{c(){O(e.$$.fragment)},m(l,c){S(e,l,c),t=!0},p(l,c){const o={};c&2&&(o.scrollingRadioData=l[1]),!a&&c&1&&(a=!0,o.selectedID=l[0],E(()=>a=!1)),e.$set(o)},i(l){t||(D(e.$$.fragment,l),t=!0)},o(l){I(e.$$.fragment,l),t=!1},d(l){M(e,l)}}}function po(n){let e,a;return e=new le({props:{class:`shrink\r
    w-full h-full min-h-0`,contentClass:`scrollbar-thin scrollbar-thumb-slate-600 hover:scrollbar-thumb-rounded overflow-x-hidden\r
        pr-4 mr-1`,$$slots:{content:[go],header:[uo]},$$scope:{ctx:n}}}),{c(){O(e.$$.fragment)},m(t,s){S(e,t,s),a=!0},p(t,[s]){const r={};s&1027&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){a||(D(e.$$.fragment,t),a=!0)},o(t){I(e.$$.fragment,t),a=!1},d(t){M(e,t)}}}function mo(n,e,a){let t;ne(n,L,m=>a(7,t=m));let{selectedRestraintID:s}=e,r;function l(){return t.storage.restraints.ordering.filter(m=>m!==void 0).map(m=>{const g=t.storage.restraints.data[m];return{key:g.id,component:lo,props:{restraintData:g}}})}function c(){const m=be(he);J(L,t.storage.restraints.data[m]={id:m,devName:"",name:"",location:"",examine:""},t),t.storage.restraints.ordering.push(m),L.set(t)}function o(){if(s!==void 0){const m=t.storage.restraints.data[s],g=JSON.parse(JSON.stringify(m)),_=be(he);g.id=_,J(L,t.storage.restraints.data[_]=g,t),t.storage.restraints.ordering.push(_),L.set(t)}}function d(){var m,g;if(s!==void 0){const _=s;a(0,s=void 0);const u=t.storage.restraints.ordering,b=u.findIndex($=>$===_);for(let $=b;$<u.length-1;$++)u[$]=(m=u[$+1])!=null?m:void 0;u.pop(),a(0,s=(g=u[b])!=null?g:u[b-1]),delete t.storage.restraints.data[_],L.set(t)}}function h(){if(s!==void 0&&t.storage.restraints.ordering.length>1){const m=t.storage.restraints.ordering,g=m.findIndex(u=>u===s);if(g<=0)return;const _=m[g];m[g]=m[g-1],m[g-1]=_,L.set(t)}}function f(){if(s!==void 0&&t.storage.restraints.ordering.length>1){const m=t.storage.restraints.ordering,g=m.findIndex(u=>u===s);if(g===-1||g===t.storage.restraints.ordering.length-1)return;const _=m[g];m[g]=m[g+1],m[g+1]=_,L.set(t)}}function p(m){s=m,a(0,s)}return n.$$set=m=>{"selectedRestraintID"in m&&a(0,s=m.selectedRestraintID)},n.$$.update=()=>{n.$$.dirty&128&&(t.storage.restraints,a(1,r=l()))},[s,r,c,o,d,h,f,t,p]}class bo extends X{constructor(e){super(),G(this,e,mo,po,Y,{selectedRestraintID:0})}}function ho(n){let e;return{c(){e=j("p"),e.textContent="Selected Restraint Location",i(e,"class","text-slate-300 text-xl")},m(a,t){C(a,e,t)},p:N,d(a){a&&y(e)}}}function _o(n){let e,a,t,s,r,l;function c(f){n[3](f)}let o={class:"w-3/4",label:"Name",placeholder:"Head"};n[1].data.restraintLocations.data[n[0]].name!==void 0&&(o.value=n[1].data.restraintLocations.data[n[0]].name),e=new me({props:o}),H.push(()=>U(e,"value",c));function d(f){n[4](f)}let h={class:"w-3/4",label:"Initial Restraint",choicesData:n[2]};return n[1].data.restraintLocations.data[n[0]].initial!==void 0&&(h.selected=n[1].data.restraintLocations.data[n[0]].initial),s=new $e({props:h}),H.push(()=>U(s,"selected",d)),{c(){O(e.$$.fragment),t=x(),O(s.$$.fragment)},m(f,p){S(e,f,p),C(f,t,p),S(s,f,p),l=!0},p(f,p){const m={};!a&&p&3&&(a=!0,m.value=f[1].data.restraintLocations.data[f[0]].name,E(()=>a=!1)),e.$set(m);const g={};p&4&&(g.choicesData=f[2]),!r&&p&3&&(r=!0,g.selected=f[1].data.restraintLocations.data[f[0]].initial,E(()=>r=!1)),s.$set(g)},i(f){l||(D(e.$$.fragment,f),D(s.$$.fragment,f),l=!0)},o(f){I(e.$$.fragment,f),I(s.$$.fragment,f),l=!1},d(f){M(e,f),f&&y(t),M(s,f)}}}function wo(n){let e,a;return e=new le({props:{class:`grow shrink\r
    w-full min-h-0`,contentClass:`scrollbar-thin scrollbar-thumb-slate-600 hover:scrollbar-thumb-rounded overflow-x-hidden\r
        pr-4 mr-1`,$$slots:{content:[_o],header:[ho]},$$scope:{ctx:n}}}),{c(){O(e.$$.fragment)},m(t,s){S(e,t,s),a=!0},p(t,[s]){const r={};s&39&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){a||(D(e.$$.fragment,t),a=!0)},o(t){I(e.$$.fragment,t),a=!1},d(t){M(e,t)}}}function $o(n,e,a){let t;ne(n,L,o=>a(1,t=o));let{selectedLocationID:s}=e,r=[];function l(o){n.$$.not_equal(t.data.restraintLocations.data[s].name,o)&&(t.data.restraintLocations.data[s].name=o,L.set(t))}function c(o){n.$$.not_equal(t.data.restraintLocations.data[s].initial,o)&&(t.data.restraintLocations.data[s].initial=o,L.set(t))}return n.$$set=o=>{"selectedLocationID"in o&&a(0,s=o.selectedLocationID)},n.$$.update=()=>{n.$$.dirty&3&&(t.storage.restraints,a(2,r=[{key:"",display:"",enabled:!0},...t.storage.restraints.ordering.filter(o=>t.storage.restraints.data[o].location===s).map(o=>{const d=t.storage.restraints.data[o];return{key:d.id,display:d.devName,enabled:!0}})]))},[s,t,r,l,c]}class vo extends X{constructor(e){super(),G(this,e,$o,wo,Y,{selectedLocationID:0})}}function ko(n){let e,a,t,s=n[1].name+"",r,l,c,o,d,h,f,p,m,g,_,u;return{c(){e=j("div"),a=j("div"),t=j("p"),r=K(s),l=x(),c=j("p"),o=K(n[4]),h=x(),f=j("p"),p=K(n[0]),i(t,"class","h-6 text-left w-full min-w-0 truncate"),i(c,"class",d=`h-5 text-sm ${n[2]===!0?"text-slate-400":"text-slate-500"}`),i(a,"class","flex flex-col items-start w-9/12"),i(f,"class",m=`font-mono ${n[2]===!0?"text-slate-500":"text-slate-600"}`),i(e,"class",g=`flex flex-row justify-between space-x-1
    rounded border 
    p-2 pl-4 pr-4
    ${n[3]} ${n[2]===!0?"text-slate-200 bg-slate-700 border-slate-600":"text-slate-400 bg-slate-750 border-slate-700"}`)},m(b,$){C(b,e,$),w(e,a),w(a,t),w(t,r),w(a,l),w(a,c),w(c,o),w(e,h),w(e,f),w(f,p),_||(u=de(e,"click",n[5]),_=!0)},p(b,[$]){$&2&&s!==(s=b[1].name+"")&&ee(r,s),$&16&&ee(o,b[4]),$&4&&d!==(d=`h-5 text-sm ${b[2]===!0?"text-slate-400":"text-slate-500"}`)&&i(c,"class",d),$&1&&ee(p,b[0]),$&4&&m!==(m=`font-mono ${b[2]===!0?"text-slate-500":"text-slate-600"}`)&&i(f,"class",m),$&12&&g!==(g=`flex flex-row justify-between space-x-1
    rounded border 
    p-2 pl-4 pr-4
    ${b[3]} ${b[2]===!0?"text-slate-200 bg-slate-700 border-slate-600":"text-slate-400 bg-slate-750 border-slate-700"}`)&&i(e,"class",g)},i:N,o:N,d(b){b&&y(e),_=!1,u()}}}function Do(n,e,a){let t;ne(n,L,f=>a(6,t=f));let{key:s}=e,{locationData:r}=e,{selected:l}=e,{class:c}=e;const o=Ce();function d(){o("dispatchClick",{key:s})}let h="";return n.$$set=f=>{"key"in f&&a(0,s=f.key),"locationData"in f&&a(1,r=f.locationData),"selected"in f&&a(2,l=f.selected),"class"in f&&a(3,c=f.class)},n.$$.update=()=>{if(n.$$.dirty&66){t.storage.restraints;const f=t.storage.restraints.data[r.initial];a(4,h=f!==void 0?f.name:"")}},[s,r,l,c,h,d,t]}class Io extends X{constructor(e){super(),G(this,e,Do,ko,Y,{key:0,locationData:1,selected:2,class:3})}}function jo(n){let e,a;return{c(){e=q("svg"),a=q("path"),i(a,"stroke-linecap","round"),i(a,"stroke-linejoin","round"),i(a,"d","M12 4v16m8-8H4"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"class","h-4 w-4"),i(e,"fill","none"),i(e,"viewBox","0 0 24 24"),i(e,"stroke","currentColor"),i(e,"stroke-width","2")},m(t,s){C(t,e,s),w(e,a)},p:N,d(t){t&&y(e)}}}function yo(n){let e,a;return{c(){e=q("svg"),a=q("path"),i(a,"stroke-linecap","round"),i(a,"stroke-linejoin","round"),i(a,"d","M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"class","h-4 w-4"),i(e,"fill","none"),i(e,"viewBox","0 0 24 24"),i(e,"stroke","currentColor"),i(e,"stroke-width","2")},m(t,s){C(t,e,s),w(e,a)},p:N,d(t){t&&y(e)}}}function Co(n){let e,a;return{c(){e=q("svg"),a=q("path"),i(a,"stroke-linecap","round"),i(a,"stroke-linejoin","round"),i(a,"d","M5 15l7-7 7 7"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"class","h-4 w-4"),i(e,"fill","none"),i(e,"viewBox","0 0 24 24"),i(e,"stroke","currentColor"),i(e,"stroke-width","2")},m(t,s){C(t,e,s),w(e,a)},p:N,d(t){t&&y(e)}}}function So(n){let e,a;return{c(){e=q("svg"),a=q("path"),i(a,"stroke-linecap","round"),i(a,"stroke-linejoin","round"),i(a,"d","M19 9l-7 7-7-7"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"class","h-4 w-4"),i(e,"fill","none"),i(e,"viewBox","0 0 24 24"),i(e,"stroke","currentColor"),i(e,"stroke-width","2")},m(t,s){C(t,e,s),w(e,a)},p:N,d(t){t&&y(e)}}}function Mo(n){let e,a,t,s,r,l,c,o,d,h,f,p,m;return r=new F({props:{onclick:n[2],$$slots:{default:[jo]},$$scope:{ctx:n}}}),c=new F({props:{onclick:n[3],$$slots:{default:[yo]},$$scope:{ctx:n}}}),h=new F({props:{onclick:n[4],$$slots:{default:[Co]},$$scope:{ctx:n}}}),p=new F({props:{onclick:n[5],$$slots:{default:[So]},$$scope:{ctx:n}}}),{c(){e=j("p"),e.textContent="Restraint Locations",a=x(),t=j("div"),s=j("div"),O(r.$$.fragment),l=x(),O(c.$$.fragment),o=x(),d=j("div"),O(h.$$.fragment),f=x(),O(p.$$.fragment),i(e,"class","text-slate-300 text-xl align-middle"),i(s,"class","flex flex-row space-x-1"),i(d,"class","flex flex-row space-x-1"),i(t,"class","flex flex-row space-x-4")},m(g,_){C(g,e,_),C(g,a,_),C(g,t,_),w(t,s),S(r,s,null),w(s,l),S(c,s,null),w(t,o),w(t,d),S(h,d,null),w(d,f),S(p,d,null),m=!0},p(g,_){const u={};_&512&&(u.$$scope={dirty:_,ctx:g}),r.$set(u);const b={};_&512&&(b.$$scope={dirty:_,ctx:g}),c.$set(b);const $={};_&512&&($.$$scope={dirty:_,ctx:g}),h.$set($);const v={};_&512&&(v.$$scope={dirty:_,ctx:g}),p.$set(v)},i(g){m||(D(r.$$.fragment,g),D(c.$$.fragment,g),D(h.$$.fragment,g),D(p.$$.fragment,g),m=!0)},o(g){I(r.$$.fragment,g),I(c.$$.fragment,g),I(h.$$.fragment,g),I(p.$$.fragment,g),m=!1},d(g){g&&y(e),g&&y(a),g&&y(t),M(r),M(c),M(h),M(p)}}}function Oo(n){let e,a,t;function s(l){n[7](l)}let r={deselectable:!0,scrollingRadioData:n[1]};return n[0]!==void 0&&(r.selectedID=n[0]),e=new xe({props:r}),H.push(()=>U(e,"selectedID",s)),{c(){O(e.$$.fragment)},m(l,c){S(e,l,c),t=!0},p(l,c){const o={};c&2&&(o.scrollingRadioData=l[1]),!a&&c&1&&(a=!0,o.selectedID=l[0],E(()=>a=!1)),e.$set(o)},i(l){t||(D(e.$$.fragment,l),t=!0)},o(l){I(e.$$.fragment,l),t=!1},d(l){M(e,l)}}}function Ro(n){let e,a;return e=new le({props:{class:`shrink\r
    w-full h-3/5 min-h-0`,contentClass:`scrollbar-thin scrollbar-thumb-slate-600 hover:scrollbar-thumb-rounded overflow-x-hidden\r
        pr-4 mr-1`,$$slots:{content:[Oo],header:[Mo]},$$scope:{ctx:n}}}),{c(){O(e.$$.fragment)},m(t,s){S(e,t,s),a=!0},p(t,[s]){const r={};s&515&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){a||(D(e.$$.fragment,t),a=!0)},o(t){I(e.$$.fragment,t),a=!1},d(t){M(e,t)}}}function xo(n,e,a){let t;ne(n,L,p=>a(6,t=p));let{selectedLocationID:s}=e,r;function l(){return t.data.restraintLocations.ordering.filter(p=>p!==void 0).map(p=>{const m=t.data.restraintLocations.data[p];return{key:m.id,component:Io,props:{locationData:m}}})}function c(){const p=be(he);J(L,t.data.restraintLocations.data[p]={id:p,name:"",initial:""},t),t.data.restraintLocations.ordering.push(p),L.set(t)}function o(){var p,m;if(s!==void 0){const g=s;a(0,s=void 0);const _=t.data.restraintLocations.ordering,u=_.findIndex(b=>b===g);for(let b=u;b<_.length-1;b++)_[b]=(p=_[b+1])!=null?p:void 0;_.pop(),a(0,s=(m=_[u])!=null?m:_[u-1]),delete t.data.restraintLocations.data[g],L.set(t)}}function d(){if(s!==void 0&&t.data.restraintLocations.ordering.length>1){const p=t.data.restraintLocations.ordering,m=p.findIndex(_=>_===s);if(m<=0)return;const g=p[m];p[m]=p[m-1],p[m-1]=g,L.set(t)}}function h(){if(s!==void 0&&t.data.restraintLocations.ordering.length>1){const p=t.data.restraintLocations.ordering,m=p.findIndex(_=>_===s);if(m===-1||m===t.data.restraintLocations.ordering.length-1)return;const g=p[m];p[m]=p[m+1],p[m+1]=g,L.set(t)}}function f(p){s=p,a(0,s)}return n.$$set=p=>{"selectedLocationID"in p&&a(0,s=p.selectedLocationID)},n.$$.update=()=>{n.$$.dirty&64&&(t.data.restraintLocations,a(1,r=l()))},[s,r,c,o,d,h,t,f]}class Lo extends X{constructor(e){super(),G(this,e,xo,Ro,Y,{selectedLocationID:0})}}function No(n){let e;return{c(){e=j("p"),e.textContent="Selected Restraint",i(e,"class","text-slate-300 text-xl")},m(a,t){C(a,e,t)},p:N,d(a){a&&y(e)}}}function Bo(n){let e,a,t,s,r,l,c,o,d,h,f,p,m;function g(k){n[4](k)}let _={class:"w-full",label:"Development Name",placeholder:"Leather Armbinder (underneath: handcuffs)"};n[1].storage.restraints.data[n[0]].devName!==void 0&&(_.value=n[1].storage.restraints.data[n[0]].devName),e=new me({props:_}),H.push(()=>U(e,"value",g));function u(k){n[5](k)}let b={class:"w-3/4",label:"Name",placeholder:"Leather Armbinder"};n[1].storage.restraints.data[n[0]].name!==void 0&&(b.value=n[1].storage.restraints.data[n[0]].name),r=new me({props:b}),H.push(()=>U(r,"value",u));function $(k){n[6](k)}let v={class:"w-1/4",label:"Location",disabled:n[2],choicesData:n[3]};n[1].storage.restraints.data[n[0]].location!==void 0&&(v.selected=n[1].storage.restraints.data[n[0]].location),o=new $e({props:v}),H.push(()=>U(o,"selected",$));function B(k){n[7](k)}let R={class:"w-full",label:"Examine Description",placeholder:"A pair of cold, steel handcuffs biting into your wrists.",rows:6};return n[1].storage.restraints.data[n[0]].examine!==void 0&&(R.value=n[1].storage.restraints.data[n[0]].examine),f=new ze({props:R}),H.push(()=>U(f,"value",B)),{c(){O(e.$$.fragment),t=x(),s=j("div"),O(r.$$.fragment),c=x(),O(o.$$.fragment),h=x(),O(f.$$.fragment),i(s,"class","flex flex-row space-x-6")},m(k,z){S(e,k,z),C(k,t,z),C(k,s,z),S(r,s,null),w(s,c),S(o,s,null),C(k,h,z),S(f,k,z),m=!0},p(k,z){const P={};!a&&z&3&&(a=!0,P.value=k[1].storage.restraints.data[k[0]].devName,E(()=>a=!1)),e.$set(P);const Z={};!l&&z&3&&(l=!0,Z.value=k[1].storage.restraints.data[k[0]].name,E(()=>l=!1)),r.$set(Z);const ie={};z&4&&(ie.disabled=k[2]),z&8&&(ie.choicesData=k[3]),!d&&z&3&&(d=!0,ie.selected=k[1].storage.restraints.data[k[0]].location,E(()=>d=!1)),o.$set(ie);const fe={};!p&&z&3&&(p=!0,fe.value=k[1].storage.restraints.data[k[0]].examine,E(()=>p=!1)),f.$set(fe)},i(k){m||(D(e.$$.fragment,k),D(r.$$.fragment,k),D(o.$$.fragment,k),D(f.$$.fragment,k),m=!0)},o(k){I(e.$$.fragment,k),I(r.$$.fragment,k),I(o.$$.fragment,k),I(f.$$.fragment,k),m=!1},d(k){M(e,k),k&&y(t),k&&y(s),M(r),M(o),k&&y(h),M(f,k)}}}function Ao(n){let e,a;return e=new le({props:{class:"h-full w-full min-h-0 overlfow-y-auto",$$slots:{content:[Bo],header:[No]},$$scope:{ctx:n}}}),{c(){O(e.$$.fragment)},m(t,s){S(e,t,s),a=!0},p(t,[s]){const r={};s&271&&(r.$$scope={dirty:s,ctx:t}),e.$set(r)},i(t){a||(D(e.$$.fragment,t),a=!0)},o(t){I(e.$$.fragment,t),a=!1},d(t){M(e,t)}}}function qo(n,e,a){let t;ne(n,L,f=>a(1,t=f));let{selectedRestraintID:s}=e,r=!1,l=[];function c(f){n.$$.not_equal(t.storage.restraints.data[s].devName,f)&&(t.storage.restraints.data[s].devName=f,L.set(t))}function o(f){n.$$.not_equal(t.storage.restraints.data[s].name,f)&&(t.storage.restraints.data[s].name=f,L.set(t))}function d(f){n.$$.not_equal(t.storage.restraints.data[s].location,f)&&(t.storage.restraints.data[s].location=f,L.set(t))}function h(f){n.$$.not_equal(t.storage.restraints.data[s].examine,f)&&(t.storage.restraints.data[s].examine=f,L.set(t))}return n.$$set=f=>{"selectedRestraintID"in f&&a(0,s=f.selectedRestraintID)},n.$$.update=()=>{n.$$.dirty&2&&(t.data.restraintLocations,a(2,r=Object.values(t.data.restraintLocations.data).length===0),a(3,l=t.data.restraintLocations.ordering.map(f=>{const p=t.data.restraintLocations.data[f];return{key:p.id,display:p.name,enabled:!0}})))},[s,t,r,l,c,o,d,h]}class zo extends X{constructor(e){super(),G(this,e,qo,Ao,Y,{selectedRestraintID:0})}}function en(n){let e,a;return e=new vo({props:{selectedLocationID:n[0]}}),{c(){O(e.$$.fragment)},m(t,s){S(e,t,s),a=!0},p(t,s){const r={};s&1&&(r.selectedLocationID=t[0]),e.$set(r)},i(t){a||(D(e.$$.fragment,t),a=!0)},o(t){I(e.$$.fragment,t),a=!1},d(t){M(e,t)}}}function tn(n){let e,a;return e=new zo({props:{selectedRestraintID:n[1]}}),{c(){O(e.$$.fragment)},m(t,s){S(e,t,s),a=!0},p(t,s){const r={};s&2&&(r.selectedRestraintID=t[1]),e.$set(r)},i(t){a||(D(e.$$.fragment,t),a=!0)},o(t){I(e.$$.fragment,t),a=!1},d(t){M(e,t)}}}function To(n){let e,a,t,s,r,l,c,o,d,h,f,p;function m(v){n[2](v)}let g={};n[0]!==void 0&&(g.selectedLocationID=n[0]),t=new Lo({props:g}),H.push(()=>U(t,"selectedLocationID",m));let _=n[0]!==void 0&&en(n);function u(v){n[3](v)}let b={};n[1]!==void 0&&(b.selectedRestraintID=n[1]),o=new bo({props:b}),H.push(()=>U(o,"selectedRestraintID",u));let $=n[1]!==void 0&&tn(n);return{c(){e=j("div"),a=j("div"),O(t.$$.fragment),r=x(),_&&_.c(),l=x(),c=j("div"),O(o.$$.fragment),h=x(),f=j("div"),$&&$.c(),i(a,"class","flex flex-col space-y-4 h-full"),ve(a,"width","30%"),i(c,"class","flex flex-col space-y-4 h-full"),ve(c,"width","30%"),i(f,"class","grow flex flex-col space-y-4 h-full"),i(e,"class","flex flex-row space-x-4 h-full w-full")},m(v,B){C(v,e,B),w(e,a),S(t,a,null),w(a,r),_&&_.m(a,null),w(e,l),w(e,c),S(o,c,null),w(e,h),w(e,f),$&&$.m(f,null),p=!0},p(v,[B]){const R={};!s&&B&1&&(s=!0,R.selectedLocationID=v[0],E(()=>s=!1)),t.$set(R),v[0]!==void 0?_?(_.p(v,B),B&1&&D(_,1)):(_=en(v),_.c(),D(_,1),_.m(a,null)):_&&(ae(),I(_,1,1,()=>{_=null}),se());const k={};!d&&B&2&&(d=!0,k.selectedRestraintID=v[1],E(()=>d=!1)),o.$set(k),v[1]!==void 0?$?($.p(v,B),B&2&&D($,1)):($=tn(v),$.c(),D($,1),$.m(f,null)):$&&(ae(),I($,1,1,()=>{$=null}),se())},i(v){p||(D(t.$$.fragment,v),D(_),D(o.$$.fragment,v),D($),p=!0)},o(v){I(t.$$.fragment,v),I(_),I(o.$$.fragment,v),I($),p=!1},d(v){v&&y(e),M(t),_&&_.d(),M(o),$&&$.d()}}}function Ho(n,e,a){let t,s;function r(c){t=c,a(0,t)}function l(c){s=c,a(1,s)}return[t,s,r,l]}class Eo extends X{constructor(e){super(),G(this,e,Ho,To,Y,{})}}function nn(n,e,a){const t=n.slice();return t[3]=e[a],t}function an(n){let e,a=n[3]+"",t;return{c(){e=j("p"),t=K(a),i(e,"class",n[0])},m(s,r){C(s,e,r),w(e,t)},p(s,r){r&2&&a!==(a=s[3]+"")&&ee(t,a),r&1&&i(e,"class",s[0])},d(s){s&&y(e)}}}function Uo(n){let e,a=n[1],t=[];for(let s=0;s<a.length;s+=1)t[s]=an(nn(n,a,s));return{c(){for(let s=0;s<t.length;s+=1)t[s].c();e=Oe()},m(s,r){for(let l=0;l<t.length;l+=1)t[l].m(s,r);C(s,e,r)},p(s,[r]){if(r&3){a=s[1];let l;for(l=0;l<a.length;l+=1){const c=nn(s,a,l);t[l]?t[l].p(c,r):(t[l]=an(c),t[l].c(),t[l].m(e.parentNode,e))}for(;l<t.length;l+=1)t[l].d(1);t.length=a.length}},i:N,o:N,d(s){Me(t,s),s&&y(e)}}}function Wo(n,e,a){let{class:t=""}=e,{text:s}=e,r;return n.$$set=l=>{"class"in l&&a(0,t=l.class),"text"in l&&a(2,s=l.text)},n.$$.update=()=>{n.$$.dirty&4&&a(1,r=s.split(`
`))},[t,r,s]}class $t extends X{constructor(e){super(),G(this,e,Wo,Uo,Y,{class:0,text:2})}}function Po(n){let e,a,t,s,r;return{c(){e=j("a"),a=K(n[0]),i(e,"class",t=it(`cursor-pointer h-6
    ${n[1]?n[2]?"text-slate-200":"text-slate-400 hover:text-slate-300 focus:text-slate-200":"text-slate-200"}
    ${n[1]?"":"shadow"}`)+" svelte-ypn10y")},m(l,c){C(l,e,c),w(e,a),s||(r=[de(e,"click",n[3]),de(e,"mouseenter",n[4])],s=!0)},p(l,[c]){c&1&&ee(a,l[0]),c&6&&t!==(t=it(`cursor-pointer h-6
    ${l[1]?l[2]?"text-slate-200":"text-slate-400 hover:text-slate-300 focus:text-slate-200":"text-slate-200"}
    ${l[1]?"":"shadow"}`)+" svelte-ypn10y")&&i(e,"class",t)},i:N,o:N,d(l){l&&y(e),s=!1,Fe(r)}}}function Fo(n,e,a){let{key:t}=e,{name:s}=e,{seen:r}=e,{highlighted:l}=e;const c=Ce();function o(){c("dispatchClick",{key:t})}function d(){c("dispatchEnter",{key:t})}return n.$$set=h=>{"key"in h&&a(5,t=h.key),"name"in h&&a(0,s=h.name),"seen"in h&&a(1,r=h.seen),"highlighted"in h&&a(2,l=h.highlighted)},[s,r,l,o,d,t]}class Ve extends X{constructor(e){super(),G(this,e,Fo,Po,Y,{key:5,name:0,seen:1,highlighted:2})}}function sn(n,e,a){const t=n.slice();return t[42]=e[a],t}function ln(n,e,a){const t=n.slice();return t[45]=e[a],t}function rn(n,e,a){const t=n.slice();return t[48]=e[a],t}function on(n,e,a){const t=n.slice();return t[51]=e[a],t}function cn(n,e,a){const t=n.slice();return t[54]=e[a],t[56]=a,t}function Vo(n){let e,a,t;return a=new le({props:{class:"w-1/2",$$slots:{content:[Xo]},$$scope:{ctx:n}}}),{c(){e=j("div"),O(a.$$.fragment),i(e,"class","flex flex-col items-center justify-center space-x-2 w-full")},m(s,r){C(s,e,r),S(a,e,null),t=!0},p(s,r){const l={};r[0]&4|r[1]&67108864&&(l.$$scope={dirty:r,ctx:s}),a.$set(l)},i(s){t||(D(a.$$.fragment,s),t=!0)},o(s){I(a.$$.fragment,s),t=!1},d(s){s&&y(e),M(a)}}}function Jo(n){let e,a,t,s,r,l,c,o,d,h,f,p,m,g,_,u;e=new le({props:{class:"w-1/4 h-full",$$slots:{content:[Ko]},$$scope:{ctx:n}}}),s=new le({props:{$$slots:{content:[Qo]},$$scope:{ctx:n}}}),l=new le({props:{$$slots:{content:[Zo]},$$scope:{ctx:n}}}),o=new le({props:{class:"grow min-h-0",contentClass:"scrollbar-thin scrollbar-thumb-slate-600 hover:scrollbar-thumb-rounded overflow-x-hidden",$$slots:{content:[ni]},$$scope:{ctx:n}}}),f=new le({props:{$$slots:{content:[ai]},$$scope:{ctx:n}}}),m=new le({props:{$$slots:{content:[li],header:[si]},$$scope:{ctx:n}}});let b=n[2].dialogText!==void 0&&$n(n);return{c(){O(e.$$.fragment),a=x(),t=j("div"),O(s.$$.fragment),r=x(),O(l.$$.fragment),c=x(),O(o.$$.fragment),d=x(),h=j("div"),O(f.$$.fragment),p=x(),O(m.$$.fragment),g=x(),_=j("div"),b&&b.c(),i(t,"class","flex flex-col space-y-4 h-full"),ve(t,"width","30%"),i(_,"class","grow flex flex-col items-center justify-center h-full"),i(h,"class","grow flex flex-col h-full space-y-4")},m($,v){S(e,$,v),C($,a,v),C($,t,v),S(s,t,null),w(t,r),S(l,t,null),w(t,c),S(o,t,null),C($,d,v),C($,h,v),S(f,h,null),w(h,p),S(m,h,null),w(h,g),w(h,_),b&&b.m(_,null),u=!0},p($,v){const B={};v[0]&4|v[1]&67108864&&(B.$$scope={dirty:v,ctx:$}),e.$set(B);const R={};v[0]&29|v[1]&67108864&&(R.$$scope={dirty:v,ctx:$}),s.$set(R);const k={};v[0]&4|v[1]&67108864&&(k.$$scope={dirty:v,ctx:$}),l.$set(k);const z={};v[0]&6|v[1]&67108864&&(z.$$scope={dirty:v,ctx:$}),o.$set(z);const P={};v[0]&4|v[1]&67108864&&(P.$$scope={dirty:v,ctx:$}),f.$set(P);const Z={};v[0]&4|v[1]&67108864&&(Z.$$scope={dirty:v,ctx:$}),m.$set(Z),$[2].dialogText!==void 0?b?(b.p($,v),v[0]&4&&D(b,1)):(b=$n($),b.c(),D(b,1),b.m(_,null)):b&&(ae(),I(b,1,1,()=>{b=null}),se())},i($){u||(D(e.$$.fragment,$),D(s.$$.fragment,$),D(l.$$.fragment,$),D(o.$$.fragment,$),D(f.$$.fragment,$),D(m.$$.fragment,$),D(b),u=!0)},o($){I(e.$$.fragment,$),I(s.$$.fragment,$),I(l.$$.fragment,$),I(o.$$.fragment,$),I(f.$$.fragment,$),I(m.$$.fragment,$),I(b),u=!1},d($){M(e,$),$&&y(a),$&&y(t),M(s),M(l),M(o),$&&y(d),$&&y(h),M(f),M(m),b&&b.d()}}}function dn(n){let e,a;return{c(){e=j("img"),i(e,"class","object-contain w-full"),Re(e.src,a=n[5].storage.states.data[n[2].currentStateID].imageB64)||i(e,"src",a)},m(t,s){C(t,e,s)},p(t,s){s[0]&36&&!Re(e.src,a=t[5].storage.states.data[t[2].currentStateID].imageB64)&&i(e,"src",a)},d(t){t&&y(e)}}}function fn(n){let e,a=n[5].storage.states.data[n[2].currentStateID].args[0]+"",t;return{c(){e=j("p"),t=K(a),i(e,"class","text-center font-bold text-slate-300 text-lg")},m(s,r){C(s,e,r),w(e,t)},p(s,r){r[0]&4&&a!==(a=s[5].storage.states.data[s[2].currentStateID].args[0]+"")&&ee(t,a)},d(s){s&&y(e)}}}function Yo(n){let e,a;return e=new F({props:{label:"Restart",onclick:n[8]}}),{c(){O(e.$$.fragment)},m(t,s){S(e,t,s),a=!0},p:N,i(t){a||(D(e.$$.fragment,t),a=!0)},o(t){I(e.$$.fragment,t),a=!1},d(t){M(e,t)}}}function Go(n){let e,a;return e=new F({props:{label:"Start",onclick:n[9]}}),{c(){O(e.$$.fragment)},m(t,s){S(e,t,s),a=!0},p:N,i(t){a||(D(e.$$.fragment,t),a=!0)},o(t){I(e.$$.fragment,t),a=!1},d(t){M(e,t)}}}function Xo(n){let e,a,t,s,r,l,c,o,d,h,f=n[5].storage.states.data[n[2].currentStateID].imageB64!==""&&dn(n);s=new $t({props:{class:"text-slate-400 text-center",text:n[5].storage.states.data[n[2].currentStateID].description}});let p=n[5].storage.states.data[n[2].currentStateID].type==="ending"&&fn(n);const m=[Go,Yo],g=[];function _(u,b){return u[5].storage.states.data[u[2].currentStateID].type==="opening"||u[5].storage.states.data[u[2].currentStateID].type==="intermediate"?0:1}return o=_(n),d=g[o]=m[o](n),{c(){e=j("div"),f&&f.c(),a=x(),t=j("div"),O(s.$$.fragment),r=x(),p&&p.c(),l=x(),c=j("div"),d.c(),i(t,"class","flex flex-col space-y-2 w-full items-center"),i(c,"class","flex flex-row justify-center"),i(e,"class","flex flex-col space-y-4 w-full h-full")},m(u,b){C(u,e,b),f&&f.m(e,null),w(e,a),w(e,t),S(s,t,null),w(e,r),p&&p.m(e,null),w(e,l),w(e,c),g[o].m(c,null),h=!0},p(u,b){u[5].storage.states.data[u[2].currentStateID].imageB64!==""?f?f.p(u,b):(f=dn(u),f.c(),f.m(e,a)):f&&(f.d(1),f=null);const $={};b[0]&4&&($.text=u[5].storage.states.data[u[2].currentStateID].description),s.$set($),u[5].storage.states.data[u[2].currentStateID].type==="ending"?p?p.p(u,b):(p=fn(u),p.c(),p.m(e,l)):p&&(p.d(1),p=null);let v=o;o=_(u),o===v?g[o].p(u,b):(ae(),I(g[v],1,1,()=>{g[v]=null}),se(),d=g[o],d?d.p(u,b):(d=g[o]=m[o](u),d.c()),D(d,1),d.m(c,null))},i(u){h||(D(s.$$.fragment,u),D(d),h=!0)},o(u){I(s.$$.fragment,u),I(d),h=!1},d(u){u&&y(e),f&&f.d(),M(s),p&&p.d(),g[o].d()}}}function un(n){let e,a;return{c(){e=j("img"),i(e,"class","object-contain w-4/5"),Re(e.src,a=n[5].storage.states.data[n[2].currentStateID].imageB64)||i(e,"src",a)},m(t,s){C(t,e,s)},p(t,s){s[0]&36&&!Re(e.src,a=t[5].storage.states.data[t[2].currentStateID].imageB64)&&i(e,"src",a)},d(t){t&&y(e)}}}function gn(n){let e,a;return e=new Ve({props:{key:`${n[56]}`,name:`Hint ${n[56]+1}`,highlighted:!1,seen:!0}}),e.$on("dispatchClick",n[14]),{c(){O(e.$$.fragment)},m(t,s){S(e,t,s),a=!0},p:N,i(t){a||(D(e.$$.fragment,t),a=!0)},o(t){I(e.$$.fragment,t),a=!1},d(t){M(e,t)}}}function pn(n){let e,a,t=n[2].currentAttempts>=n[5].storage.states.data[n[2].currentStateID].hints[n[56]].attempts&&n[5].storage.states.data[n[2].currentStateID].hints[n[56]].attempts!==-1&&gn(n);return{c(){t&&t.c(),e=Oe()},m(s,r){t&&t.m(s,r),C(s,e,r),a=!0},p(s,r){s[2].currentAttempts>=s[5].storage.states.data[s[2].currentStateID].hints[s[56]].attempts&&s[5].storage.states.data[s[2].currentStateID].hints[s[56]].attempts!==-1?t?(t.p(s,r),r[0]&4&&D(t,1)):(t=gn(s),t.c(),D(t,1),t.m(e.parentNode,e)):t&&(ae(),I(t,1,1,()=>{t=null}),se())},i(s){a||(D(t),a=!0)},o(s){I(t),a=!1},d(s){t&&t.d(s),s&&y(e)}}}function Ko(n){let e,a,t,s,r,l,c,o,d,h=n[5].storage.states.data[n[2].currentStateID].imageB64!==""&&n[5].storage.states.data[n[2].currentStateID].imageB64!==void 0&&un(n);s=new $t({props:{class:"w-full",text:n[5].storage.states.data[n[2].currentStateID].description}});let f={length:3},p=[];for(let g=0;g<f.length;g+=1)p[g]=pn(cn(n,f,g));const m=g=>I(p[g],1,1,()=>{p[g]=null});return{c(){e=j("div"),a=j("div"),h&&h.c(),t=x(),O(s.$$.fragment),r=x(),l=j("div"),c=x(),o=j("div");for(let g=0;g<p.length;g+=1)p[g].c();i(a,"class","flex flex-col w-full space-y-4 items-center"),i(l,"class","grow"),i(o,"class","flex flex-col space-y-2"),i(e,"class","h-full flex flex-col items-start")},m(g,_){C(g,e,_),w(e,a),h&&h.m(a,null),w(a,t),S(s,a,null),w(e,r),w(e,l),w(e,c),w(e,o);for(let u=0;u<p.length;u+=1)p[u].m(o,null);d=!0},p(g,_){g[5].storage.states.data[g[2].currentStateID].imageB64!==""&&g[5].storage.states.data[g[2].currentStateID].imageB64!==void 0?h?h.p(g,_):(h=un(g),h.c(),h.m(a,t)):h&&(h.d(1),h=null);const u={};if(_[0]&4&&(u.text=g[5].storage.states.data[g[2].currentStateID].description),s.$set(u),_[0]&16420){f={length:3};let b;for(b=0;b<f.length;b+=1){const $=cn(g,f,b);p[b]?(p[b].p($,_),D(p[b],1)):(p[b]=pn($),p[b].c(),D(p[b],1),p[b].m(o,null))}for(ae(),b=f.length;b<p.length;b+=1)m(b);se()}},i(g){if(!d){D(s.$$.fragment,g);for(let _=0;_<f.length;_+=1)D(p[_]);d=!0}},o(g){I(s.$$.fragment,g),p=p.filter(Boolean);for(let _=0;_<p.length;_+=1)I(p[_]);d=!1},d(g){g&&y(e),h&&h.d(),M(s),Me(p,g)}}}function mn(n){let e,a,t,s,r,l,c;return{c(){e=j("img"),t=x(),s=j("canvas"),i(e,"class","absolute h-full w-full object-contain"),ve(e,"z-index","12"),Re(e.src,a=n[5].storage.states.data[n[2].currentStateID].locations.data[n[2].currentMinimapLocationID].minimapB64)||i(e,"src",a),i(s,"class","absolute h-full w-full"),ve(s,"z-index","14"),i(s,"width",n[3]),i(s,"height",n[4]),qe(()=>n[17].call(s))},m(o,d){C(o,e,d),C(o,t,d),C(o,s,d),n[16](s),r=Cn(s,n[17].bind(s)),l||(c=de(s,"click",n[10]),l=!0)},p(o,d){d[0]&36&&!Re(e.src,a=o[5].storage.states.data[o[2].currentStateID].locations.data[o[2].currentMinimapLocationID].minimapB64)&&i(e,"src",a),d[0]&8&&i(s,"width",o[3]),d[0]&16&&i(s,"height",o[4])},d(o){o&&y(e),o&&y(t),o&&y(s),n[16](null),r(),l=!1,c()}}}function Qo(n){let e,a=n[5].storage.states.data[n[2].currentStateID].locations.data[n[2].currentMinimapLocationID].minimapB64!==""&&n[5].storage.states.data[n[2].currentStateID].locations.data[n[2].currentMinimapLocationID].minimapB64!==void 0&&mn(n);return{c(){e=j("div"),a&&a.c(),i(e,"class","border border-slate-500 minimap-display svelte-i642mi")},m(t,s){C(t,e,s),a&&a.m(e,null)},p(t,s){t[5].storage.states.data[t[2].currentStateID].locations.data[t[2].currentMinimapLocationID].minimapB64!==""&&t[5].storage.states.data[t[2].currentStateID].locations.data[t[2].currentMinimapLocationID].minimapB64!==void 0?a?a.p(t,s):(a=mn(t),a.c(),a.m(e,null)):a&&(a.d(1),a=null)},d(t){t&&y(e),a&&a.d()}}}function bn(n){let e,a=n[51].name+"",t,s,r;return{c(){e=j("option"),t=K(a),s=x(),i(e,"class","text-slate-300"),e.__value=r=n[51].id,e.value=e.__value},m(l,c){C(l,e,c),w(e,t),w(e,s)},p(l,c){c[0]&4&&a!==(a=l[51].name+"")&&ee(t,a),c[0]&36&&r!==(r=l[51].id)&&(e.__value=r,e.value=e.__value)},d(l){l&&y(e)}}}function Zo(n){let e,a,t,s,r,l,c=n[5].storage.states.data[n[2].currentStateID].locations.ordering.map(n[18]),o=[];for(let d=0;d<c.length;d+=1)o[d]=bn(on(n,c,d));return{c(){e=j("div"),a=j("p"),a.textContent="Change Location",t=x(),s=j("select");for(let d=0;d<o.length;d+=1)o[d].c();i(a,"class",it("h-6 text-slate-400")+" svelte-i642mi"),i(s,"class",it(`rounded border border-slate-600 placeholder-slate-500 focus:outline-none focus:border-slate-600
                                text-slate-300 bg-slate-800
                                block w-1/2 pl-2 pr-2 pt-1 pb-1`)+" svelte-i642mi"),n[2].currentMinimapLocationID===void 0&&qe(()=>n[19].call(s)),i(e,"class","flex flex-row justify-between items-center")},m(d,h){C(d,e,h),w(e,a),w(e,t),w(e,s);for(let f=0;f<o.length;f+=1)o[f].m(s,null);ct(s,n[2].currentMinimapLocationID),r||(l=de(s,"change",n[19]),r=!0)},p(d,h){if(h[0]&36){c=d[5].storage.states.data[d[2].currentStateID].locations.ordering.map(d[18]);let f;for(f=0;f<c.length;f+=1){const p=on(d,c,f);o[f]?o[f].p(p,h):(o[f]=bn(p),o[f].c(),o[f].m(s,null))}for(;f<o.length;f+=1)o[f].d(1);o.length=c.length}h[0]&36&&ct(s,d[2].currentMinimapLocationID)},d(d){d&&y(e),Me(o,d),r=!1,l()}}}function ei(n){let e;return{c(){e=j("p")},m(a,t){C(a,e,t)},p:N,i:N,o:N,d(a){a&&y(e)}}}function ti(n){let e,a;function t(...s){return n[21](n[48],...s)}return e=new Ve({props:{key:n[1][n[48]][0],name:n[5].storage.restraints.data[n[1][n[48]][0]].name,highlighted:n[2].selectedComponentIDs.findIndex(t)!==-1,seen:n[2].seenInteractables.has(n[5].storage.restraints.data[n[1][n[48]][0]].id)}}),e.$on("dispatchClick",n[13]),e.$on("dispatchEnter",n[15]),{c(){O(e.$$.fragment)},m(s,r){S(e,s,r),a=!0},p(s,r){n=s;const l={};r[0]&2&&(l.key=n[1][n[48]][0]),r[0]&2&&(l.name=n[5].storage.restraints.data[n[1][n[48]][0]].name),r[0]&6&&(l.highlighted=n[2].selectedComponentIDs.findIndex(t)!==-1),r[0]&6&&(l.seen=n[2].seenInteractables.has(n[5].storage.restraints.data[n[1][n[48]][0]].id)),e.$set(l)},i(s){a||(D(e.$$.fragment,s),a=!0)},o(s){I(e.$$.fragment,s),a=!1},d(s){M(e,s)}}}function hn(n){let e,a,t,s,r,l,c;function o(...p){return n[20](n[48],...p)}a=new Ve({props:{key:n[5].data.restraintLocations.data[n[48]].id,name:n[5].data.restraintLocations.data[n[48]].name,highlighted:n[2].selectedComponentIDs.findIndex(o)!==-1,seen:!0}}),a.$on("dispatchClick",n[13]);const d=[ti,ei],h=[];function f(p,m){return p[1][p[48]]!==void 0?0:1}return s=f(n),r=h[s]=d[s](n),{c(){e=j("div"),O(a.$$.fragment),t=x(),r.c(),l=x(),i(e,"class","flex flex-row justify-between items-end")},m(p,m){C(p,e,m),S(a,e,null),w(e,t),h[s].m(e,null),w(e,l),c=!0},p(p,m){n=p;const g={};m[0]&4&&(g.highlighted=n[2].selectedComponentIDs.findIndex(o)!==-1),a.$set(g);let _=s;s=f(n),s===_?h[s].p(n,m):(ae(),I(h[_],1,1,()=>{h[_]=null}),se(),r=h[s],r?r.p(n,m):(r=h[s]=d[s](n),r.c()),D(r,1),r.m(e,l))},i(p){c||(D(a.$$.fragment,p),D(r),c=!0)},o(p){I(a.$$.fragment,p),I(r),c=!1},d(p){p&&y(e),M(a),h[s].d()}}}function ni(n){let e,a,t=n[5].data.restraintLocations.ordering,s=[];for(let l=0;l<t.length;l+=1)s[l]=hn(rn(n,t,l));const r=l=>I(s[l],1,1,()=>{s[l]=null});return{c(){e=j("div");for(let l=0;l<s.length;l+=1)s[l].c();i(e,"class","flex flex-col space-y-2 pl-2 pr-2 mr-2")},m(l,c){C(l,e,c);for(let o=0;o<s.length;o+=1)s[o].m(e,null);a=!0},p(l,c){if(c[0]&40998){t=l[5].data.restraintLocations.ordering;let o;for(o=0;o<t.length;o+=1){const d=rn(l,t,o);s[o]?(s[o].p(d,c),D(s[o],1)):(s[o]=hn(d),s[o].c(),D(s[o],1),s[o].m(e,null))}for(ae(),o=t.length;o<s.length;o+=1)r(o);se()}},i(l){if(!a){for(let c=0;c<t.length;c+=1)D(s[c]);a=!0}},o(l){s=s.filter(Boolean);for(let c=0;c<s.length;c+=1)I(s[c]);a=!1},d(l){l&&y(e),Me(s,l)}}}function _n(n){let e,a;return e=new Ve({props:{key:n[45],name:n[5].data.actions.data[n[45]].name,highlighted:n[2].selectedActionID===n[45],seen:!0}}),e.$on("dispatchClick",n[12]),{c(){O(e.$$.fragment)},m(t,s){S(e,t,s),a=!0},p(t,s){const r={};s[0]&4&&(r.highlighted=t[2].selectedActionID===t[45]),e.$set(r)},i(t){a||(D(e.$$.fragment,t),a=!0)},o(t){I(e.$$.fragment,t),a=!1},d(t){M(e,t)}}}function ai(n){let e,a,t,s;a=new Ve({props:{key:"examine",name:"Examine",highlighted:n[2].selectedActionID==="examine",seen:!0}}),a.$on("dispatchClick",n[12]);let r=n[5].data.actions.ordering,l=[];for(let o=0;o<r.length;o+=1)l[o]=_n(ln(n,r,o));const c=o=>I(l[o],1,1,()=>{l[o]=null});return{c(){e=j("div"),O(a.$$.fragment),t=x();for(let o=0;o<l.length;o+=1)l[o].c();i(e,"class","flex flex-row items-center space-x-6 pl-1 pr-1")},m(o,d){C(o,e,d),S(a,e,null),w(e,t);for(let h=0;h<l.length;h+=1)l[h].m(e,null);s=!0},p(o,d){const h={};if(d[0]&4&&(h.highlighted=o[2].selectedActionID==="examine"),a.$set(h),d[0]&4132){r=o[5].data.actions.ordering;let f;for(f=0;f<r.length;f+=1){const p=ln(o,r,f);l[f]?(l[f].p(p,d),D(l[f],1)):(l[f]=_n(p),l[f].c(),D(l[f],1),l[f].m(e,null))}for(ae(),f=r.length;f<l.length;f+=1)c(f);se()}},i(o){if(!s){D(a.$$.fragment,o);for(let d=0;d<r.length;d+=1)D(l[d]);s=!0}},o(o){I(a.$$.fragment,o),l=l.filter(Boolean);for(let d=0;d<l.length;d+=1)I(l[d]);s=!1},d(o){o&&y(e),M(a),Me(l,o)}}}function si(n){let e;return{c(){e=j("p"),e.textContent="Found Objects",i(e,"class","text-slate-300 text-xl")},m(a,t){C(a,e,t)},p:N,d(a){a&&y(e)}}}function wn(n){let e,a,t,s;function r(...l){return n[22](n[42],...l)}return a=new Ve({props:{key:n[42],name:n[5].storage.objects.data[n[42]].name,highlighted:n[2].selectedComponentIDs.findIndex(r)!==-1,seen:n[2].seenInteractables.has(n[5].storage.objects.data[n[42]].id)}}),a.$on("dispatchClick",n[13]),a.$on("dispatchEnter",n[15]),{c(){e=j("div"),O(a.$$.fragment),t=x(),i(e,"class","flex flex-col items-center justify-center w-full h-full")},m(l,c){C(l,e,c),S(a,e,null),w(e,t),s=!0},p(l,c){n=l;const o={};c[0]&4&&(o.key=n[42]),c[0]&4&&(o.name=n[5].storage.objects.data[n[42]].name),c[0]&4&&(o.highlighted=n[2].selectedComponentIDs.findIndex(r)!==-1),c[0]&4&&(o.seen=n[2].seenInteractables.has(n[5].storage.objects.data[n[42]].id)),a.$set(o)},i(l){s||(D(a.$$.fragment,l),s=!0)},o(l){I(a.$$.fragment,l),s=!1},d(l){l&&y(e),M(a)}}}function li(n){let e,a,t=n[2].revealedObjectIDs,s=[];for(let l=0;l<t.length;l+=1)s[l]=wn(sn(n,t,l));const r=l=>I(s[l],1,1,()=>{s[l]=null});return{c(){e=j("div");for(let l=0;l<s.length;l+=1)s[l].c();i(e,"class","grid-container pb-1.5 gap-1 svelte-i642mi")},m(l,c){C(l,e,c);for(let o=0;o<s.length;o+=1)s[o].m(e,null);a=!0},p(l,c){if(c[0]&40996){t=l[2].revealedObjectIDs;let o;for(o=0;o<t.length;o+=1){const d=sn(l,t,o);s[o]?(s[o].p(d,c),D(s[o],1)):(s[o]=wn(d),s[o].c(),D(s[o],1),s[o].m(e,null))}for(ae(),o=t.length;o<s.length;o+=1)r(o);se()}},i(l){if(!a){for(let c=0;c<t.length;c+=1)D(s[c]);a=!0}},o(l){s=s.filter(Boolean);for(let c=0;c<s.length;c+=1)I(s[c]);a=!1},d(l){l&&y(e),Me(s,l)}}}function $n(n){let e,a,t,s,r,l,c;return a=new $t({props:{text:n[2].dialogText}}),{c(){e=j("a"),O(a.$$.fragment),t=x(),s=j("p"),s.textContent="[ click to close dialog ]",i(s,"class","text-sm text-slate-500"),i(e,"class","max-w-lg bg-slate-800 rounded-lg space-y-4 p-4 text-center")},m(o,d){C(o,e,d),S(a,e,null),w(e,t),w(e,s),r=!0,l||(c=de(e,"click",n[11]),l=!0)},p(o,d){const h={};d[0]&4&&(h.text=o[2].dialogText),a.$set(h)},i(o){r||(D(a.$$.fragment,o),r=!0)},o(o){I(a.$$.fragment,o),r=!1},d(o){o&&y(e),M(a),l=!1,c()}}}function ri(n){let e,a,t,s;const r=[Jo,Vo],l=[];function c(o,d){return o[5].storage.states.data[o[2].currentStateID].type==="starting"||o[5].storage.states.data[o[2].currentStateID].type==="normal"?0:1}return a=c(n),t=l[a]=r[a](n),{c(){e=j("div"),t.c(),i(e,"class","flex flex-row items-stretch space-x-4 grow min-h-0 p-4 text-slate-400")},m(o,d){C(o,e,d),l[a].m(e,null),s=!0},p(o,d){let h=a;a=c(o),a===h?l[a].p(o,d):(ae(),I(l[h],1,1,()=>{l[h]=null}),se(),t=l[a],t?t.p(o,d):(t=l[a]=r[a](o),t.c()),D(t,1),t.m(e,null))},i(o){s||(D(t),s=!0)},o(o){I(t),s=!1},d(o){o&&y(e),l[a].d()}}}function oi(n,e,a){let t,s,r;ne(n,L,T=>a(25,r=T));const l=r;console.log("[RUN] Performing initialization...");const c=Object.entries(l.storage.states.data).filter(([T,W])=>W.type==="opening")[0][0],o=Object.entries(l.storage.states.data).filter(([T,W])=>W.type==="starting")[0][0],d=l.storage.states.data[c],h=l.storage.states.data[o];console.log(`[RUN] Found opening state: [${c} - ${d.title}]`),console.log(`[RUN] Found starting state: [${o} - ${h.title}]`);const f=l.storage.states.data[o].locations.ordering[0],p=l.data.restraintLocations.ordering.map(T=>l.data.restraintLocations.data[T]).map(T=>T.initial).filter(T=>T!=="");for(const T of p){const W=l.storage.restraints.data[T],A=l.data.restraintLocations.data[W.location];console.log(`[RUN] Found initial restraint: [${T} - ${W.devName}] @ [${A.id} - ${A.name}]`)}let m,g,_,u;const b={dialogText:void 0,selectedActionID:void 0,selectedComponentIDs:["",""],currentStateID:c,currentMinimapLocationID:f,currentRestraintIDs:p,revealedObjectIDs:[],currentAttempts:0,seenInteractables:new Set,flags:{}},$=Ke(JSON.parse(JSON.stringify(b)));ne(n,$,T=>a(2,t=T)),J($,t=b,t);const v=Ke([]);ne(n,v,T=>a(24,s=T)),window.gameData=l,window.runtimeStore=t,console.log("[RUN] Tip - reference $runtimeStore for debugging through window.runtimeStore"),console.log(window.runtimeStore);function B(){console.log("[RUN] Restarting game..."),J($,t=b,t)}function R(){console.log("[RUN] Starting game, transitioning to next opening / starting state...");const T=Object.entries(l.storage.states.data),W=T.findIndex(Q=>Q[0]===t.currentStateID),A=T[W+1][1];console.log(A),A!==void 0&&A.type==="intermediate"?J($,t.currentStateID=A.id,t):J($,t.currentStateID=Object.entries(l.storage.states.data).filter(([Q,te])=>te.type==="starting")[0][0],t)}let k={};function z(T){if(T===void 0)return;const W=m.getBoundingClientRect(),A=T.clientX-W.left,Q=T.clientY-W.top;console.log(`[RUN] handleMinimapClick - click coordinates (${A} / ${W.width}, ${Q} / ${W.height})`);for(const te of l.storage.states.data[t.currentStateID].locations.data[t.currentMinimapLocationID].minimapObjects.ordering.map(re=>l.storage.states.data[t.currentStateID].locations.data[t.currentMinimapLocationID].minimapObjects.data[re])){const re=new Path2D;if(te.type==="vector"&&te.args[0]!==void 0&&te.args[1]!==void 0)for(const[ge,we]of te.args){const He=Math.floor(ge*W.width),Ee=Math.floor(we*W.height);re.lineTo(He,Ee)}else if(te.args[1]!==void 0){const[[ge,we],[He,Ee]]=te.args,Je=Math.floor(ge*W.width),Ue=Math.floor(we*W.height),_e=Math.floor(He*W.width),et=Math.floor(Ee*W.height),Ln=Math.sqrt(Math.pow(Je-_e,2)+Math.pow(Ue-et,2));re.arc(Je,Ue,Ln,0,2*Math.PI)}if(g.isPointInPath(re,A,Q)){console.log(`[RUN] handleMinimapClick - found click location within minimap [${te.id} - ${te.devName}]`),te.object!==""&&P(te.object),te.dialog!==""&&V(te.dialog);return}}console.log("[RUN] handleMinimapClick - found no minimap objects at click location")}function P(T){const W=l.storage.objects.data[T];console.log(`[RUN] addFoundObject - [${T} - ${W.devName}]`),t.revealedObjectIDs.findIndex(A=>A===T)===-1&&(t.revealedObjectIDs.push(T),t.revealedObjectIDs.sort((A,Q)=>l.storage.objects.ordering.findIndex(te=>te===A)-l.storage.objects.ordering.findIndex(te=>te===Q)),$.set(t))}function Z(T){const W=l.storage.objects.data[T];console.log(`[RUN] hideObject - [${T} - ${W.devName}]`),J($,t.revealedObjectIDs=t.revealedObjectIDs.filter(A=>A!==T),t)}function ie(T){const W=l.storage.restraints.data[T];if(t.currentRestraintIDs.findIndex(A=>A===T)!==-1){console.log(`[RUN] addRestraint - already wearing [${T} - ${W.devName}], not adding`);return}console.log(`[RUN] addRestraint - [${T} - ${W.devName}]`),t.currentRestraintIDs.push(T),t.currentRestraintIDs.sort((A,Q)=>l.storage.restraints.ordering.findIndex(te=>te===A)-l.storage.restraints.ordering.findIndex(te=>te===Q)),$.set(t)}function fe(T){const W=l.storage.restraints.data[T];console.log(`[RUN] removeRestraint - [${T} - ${W.devName}]`),J($,t.currentRestraintIDs=t.currentRestraintIDs.filter(A=>A!==T),t)}function V(T){console.log(`[RUN] showDialog - displaying dialog [${T}]`),J($,t.dialogText=T,t)}function pe(){console.log("[RUN] hideDialog - hiding dialog text if shown"),J($,t.dialogText=void 0,t)}function ce(){console.log("[RUN] resetAttempts - resetting number of attempts to 0"),J($,t.currentAttempts=0,t)}function oe(){console.log("[RUN] backupRuntimeData - backing-up data for later undoing"),s.push(JSON.parse(JSON.stringify(t))),v.set(s)}function Ie(T){if(T===void 0)return;const W=T.detail.key;if(W!=="examine"){const A=l.data.actions.data[W];console.log(`[RUN] handleActionClick - [${W} - ${A.name}]`)}else console.log("[RUN] handleActionClick - [examine]");J($,t.selectedActionID=W===t.selectedActionID?void 0:W,t)}function Se(T,W,A){if(A!==Object.values(W.criteria.data).filter(te=>te.type==="exceededAttempts").length>0||A===!1&&(W.action!==t.selectedActionID||W.components[0]!==t.selectedComponentIDs[0]&&(T.order===!0||W.components[1]!==t.selectedComponentIDs[0])||W.components[1]!==t.selectedComponentIDs[1]&&(T.order===!0||W.components[0]!==t.selectedComponentIDs[1])))return!1;const Q=W.criteria.ordering.map(te=>{const re=W.criteria.data[te];let ge=!1;switch(re.type){case"flagEquals":ge=t.flags[re.args[0]]===re.args[1];break;case"flagNotEquals":ge=t.flags[re.args[0]]!==re.args[1];break;case"objectFound":ge=t.revealedObjectIDs.findIndex(we=>we===re.args[0])!==-1;break;case"objectNotFound":ge=t.revealedObjectIDs.findIndex(we=>we===re.args[0])===-1;break;case"restraintWearing":ge=t.currentRestraintIDs.findIndex(we=>we===re.args[0])!==-1;break;case"restraintNotWearing":ge=t.currentRestraintIDs.findIndex(we=>we===re.args[0])===-1;break;case"exceededAttempts":ge=A&&t.currentAttempts>=re.args[0],console.log(A&&t.currentAttempts>=re.args[0]);break}return ge}).every(te=>te===!0);return A===!0&&console.log(Q),Q}function je(T){for(const W of T.results.ordering){const A=T.results.data[W];switch(A.type){case"setFlag":J($,t.flags[A.args[0]]=A.args[1],t);break;case"setState":J($,t.currentStateID=A.args[0],t),J($,t.currentAttempts=0,t);break;case"popupDialog":V(A.args[0]);break;case"objectReveal":P(A.args[0]);break;case"objectHide":Z(A.args[0]);break;case"restraintAdd":ie(A.args[0]);break;case"restraintRemove":fe(A.args[0]);break;case"resetAttempts":ce()}}}function ye(T){if(t.selectedActionID===void 0||T===void 0)return;const W=T.detail.key;J($,t.selectedComponentIDs[t.selectedComponentIDs[0]===""?0:1]=W,t),$.set(t);const A=l.data.actions.data[t.selectedActionID];if(t.selectedActionID==="examine"&&t.selectedComponentIDs[0]!==void 0){if(l.data.restraintLocations.ordering.includes(t.selectedComponentIDs[0])===!1){const re=l.storage.objects.data[t.selectedComponentIDs[0]]?l.storage.objects.data[t.selectedComponentIDs[0]].examine:l.storage.restraints.data[t.selectedComponentIDs[0]]?l.storage.restraints.data[t.selectedComponentIDs[0]].examine:void 0;console.log(`[RUN] handleObjectClick - handling object/restraint examine action [${t.selectedComponentIDs[0]} - ${re}]`),V(re)}J($,t.selectedActionID=void 0,t),J($,t.selectedComponentIDs=["",""],t);return}let Q=!1,te=A.two===!1||t.selectedComponentIDs[0]!==""&&t.selectedComponentIDs[1]!=="";for(const re of l.storage.states.data[t.currentStateID].interactions.ordering){const ge=l.storage.states.data[t.currentStateID].interactions.data[re];if(Se(A,ge,!1)!==!1&&(console.log(`[RUN] handleObjectClick - criteria(s) passed (attempts = false), executing interaction [${re} - ${ge.devName}]`),Q=!0,te=!0,oe(),je(ge),Q===!0)){J($,t.selectedActionID=void 0,t),J($,t.selectedComponentIDs=["",""],t);break}}if(Q===!1&&console.log("[RUN] handleObjectClick - found no interactions matching all criteria"),Q===!1&&te===!0){J($,t.currentAttempts++,t);for(const re of l.storage.states.data[t.currentStateID].interactions.ordering){const ge=l.storage.states.data[t.currentStateID].interactions.data[re];if(Se(A,ge,!0)!==!1){console.log(`[RUN] handleObjectClick - criteria(s) passed (attempts = true), executing interaction [${re} - ${ge.devName}]`),je(ge);break}}console.log("[RUN] handleObjectClick - clearing since no interaction found"),J($,t.dialogText="You can't do that!",t),J($,t.selectedActionID=void 0,t),J($,t.selectedComponentIDs=["",""],t)}}function ke(T){if(T===void 0)return;const W=parseInt(T.detail.key),A=`Hint: ${l.storage.states.data[t.currentStateID].hints[W].text}`;console.log(`[RUN] handleHintClick - displaying hint text (as dialog) [${W} - ${A}]`),J($,t.dialogText=A,t)}function De(T){if(T===void 0)return;const W=T.detail.key;t.seenInteractables.add(W),$.set(t)}function Le(T){H[T?"unshift":"push"](()=>{m=T,a(0,m)})}function Ne(){_=this.clientWidth,u=this.clientHeight,a(3,_),a(4,u)}const Te=T=>l.storage.states.data[t.currentStateID].locations.data[T];function Be(){t.currentMinimapLocationID=yn(this),$.set(t),a(5,l)}const ue=(T,W)=>W===l.data.restraintLocations.data[T].id,dt=(T,W)=>W===k[T][0],Ze=(T,W)=>W===T;return n.$$.update=()=>{if(n.$$.dirty[0]&1&&m&&(g=m.getContext("2d")),n.$$.dirty[0]&6){t.currentRestraintIDs,a(1,k={});for(const T of t.currentRestraintIDs){const W=l.storage.restraints.data[T];a(1,k[W.location]=[W.id,W.name],k)}a(1,k),a(2,t)}},[m,k,t,_,u,l,$,v,B,R,z,pe,Ie,ye,ke,De,Le,Ne,Te,Be,ue,dt,Ze]}class ii extends X{constructor(e){super(),G(this,e,oi,ri,Y,{},null,[-1,-1])}}function ci(n){let e,a,t,s;function r(o){n[8](o)}function l(o){n[9](o)}let c={navigationData:n[4]};return n[0]!==void 0&&(c.selectedWindow=n[0]),n[1]!==void 0&&(c.navigateTab=n[1]),e=new da({props:c}),H.push(()=>U(e,"selectedWindow",r)),H.push(()=>U(e,"navigateTab",l)),{c(){O(e.$$.fragment)},m(o,d){S(e,o,d),s=!0},p(o,d){const h={};!a&&d&1&&(a=!0,h.selectedWindow=o[0],E(()=>a=!1)),!t&&d&2&&(t=!0,h.navigateTab=o[1],E(()=>t=!1)),e.$set(h)},i(o){s||(D(e.$$.fragment,o),s=!0)},o(o){I(e.$$.fragment,o),s=!1},d(o){M(e,o)}}}function di(n){let e,a;return e=new ii({}),{c(){O(e.$$.fragment)},m(t,s){S(e,t,s),a=!0},p:N,i(t){a||(D(e.$$.fragment,t),a=!0)},o(t){I(e.$$.fragment,t),a=!1},d(t){M(e,t)}}}function fi(n){let e,a,t,s,r,l,c,o;function d(_){n[6](_)}function h(_){n[7](_)}let f={navigationData:n[4],navigationClickHandler:n[5]};n[0]!==void 0&&(f.selectedWindow=n[0]),n[2]!==void 0&&(f.show=n[2]),a=new oa({props:f}),H.push(()=>U(a,"selectedWindow",d)),H.push(()=>U(a,"show",h));const p=[di,ci],m=[];function g(_,u){return _[3]===!0?0:_[2]===!0?1:-1}return~(l=g(n))&&(c=m[l]=p[l](n)),{c(){e=j("div"),O(a.$$.fragment),r=x(),c&&c.c(),i(e,"class","absolute inset-0 flex flex-col h-full w-full")},m(_,u){C(_,e,u),S(a,e,null),w(e,r),~l&&m[l].m(e,null),o=!0},p(_,[u]){const b={};!t&&u&1&&(t=!0,b.selectedWindow=_[0],E(()=>t=!1)),!s&&u&4&&(s=!0,b.show=_[2],E(()=>s=!1)),a.$set(b);let $=l;l=g(_),l===$?~l&&m[l].p(_,u):(c&&(ae(),I(m[$],1,1,()=>{m[$]=null}),se()),~l?(c=m[l],c?c.p(_,u):(c=m[l]=p[l](_),c.c()),D(c,1),c.m(e,null)):c=null)},i(_){o||(D(a.$$.fragment,_),D(c),o=!0)},o(_){I(a.$$.fragment,_),I(c),o=!1},d(_){_&&y(e),M(a),~l&&m[l].d()}}}function ui(n,e,a){let t;ne(n,ot,m=>a(3,t=m));const s={information:{display:"Information",component:Ja},states:{display:"States",component:ys},restraints:{display:"Restraints",component:Eo},objects:{display:"Objects",component:ir},interactions:{display:"Interactions",component:El},minimap:{display:"Minimap",component:no}};let r=Object.keys(s)[0],l;const c=m=>{l(m)};let o=!0;function d(m){r=m,a(0,r)}function h(m){o=m,a(2,o)}function f(m){r=m,a(0,r)}function p(m){l=m,a(1,l)}return[r,l,o,t,s,c,d,h,f,p]}class gi extends X{constructor(e){super(),G(this,e,ui,fi,Y,{})}}new gi({target:document.getElementById("app")});
